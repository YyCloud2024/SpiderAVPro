//	Playerjs.com 20.6.2
//	08.07.2025 20:39:12
//	API - https://playerjs.com/docs/q=api

eval(function (p, a, c, k, e, d) { e = function (c) { return (c < a ? '' : e(parseInt(c / a))) + ((c = c % a) > 35 ? String.fromCharCode(c + 29) : c.toString(36)) }; if (!''.replace(/^/, String)) { while (c--) { d[e(c)] = k[c] || e(c) } k = [function (e) { return d[e] }]; e = function () { return '\\w+' }; c = 1 }; while (c--) { if (k[c]) { p = p.replace(new RegExp('\\b' + e(c) + '\\b', 'g'), k[c]) } } return p }('if(!1A.5d){1A.5d=[];1A.fc}if(1A[\'EH\']){1w(EH,1)};E Cs(2G){B o={1t:J,m8:[],ul:[],ds:J,lA:\'PA\',Pz:BY,Px:C7,8P:\'20.6.2\',hK:[\'8D\',\'\'],lO:\'\',1Z:J,8g:J,9q:J,Pu:J,dN:J,5A:J,9s:J,9W:J,u:\'#Pt#Ps#Pq#dE#AF#Po#PC#dE#PS#PQ#PM#PF#dE#AF#PH#OU#OV#OW#P1#OM#dE#Pi#Pg#Pe#QJ#QB#Qy#dE#QE#dE#QX#QT#QS#QP#Qd#Q5#Q9#Qa#Qe#Qj#N6#dE#N7#N8#N9#Na/Nc#Ne#Nf=\',u2:\'\',u3:\'\',u4:\'\',u5:\'\',u6:\'\',u7:\'\',u8:\'\',u9:\'\',N2:\'\',y:\'xx?xx?=\',p:\'\',Ng:-1,yP:"AH",gr:"//AH.aD",7P:[],dt:H,pr:H,ga:J,ab:J,iu:[],Ni:J,e1:\'//.9Q//\',xE:0,2r:[],6k:[],a6:[],3c:[],pb:[],a4:0,8L:[],ng:0,vN:J,6i:J,1z:J,A4:J,8p:J,ni:\'<AQ>\',jd:\'</AQ>\',96:1A.bA.X<2i&&1A.bA.1b<2i,ue:[],Nl:[],6a:{\'1K\':1,\'Nm\':1,\'f8\':1,\'fU\':1,\'se\':0},aJ:[],yM:0,f3:0,5L:J,4X:J,gq:J,rk:J,Nn:[],mp:[],bQ:J,cN:0,jt:J,rM:1F,iW:1F,t9:J,AU:E(x){B a;I a},Np:0,rc:4r,4L:J,f5:J,xP:22.xP,d:8W.wN,kS:8W.wN,9H:8W.9H,iL:8W.9H.K("iL")==0,Nq:{},zi:\'N0-AT.aD/AT.js\',fd:["AU","AX"],6f:[],Nt:[],Nv:[],io:1,my:[],AX:E(x,y,z){B a;I a},18:0,nv:0,5l:J,dk:-1,ak:3,MZ:0,sQ:0,aH:0,3I:{x:1,y:1,x0:1,y0:1},d6:["i4","i5","ic","pw","pE","pe","xO","pd","eF","eo","wY","xd"],ql:["ME","MF","MG","ML"],eR:0,MM:0,uS:0,De:0,eP:0,DL:[],bE:[\'7t\',\'eB\',\'mb\',\'6Q\'],MN:[],nq:H,np:[],qW:0,ws:"w"+"s",ds:J,gH:[J,J,J]};B fM={R:{w:20,h:20,1e:"-",MQ:"-",a:1,7J:-1,1o:"3y",1I:"",1K:1,fY:-1,bu:0,2y:1,1r:"",1D:"",3Q:"MT",cW:12,iI:0,1q:"Q",2M:"0 3 0 3",9Y:"0 0 0 0",2o:1,kg:"0 0 0 0",MW:0,lE:1,bg:0,qO:0,Ko:0,4v:1,7n:-1,4B:"3Y",8O:-1,fA:"0 0 0 0",lH:-1,lG:"3y",a3:-1,qX:-1,6m:"1O",4c:"zB",2y:0,lq:"3Y",ly:0.7,xu:0,xY:"3y",kr:"3 5 3 5",MR:"0 0 0 0",MH:1,xT:"p3-p0",xz:11,xr:0,2S:"",JH:5,J5:0,3b:0,MX:2,MV:2,Jl:0.2,Jd:0,Jb:0.1,am:0,MD:"Nx",Nr:1,Nz:5,Ji:"3Y",Mf:"3y",Jc:"3y",Jh:1,KF:1,zM:1,7h:0,3w:0,fi:20,fh:"<2l X=\'20\' 1b=\'20\'><g><fG ry=\'5\' rx=\'5\' cy=\'10\' cx=\'10\' 6q=\'#hQ\'/></g></2l>",wI:1,pk:-1,kT:0,qd:1,zl:-1,Op:0.1,ew:0,3f:"",Hp:0,Ih:"zB",3B:"",I5:B5,I3:B5,JB:0,5r:0,5n:"3y",Jr:0,Jp:"3Y",J7:9,z4:"0 0 10 0",A3:"0 0 0 0",JC:0}};E Kk(){I H;o.Kd=H}E cJ(s){if(s.K(\'.\')==-1){s=s.1i(1);s2=\'\';U(i=0;i<s.S;i+=3){s2+=\'%u0\'+s.59(i,i+3)}s=Oo(s2)}I s};E JV(){if(o.u!=\'\'){v=cM(v,5E.7m(hB(o.u)))}if(2G.K("#"+v.aQ)==0){2X{2G=5E.7m(o[o.fd[0]](2G))}2D(e){}}F{if(2G.K("#"+v.c9)==0){2X{2G=5E.7m(o[o.fd[1]](2G))}2D(e){}}}}E 8n(x,y){}E ox(y,1d){}B uo=E(){B 9G=1U("29");o.1S.1Q(9G);O(9G,{\'1q\':\'2B\',\'19\':0,\'1c\':0,\'X\':\'100%\',\'1b\':30,\'2k-1o\':v.Av,\'1B\':v.BT,\'2g\':\'1O\'});B x=1U("29");o.1S.1Q(x);O(x,{\'1q\':\'2B\',\'19\':0,\'1c\':0,\'X\':\'100%\',\'1o\':v.Aw,\'3Q-3J\':v.Cq,\'2O\':(v.B9+\'px \'+v.BZ+\'px\'),\'2g\':\'1O\'});G.9Q=E(1D,n){x.1P=1D;5i(x);O(9G,{\'1b\':x.2Q,\'2g\':\'4q\'});9G.C.4T="Om";U(B i=0;i<x.9i(\'a\').S;i++){x.9i(\'a\')[i].C.1o=\'#hQ\'}if(n){1w(G.p1,2i*n)}x.C.4T="Ol"};G.p1=E(){3a(x);3a(9G)}};E kj(x){x==1?o.1L.1Q(o.1S):\'\'};B v={1m:0,yK:0,oP:"#3Y",2K:0,zC:1,8F:"#3Y",4B:"#3y",7h:0,eu:1,r6:1,3k:0,ty:1,eC:0,yX:1,1p:{Ok:0,1o:"3Y",a:"0.4",h:34,lT:1,1j:1,je:1,e8:0,iJ:3,8i:0,rG:3,6m:"1O",1q:"2N",2M:"0 0 0 0",7h:0,ju:0,9A:\'\'},1N:{on:1,f:1,r:1,m:1,3K:5,xj:"3K",9r:1,xg:"1J",qA:0,GH:0,vW:1,jo:0.2},W:{4B:"3Y",8O:"pf",4v:0.9,7n:-1,1q:"19",2M:"0 0 0 0",2O:"7 15 7 15",1o:"3y",3Q:"B6, Aq, p3-p0",cW:12,5B:10,iI:0,5n:"Ap",xi:1,8F:"Oh",a:1,7J:-1,Og:0,Oc:100,Ob:Oq,Oi:1,lm:1,zt:"OB",qF:"3Y",lD:-1,OH:-1,yW:0,sT:3,fZ:16,Ft:"OG",7h:0,kX:1,lZ:1,lX:"3y",vv:0,vs:"3Y",Fb:1,Fc:0,Ff:"pf",oK:0,kA:4r,di:0,7c:0,I1:0,I0:0,f7:1,3F:0,lj:50,v9:0,oF:1,dA:OF,pz:0,rK:"pf",sX:"0 0 0 0",rr:30,8F:"Ao"},1f:{4B:"3Y",8O:"OD",4v:0.7,7n:-1,3Q:"B6, Aq, p3-p0",1q:"2N-2q",2M:"0 0 0 0",2O:"7 10 7 15",1o:"3y",cW:12,fZ:16,5B:10,iI:0,OC:"3y",5n:"Ap",a:1,1K:5,7J:-1,z5:1,sT:3,kX:1,lZ:1,lX:"3y",oK:0,kA:4r,7h:0,Ot:1,Ou:"4Y",4R:1,NQ:"7b",NB:1,NG:"1X",NJ:0,NK:"7a",NL:0,NP:"5m",rr:30,8F:"Ao"},O4:{1q:"2N-2q",2M:"0 10 50 0"},1J:0.8,tF:1,mM:1,9E:0,5X:0,E8:1,5z:0,4Q:0,LO:0,LM:0,3m:0,u1:1,n4:0,yq:0,ya:0,iN:\',\',qL:\';\',fe:\'//\',rY:1,ip:\'[\',fg:\']\',gI:\'6q\',oG:1,oI:-1,tf:0,O3:\'20 0 0 20\',O1:\'1c-19\',NV:100,NU:100,Qg:-1,tz:0,EC:1,Av:"nX",Aw:"3y",B9:5,BZ:10,BT:1,Cq:10,ng:0,A7:1,wR:1,gT:1,5b:\'Ud\',te:0,gh:\'5O\',aj:1,LH:0,M6:0,L3:0,9x:1,cH:1,M1:5,6S:0,Dh:1,pP:0,tB:5,Uu:0,Us:0,Ur:0,qx:1,Bp:1,L5:0,D7:0,Uq:0,rN:1,po:0,3o:"Co",Um:Kw,nz:\'100%\',ga:0,Bu:{8K:1,2x:0,o1:0,4z:0,1t:1,zu:0,zo:0,zn:0,Uh:0,Ug:0,TE:0},Bn:{8K:1,2x:0,o1:0,4z:0,1t:1,zu:0,zo:0,zn:0},TU:100,sr:1,hZ:1,mK:14,i4:\'100%\',Ef:1,mC:20,Ex:1,pE:0.7,Ec:2,yd:3,eF:10,i5:"3y",ic:"EY",pw:"3Y",pe:0,xO:0,pd:cP,tm:1,eo:0,wx:1,9k:1,TC:1,To:0.3,TD:3,TR:4,TQ:5,TP:0,TM:TH,Vh:IE,Cz:0,CA:1,zO:1,h7:1,Gl:1,wJ:0,Ky:Vf,Ku:90,Kq:0,Kp:1,KG:"pf",Kt:0,KR:1,aQ:\'2\',c9:\'3\',Vc:10,Vb:1,Vq:1,Vp:-1,UB:1,UD:1,UE:-1,UG:0,UJ:1,UL:0,UO:1,V1:0,UW:1,UT:0,US:1,Tk:0,RH:1,RI:0,RO:1,RP:0,tH:1,RT:0,RF:0,S4:1,Sa:0,S5:1,S3:"#3y",S0:"#3Y",RZ:"#3Y",RX:"#3y",RV:"#3Y",R8:"#3y",Rb:"#3Y",Rd:"#3y",Re:"#3Y",Rg:"#3y",Rh:"#3Y",Ri:"#3y",Rk:1,R6:0,RA:1,Rz:0.5,Rx:"#3y",Rw:"#3Y",Ru:1,Rn:1,Rt:1,Rs:1,Rq:1,Rp:10,Ro:-1,SM:1,SS:1,SV:0,om:0,T3:"or",Ti:"or",Tf:"or",Tb:"or",T9:"50%",T8:-1,T4:0,Su:-1,Sg:0,Sh:0,GU:1,GW:0,Sj:30,Sl:2,AK:10,E6:0,Sn:30,Lq:1,Lr:1,6h:0,2f:{on:0,4B:"3Y",2K:0,ar:2,8F:"3Y",1q:"19",2M:"20 0 0 20",X:Aj,1j:0}};v.a7="zh";B 9K=E(is){B i;B C=[];B f=[];B ac=[];B Sr=[];B 6g=[];B 8Y=[];B 1M=[];B f2=[];B h6=[];B Ss=[];B 5e=[];B 5I=[];B 5y=[];B e0=[];B cX=J;B 2m;B b7=-1;B 4P=H;B 1a=is;B 6u=is=="1f";B W;B 5X=[];B eV=[];B nj;B 3i=\'\';B e7=\'\';B 6A=-1;B lo;B gz=J;B St=J;B nS=J;B o0=J;B gs=J;B lR=J;B nV;B rz;B o4;B iJ;B ta;B l1=[];B 6D=[];B q5=0;B bU=0;B 6z;B 6s="2o";B aX=(o.1g.2e?"g5":"go");B aU=(o.1g.2e?"g7":"gw");C=cM(C,v[is]);C=4I(v[is],\'2M\',\'2M\');C=4I(v[is],\'9Y\',\'9Y\');C=4I(v[is],\'aZ\',\'aZ\');if(C.pz==0){C.sX="0 0 0 0"}C=4I(v[is],\'fA\',\'sX\');C=4I(v[is],\'2O\',\'2O\');B km=C.SI=="19";B 7j=C.sT;C.nA=0;B af=" X=\'"+7j*2+"\' 1b=\'"+(7j*2>C.5B?(7j*2):C.5B)+"\' 4h:4e=\'3T://4g.w3.47/7C/4e\' 4h=\'3T://4g.w3.47/4p/2l\'>";B AL="<2l X=\'"+7j*2+"\' 1b=\'"+C.5B+"\' 4h:4e=\'3T://4g.w3.47/7C/4e\' 4h=\'3T://4g.w3.47/4p/2l\' ><g><fG ry=\'"+(7j-1)+"\' rx=\'"+(7j-1)+"\' cy=\'"+(C.5B/2+2)+"\' cx=\'"+7j+"\' 3D=\'"+3r(C.5n)+"\' 3D=\'1\' 6q-1B=\'0\'/></g></2l>";B q7="<2l C=\'2M:"+(C.cW/2)+"px "+(km?\'-\'+C.oL:2h(C.SH,5))+"px 0 0\'"+af+"<fr 3D=\'"+3r(C.5n)+"\' 3D-X=\'"+(7j/2)+"\' 6q=\'1O\' 8r=\'-1 2.38 3.82 7.2 11 -1\'></fr></2l>";if(C.Sv==1){af=q7}F{af="<2l C=\'2M-1c:cS\'"+af+"<g><fG ry=\'"+(7j)+"\' rx=\'"+7j+"\' cy=\'"+(7j*2>C.5B?7j:(C.5B/2))+"\' cx=\'"+7j+"\' 6q=\'"+3r(C.5n)+"\'/></g></2l>"}B xx=4;B Fe="<53 C=\'2g:bC-4q;\'><2l X=\'"+(xx+2)+"\' 1b=\'"+(C.5B)+"\' 4h:4e=\'3T://4g.w3.47/7C/4e\' 4h=\'3T://4g.w3.47/4p/2l\'><g><2F x1=\'1\' y1=\'"+(C.5B/2-xx)+"\' x2=\'"+xx+"\' y2=\'"+(C.5B/2)+"\' 3D=\'#"+C.1o+"\' 3D-X=\'1\' 3D-dx=\'4a\'/><2F x1=\'"+xx+"\' y1=\'"+(C.5B/2)+"\' x2=\'1\' y2=\'"+(C.5B/2+xx)+"\' 3D=\'#"+C.1o+"\' 3D-X=\'1\' 3D-dx=\'4a\'/></g></2l></53>";B lU="<53 C=\'2g:bC-4q;\'><2l X=\'"+(xx+10)+"\' 1b=\'"+(C.5B+1)+"\' 4h:4e=\'3T://4g.w3.47/7C/4e\' 4h=\'3T://4g.w3.47/4p/2l\' C=\'kl:19\'><g><2F x1=\'1\' y1=\'"+(C.5B/2+2)+"\' x2=\'"+xx+"\' y2=\'"+(C.5B/2-xx+2)+"\' 3D=\'#"+C.1o+"\' 3D-X=\'1\' 3D-dx=\'4a\' /><2F x1=\'1\' y1=\'"+(C.5B/2+2)+"\' x2=\'"+xx+"\' y2=\'"+(C.5B/2+xx+2)+"\' 3D=\'#"+C.1o+"\' 3D-X=\'1\' 3D-dx=\'4a\'/></g></2l></53>";B 8F=4x(2h(C.8F,\'3y\'),2h(C.Fv,1));B 1L=1U("29");o.1S.1Q(1L);O(1L,{\'5J\':\'3b\',\'2g\':\'4q\',\'1B\':0,\'2K-6E\':C.7h});if(C.lH==1){O(1L,{"2K":"4w 6x "+3r(2h(C.lG,\'3y\'))})}B lw={};U(B i in o.6a){if(o.6a.2v(i)){lw[o.6a[i]]=-1}}if(6u){1L.C.4T=SB}F{1L.C.4T=SA}B Y=1U("29");if(o.96){C.Bf>0?C.cW=C.Bf:\'\';C.BE>0?C.dA=C.BE:\'\';C.BL>0?C.lj=C.BL:\'\'}O(Y,{\'1q\':\'eN\',\'1c\':0,\'19\':0,\'2g\':\'4q\',\'X\':\'100%\',\'2O-1c\':C.bz,\'2O-2q\':C.7k+(6u&&C.3F==1?0:20),\'2O-2N\':C.b8,\'2O-19\':C.6Y,\'1o\':C.1o,\'3Q-3J\':C.cW*2h(v.7A,1),\'3Q-er\':eq(C.3Q),\'lr-gt\':C.iI+\'px\'});if(o.1g.6W){O(Y,{\'91-X\':BG})}if(is!=="W"){O(Y,{\'5J-y\':(6u&&C.3F==1?\'3b\':\'6U\')})}1L.1Q(Y);if(C.3F!=1){B 6Z=1U("29");O(6Z,{\'2g\':\'4q\',\'5J\':\'3b\',\'2K-6E\':C.7h});if(C.3F!=1){if(o.1g.6W){O(6Z,{\'91-X\':BG})}}Y.1Q(6Z)}3V(Y,{id:(v.id+"3P"+is)});if(is=="W"){if(C.3F==1){O(Y,{\'X\':\'100%\',\'2O-2q\':C.7k,\'2O-2N\':C.b8+20,\'5J-x\':\'6U\',\'5J-y\':\'3b\',\'bK-9r\':\'eg\'});O(1L,{\'X\':o.2T-C.4u-C.4j,\'1b\':C.lj+C.bz+C.b8})}F{O(Y,{\'5J-y\':\'6U\',\'5J-x\':\'3b\'});if(C.CP==1){ny()}}if(C.pz==1){O(1L,{\'2k-1o\':C.rK})}if(v.W.2I==1){3a(1L)}}if(C.kX==1){B 6d=1U("29");B bx=4x(C.pz==1?C.rK:C.4B);if(C.3F==1){kM(6d,\'to 2q, 5p(\'+bx+\',\'+(C.4v*1+0.3)+\'), 5p(\'+bx+\',0)\',\'19\',12,5,7,10,7,10,12,15);6d.1v(6s,CY)}F{kM(6d,\'to 2N, 5p(\'+bx+\',\'+(C.4v*1+0.3)+\'), 5p(\'+bx+\',0)\',\'1c\',5,12,10,7,10,7,15,12);6d.1v(6s,E9)}B 6c=1U("29");if(C.3F==1){kM(6c,\'to 19, 5p(\'+bx+\',\'+(C.4v*1+0.3)+\'), 5p(\'+bx+\',0)\',\'2q\',8,5,13,10,13,10,8,15);6c.1v(6s,CX)}F{kM(6c,\'to 2N, 5p(\'+bx+\',0), 5p(\'+bx+\',\'+(C.4v*1+0.3)+\')\',\'2N\',5,8,10,13,10,13,15,8);6c.1v(6s,Dj)}6d.1v("go",kU);6d.1v("gw",kU);6c.1v("go",kU);6c.1v("gw",kU);Y.1v("jn",BH,{5H:J});6d.1v("as",b4);6c.1v("as",b4);1L.1Q(6d);1L.1Q(6c);43(rz);rz=7W(Fo,2i)}Y.1v(aX,Cr,{5H:J});Y.1v(aU,v6,{5H:J});if(v.W.6z>0&&!6z&&is=="W"){if(1H qk!=="1F"){6z=1u qk(J,v.W)}}if(6u){U(B i=1;i<15;i++){if(L(v["dq"+is][is+i])){v.1f[is+i]=v["dq"+is][is+i];if(L(v["dq"+is][is+i+"1G"])){v.1f[is+i+"1G"]=v["dq"+is][is+i+"1G"]}if(L(v["dq"+is][is+i+"1e"])){v.1f[is+i+"1e"]=v["dq"+is][is+i+"1e"]}}if(L(v.1f[is+i])){if(v.1f[is+i]==1){cu(\'f\',i);cG(f[i],ac[i],6g[i],8Y[i],i);B 5M=v.1f[is+i+"1e"];B 9z=v.1f[is+i+"1G"];if(!L(5M)){v.1f[is+i+"1e"]="5m"}if(5M){if(5M.K("3U")>-1&&9z){if(!v[\'6M\'+5M]){if(9z.K(":")>0){B mi=5M.59(-1);B dm=v[\'qG\'+mi];B k=4U(9z.1i(9z.K(":")+1)).2u(\',\');B ka=[];B kt;U(B j=0;j<k.S;j++){if(k[j].K("(*)")>-1){!L(dm)?dm=j:\'\';k[j]=k[j].1R("(*)",\'\')}kt=k[j].K("->2U:");ka[j]=\'\';if(kt>0){ka[j]=k[j].1i(kt+6);k[j]=k[j].1i(0,kt)}}o[\'6M\'+5M]=k;o[\'m\'+mi+\'3P\'+\'2U\']=ka;9z=v.1f[is+i+"1G"]=9z.1i(0,9z.K(":"))}F{o[\'6M\'+5M]=[];v.1f[is+i+"1G"]=9z}v[\'6M\'+5M]=1;o[\'kY\'+5M]=2h(dm,0)}}}6g[i].1P=2L(5M);if(1Y(9z)){6g[i].1P=9z}if(5M=="3d"){o.hm=H}1M[i]=5M;8q(i);if(1M[i]==\'e3\'){if(1H iB!=="1F"){!o.aG?o.aG=1u iB():\'\';if(L(1A.iE)){6g[i].1P=o.aG.lN();o.aG.Ch()}}}if(1M[i]in o.6a){lw[1M[i]]=i}f[i].1v(aX,6b,{5H:J});f[i].1v(aU,5u,{5H:J});f[i].1v(6s,8R);f[i].1v("as",b4);if(v.1f[is+i+"1j"]==1){O(f[i],{"1b":0})}}}}}E BH(x){if(is=="W"&&C.3F==1&&x){if(x.zb==0&&x.d0!=0){Y.bD-=x.d0;x.9a()}}43(o4);o4=7W(v6,l6);bJ()}E Cr(){o.3G=H}E v6(){if(C.hv==1){2C(o.hu);o.hu=1w(E(){if(!o.3G&&!o.nN){8I()}},(v.1f.hy>0?v.1f.hy*2i:(o.1g.tv?4p:2i)))}o.3G=J}E 6b(1d){if(o.1Z){o.5N?o.V.5N(J):\'\'}B i=1d.4c.6t(\'oC\');B x;if(i){x=\'f\'}F{if(1d.4c.6t(\'bT\')){i=1d.4c.6t(\'bT\');x=\'f2\'}}if(i){i=2R(i);B gK=J;if(L(2j(x)[i])){if(C.7n>-1){O(2j(x+\'bg\')[i],{\'1B\':C.7n})}if(1Y(C.a9)){O(2j(x+\'bg\')[i],{\'5w\':\'f8(\'+C.a9+\')\'})}if(C.7J>-1){O(2j(x+\'1G\')[i],{\'1B\':C.7J});O(2j(x+\'5r\')[i],{\'1B\':C.7J})}if(is=="W"){if(1M[i].K("W")==0){B id=1M[i].1i(8);if(3i==id||e7==id){O(2j(x+\'1G\')[i],{\'1o\':C.5n});O(2j(x+\'5r\')[i],{\'1o\':C.5n});gK=H}F{O(2j(x+\'1G\')[i],{\'1o\':C.1o})}}}if(C.kq==1&&L(C.cU)&&gK){}F{O(2j(x+\'bg\')[i],{\'7E\':C.8O})}}}};E 5u(1d){if(o.1Z){o.5N?o.V.5N(H):\'\'}B i=1d.4c.6t(\'oC\');B x;B gK=J;43(la);bJ();if(i){x=\'f\'}F{if(1d.4c.6t(\'bT\')){i=1d.4c.6t(\'bT\');x=\'f2\'}}if(i){if(L(2j(x)[i])){if(C.7n>-1){O(2j(x+\'bg\')[i],{\'1B\':C.4v})}if(1Y(C.a9)){O(2j(x+\'bg\')[i],{\'5w\':\'f8(1)\'})}if(C.7J>-1){O(2j(x+\'1G\')[i],{\'1B\':C.a});O(2j(x+\'5r\')[i],{\'1B\':C.a})}if(is=="W"){if(1M[i].K("W")==0){B id=1M[i].1i(8);if(3i==id||e7==id){O(2j(x+\'1G\')[i],{\'1o\':C.5n});O(2j(x+\'5r\')[i],{\'1o\':C.5n});gK=H}F{if(L(o.8L[id])){kP(i)}F{O(2j(x+\'1G\')[i],{\'1o\':C.1o})}}}}if(C.kq==1&&L(C.cU)&&gK){}F{O(2j(x+\'bg\')[i],{\'7E\':o.8L[id]?C.qF:C.4B})}}}}E 8R(1d){if(!gs){B d=1u 6N();o.an=d.9C();B i=1d.4c.6t(\'oC\');if(i){if(L(f[i])){if(L(1M[i])){if(is=="W"){o.2c=1F}5g(i,0)}}}lL()}}B vc;B la;E EN(1d){if(!gs){B i=1d.4c.6t(\'bT\');if(i){if(L(5y[i])){if(2m in o.6a){vc=i;la=7W(Be,4r)}}}}}E Be(){uN(vc)}E b4(1d){43(la);1d.6J=H;bJ()}E tl(1d){43(la);if(!gs){B d=1u 6N();o.an=d.9C();B i=1d.4c.6t(\'bT\');if(i){if(i==0){if(5y[0]==\'1o\'){cq();5g(q5)}F{dQ()}}F{if(L(5y[i])){uN(i)}}}}}E qr(1d){B x=1d.4c.6t(\'Ct\');if(x){ut(x)}}E Eg(1d){bJ();B i=1d.4c.6t(\'bT\');if(L(5y[i])){if(7R("=",i)>0){B x=5y[i].1i(0,7R("=",i));B y=5y[i].1i(7R("=",i)+1);B z=2m+\'EP\';if(!v[z]){v[z]=[]}if(!L(v[z][x])){v[z][x]=v[x]+\'\'}uu(x,y)}}};E uu(x,y){v[x]=y;if(o.5h&&v.tm==1&&x!="eo"){3A.8d("n7"+x,y)}if(o.5l&&o.3Z){o.3Z.a8()}o.V.jA();ut(x)}E Ee(1d){B i=1d.4c.6t(\'bT\');B x=5y[i];if(L(x)){if(x.K("=")>0){B z=x.1i(0,x.K("="));B y=x.1i(x.K("=")+1);v[z]=y;sU();8q(o[2m+\'ur\']);if(2m=="nO"){8n("Dc")}}}}E 8q(i){if(L(1M[i])){B bi=J;B 7V=J;B 5K=\'\';if(6u){if(1M[i]=="4Y"){5K=o.P.vd()}if(1M[i]=="7b"){5K=o.P.v3()}if(1M[i]=="3d"){5K=\' \';7V=H}if(1M[i].K("3U")>-1){if(o[\'6M\'+1M[i]]){if(o[\'6M\'+1M[i]].S>0){B t=o[\'kY\'+1M[i]];if(t!=-1){5K=o[\'6M\'+1M[i]][t]}7V=H}}}if(1M[i]=="dK"){if(o.7U){5K=o.pb[o.ST]}}if(1M[i]=="7b"||1M[i]=="dK"||1M[i]=="4Y"){if(o[\'6M\'+1M[i]].S==0){bi=H}F{if(o[\'6M\'+1M[i]].S==1&&(C.DO!=1||o[\'6M\'+1M[i]][0]==1)){bi=H}F{7V=H}}}if(1M[i]=="5A"){if(!o.5A){bi=H}F{7V=H}}if(1M[i]=="7a"){if(o.2w!=\'dR\'&&!v.7a){bi=H}F{7V=H}}if(1M[i]=="1X"){if(L(o.1W)){7V=H;if(o.4X||v.9k==1){if(o.3p){5K=o.3c[!o.4X?o.3p.7L():o.3u]}}F{5K=\'\'}B l5=0;U(B s=0;s<o.1W.S;s++){if(o.1W[s]!=\'\'){l5++}}if(l5==1&&o.lf==1){l5=0}if(v.rb==1&&v.rq==1){}F{if(l5==0){bi=H;7V=J}}}F{bi=H}}if(1M[i]=="5m"){5K=o.6f[o.ak];5K==1&&C.f4!=1?5K=2L(\'hV\'):\'\';7V=H;if(o.2w=="dv"||(o.P.6o()&&C.S6!=1)){bi=H;7V=J}}if(1M[i]in o.6a){5K=lv(1M[i]);7V=H}if(1M[i].K("8E")>0){B x=\' \';B y=[\'EQ\',\'ER\',\'EX\'];U(B z=0;z<y.S;z++){if(L(v[1M[i]+y[z]])){if(v[1M[i]+y[z]]!==\' \'){x+=(x!==\' \'?\':\':\'\')+v[1M[i]+y[z]]}}}5K=x!=\' 0:0\'&&x.K(":")>-1?x:\' \';o[1M[i]+\'7T\']=5K;7V=H}}8Y[i].1P=5K+\'&fF;\'+(5K!=\'\'&&C.RM!=1?\' <2l X="ls" 1b="JF" xB="-1 -1 5 8" 8P="1.1" 4h="3T://4g.w3.47/4p/2l" 4h:4e="3T://4g.w3.47/7C/4e"><fr 3D="\'+3r(C.5n)+\'" 3D-X="1" 6q="1O" 8r="0 0 3 3 0 6"></fr></2l>\':\'\');B Cl=6u&&b7!=-1;if(bi){1j(f[i]);if(6u){e0[i]?2C(e0[i]):\'\';if(o.Q){o.Q.im(i,J,5K)}F{e0[i]=1w(E(){o.Q.im(i,J,5K)},4r)}}O(f[i],{\'1q\':\'2B\',\'2q\':0,\'1c\':-100})}if(7V){if(Cl){}F{if(C.3F==1){O(f[i],{\'2g\':\'bC-4q\'})}F{1n(f[i])}}if(6u){e0[i]?2C(e0[i]):\'\';if(o.Q){o.Q.im(i,H,5K)}F{e0[i]=1w(E(){o.Q.im(i,H,5K)},4l)}}O(f[i],{\'1q\':\'eN\',\'2q\':0,\'1c\':0})}2n()}U(B j=1;j<f.S;j++){if(f[j]){if(5F(f[j])){B 4N=J;4P?4N=H:\'\';4P=J;4N&&o.Q?o.Q.4N():\'\'}}}};B vL=0;E 5g(i,Ay,fa){fa?1M[i]=fa:\'\';if(L(1M[i])){o.nN=H;bJ();B x=s6();if(6u){b7==-1?vL=x[0]:x[0]=vL}if(2m!=1M[i]){2m=1M[i];B vO=2m.K("3U")>-1;if(2m==\'4Y\'||2m==\'7b\'||2m==\'1X\'||2m==\'5m\'||vO||2m==\'dK\'||2m in o.6a||2m.K("8E")>0||2m==\'3d\'||2m==\'1o\'){b7=i;B z=l2(o[\'6M\'+2m]);if(2m=="Am"){if(C.vh==1){z=8n("Vk")}F{z=8n("Or")}}if(2m=="nO"){z=8n("Oe")}if(2m=="3d"&&o.3d){z=[];U(B j=1;j<=16;j++){if(L(v["3d"+j])){z.2Y(2L(v["3d"+j]));l1[z.S]=v["3d"+j]}}}if(2m=="1o"&&o.4L){z=[];q5=i;U(B j=0;j<o.ql.S;j++){B co=o.ql[j].1i(4);z.2Y(2L(co));6D[z.S]=co}}if(z.S==0&&vO){B ai=2m.59(-1);if(L(1A[\'oi\'+ai])){1A[\'oi\'+ai](v.id)}8I();I}B eI=o[\'kY\'+2m];B B3=o[\'MS\'+2m];U(B j=1;j<f.S;j++){if(f[j]){f[j].C.2g="1O"}}f2=[];cu(\'f2\',0);cG(f2[0],h6[0],5e[0],5I[0],0);O(f2[0],{"2K-2N":"4w 6x "+(C.ug==1?8F:"5p(100,100,100,0.7)")});bU=Ay;B pO=J;5e[0].1P=(x[0]<2||bU==1||C.uy==1?\'\':lU)+Fx(r8(v.1f[is+i+"1G"],2L(v.1f[is+i+"1e"])))+(o[1M[i]+\'7T\']?o[1M[i]+\'7T\']:\'\');if(2m==\'1X\'&&!o.y8){B kB=1U("29");kB.1P=2L("2G");O(kB,{\'1o\':C.1o,\'aL\':\'2A\',\'6R\':\'4C\'});5I[0].1Q(kB);kB.1v(6s,DY);pO=H}if(2m==\'1X\'&&v.rb==1&&!o.1g.tv&&L(1A.iE)){B uf=1U("29");!o.3p?o.3p=1u jB():\'\';uf.1P="<mx 1I=\'3j\' id=\'"+v.id+"AA\' CU=\'.w5,.w4,.kG\' C=\'2g:1O\'/>"+2L(\'Nb\');O(uf,{\'1o\':C.1o,\'aL\':\'2A\',\'6R\':\'4C\',\'2M-19\':(pO?\'eZ\':0)});5I[0].1Q(uf);o.hT=bL(v.id+"AA");o.hT.D1=o.3p.wq;uf.1v(6s,o.3p.wq)}if(pO){if(gz){if(bU==2){z=[];3a(f2[0])}U(j=0;j<o.d6.S;j++){if(v.mI==0&&o.d6[j]=="ic"){}F{z.2Y("Ts"+o.d6[j])}}}}O(5e[0],{\'3Q-3J\':C.fZ*2h(v.7A,1)});5y[0]="Pr";if(2m in o.6a){A0(2m);if(q5>0&&o.ql.K(\'PT\'+2m)>-1){5e[0].1P=lU+2L(2m);5y[0]="1o";5I[0].1P=lv(2m)}O(5I[0],{\'X\':C.5B*2.5,\'1D-8U\':\'2q\'})}if(bU!=1&&x[0]>1){f2[0].1v(aX,6b);f2[0].1v(aU,5u);f2[0].1v(6s,tl);f2[0].1v("as",b4)}F{O(f2[0],{"6R":\'7f\'})}if(C.rS==1){3a(f2[0])}if(L(z)){B zz=\'\';U(j=0;j<z.S;j++){B y=j+1;B fb=0;B 7e=J;if(z[j]&&4U(z[j])!=\'\'){if(2m==\'4Y\'){if(z[j]==2L("2A")){fb=1}if(o.2w=="1E"&&v.Qz==1){B iz=5v(z[j]);if(iz&&iz<zz){fb=2}zz=5v(z[j])}}cu(\'f2\',y,fb);cG(f2[y],h6[y],5e[y],5I[y],1M[i],i);if(2m==\'5m\'){z[j]==1&&C.f4!=1?z[j]=2L(\'hV\'):\'\'}if(1H(z[j])==\'4O\'){if(z[j].K("<<<")==0){z[j]=z[j].1R(\'<<<\',\'\');7e=H}if(z[j].K(\'8E\')>0){o[2m+\'ur\']=i}if(z[j].K("tK")==0){B 1C=z[j];if(1C.K("8E")>0){5e[y].1P=2L(z[j].1i(1C.K("8E")+5))}F{5e[y].1P=2L(z[j].1i(7))}if(z[j]==\'QV\'){nj=f2[y];O(f2[y],{"2K-1c":"4w 6x "+(C.ug==1?8F:"5p(100,100,100,0.7)")})}}F{5e[y].1P=z[j]}}F{5e[y].1P=z[j]}5y[y]=2m+j;if(eI==j||B3==j){5I[y].1P=eI==j?af:AL;if(eI==j){lK(y)}}if(1H(z[j])==\'4O\'){if(z[j].K("tK")==0){B t=z[j].1i(7);if(t.K("1o")>0){5I[y].1P="<29 C=\'"+(v[t]=="3Y"?\'2K:4w 6x #kL;1b:9h;X:9h;\':\'1b:eZ;X:eZ;\')+";2k-1o:"+(v[t].K("#")==-1?\'#\':\'\')+v[t]+";2K-6E:eZ;\'></29>"}F{if(L(v[z[j].1i(7)])){5I[y].1P=v[z[j].1i(7)]}}}if(2m=="3d"){if(L(l1[y])&&o.3d){5I[y].1P=o.3d.1r(l1[y],0.7,3r(C.5n))}}if(2m=="1o"){if(L(6D[y])&&o.4L){5I[y].1P=lv(6D[y])}}if(2m==\'4Y\'){if(z[j]==2L("2A")&&o.P.gJ()){C.5n==C.1o?5I[y].1P=af:\'\';lK(y)}if(1Y(v.cg)){B fq=v.cg.2u(",");U(B k=0;k<fq.S;k++){if(z[j].K(fq[k])>-1){3a(f2[y])}}}}}B tT="";if(1H(z[j])==\'4O\'){if(z[j].K("tK")==0){3V(f2[y],{\'OL\':i,\'Ct\':z[j].1i(7)});tT="qr"}}if(!7e){f2[y].1v(aX,6b);f2[y].1v(aU,5u);if(tT=="qr"){f2[y].1v(6s,qr)}F{f2[y].1v(6s,tl)}f2[y].1v("as",b4);f2[y].1v("HP",EN)}F{O(f2[y],{"6R":"7f"})}}}}El();2n()}if(1M[i]==\'7a\'){o.V.jl();2m=-1}if(1M[i]==\'e3\'&&L(o.aG)){o.aG.2H();2m=-1}if(1M[i].K(\'W\')>-1){B id=1M[i].1i(8);if(L(o.1y[id])){B fl=o.1y[id][\'3j\'];if(L(fl)){if(1M[i].K(\'W\')>-1){if(L(lo)){2m=-1;I}}if(fl.K(\'3K:\')==0){if(id.K(\'x\'+e7)!=0){o.2c=fl.1i(5);cm(id.1i(0,id.qa(\'-\'))+\'-0\');I}if(!o.1z){o.2c=fl.1i(5)}if(!o.1t){o.V.2z()}3l(\'3K\',fl.1i(5));v.W.7c==0&&v.W.f7==1?8I():\'\';I}dG(i);uc(id);8n("Fk");if(L(o.1y[id][\'7I\'])&&v.7I==1&&v.N3==1){7I(o.1y[id][\'7I\'])}F{nT(id);o.V.eT(fl,(v.W.k4==1?1:1F));v.W.7c==0&&v.W.f7==1?1w(8I,4r):\'\';nS=J;o0=J;nI(id);js("N5")}}F{if(L(o.1y[id][\'4W\'])){6y(id);if(nS){6A==-1?5g(0,0):\'\'}F if(o0){6A==-1?5g(2R(f.S)-2,0):\'\'}}}}if(o.2I){o.2I.8f()}}if(1M[i]==\'5A\'){o.P.hR()}}}};G.GO=E(x){8q(o[x+\'ur\'])};E ut(x){if(x=="xd"){E2();I}if(x=="wY"){B z=2m+\'EP\';if(v[z]){U(B y in v[z]){if(v[z].2v(y)){uu(y,v[z][y])}}gy()}I}bJ();U(B i=0;i<f2.S;i++){if(f2[i]){f2[i].C.2g="1O"}}f2=[];cu(\'f2\',0);cG(f2[0],h6[0],5e[0],5I[0],0);O(f2[0],{"2K-2N":"4w 6x "+(C.ug==1?8F:"5p(100,100,100,0.7)")});if(x.K("8E")>0){f2[0].1v(6s,sU);5e[0].1P=2L(x.1i(x.K("8E")+5))}F{f2[0].1v(6s,gy);5e[0].1P=(C.uy!=1?lU:\'\')+2L(x)}O(5e[0],{\'3Q-3J\':C.fZ*2h(v.7A,1)});f2[0].1v(aX,6b);f2[0].1v(aU,5u);f2[0].1v("as",b4);B 4F=[];B qM=J;if(x.K("3J")>0){4F=[\'50%\',\'75%\',\'100%\',\'125%\',\'Aj%\',\'Cc%\',\'4r%\',\'U4%\',\'ef%\',\'cP%\']}if(x.K("4v")>0){4F=[\'0\',\'0.2\',\'0.3\',\'0.4\',\'0.5\',\'0.6\',\'0.7\',\'0.8\',\'0.9\',\'1\']}if(x.K("jF")>0){U(B i=-5;i<5.5;i+=0.5){4F.2Y(2E.4a(i*100)/100)}}if(x.K("dI")>0){4F=[4r,cP,gS]}if(x.K("2N")>0){U(i=0;i<21;i++){4F[i]=i*10}}if(x.K("EQ")>0){U(i=0;i<24;i++){4F[i]=i}}if(x.K("ER")>0||x.K("EX")>0){U(i=0;i<60;i++){4F[i]=i}}if(x.K("ar")>0){qM=H;4F=[0,1]}if(x.K("3D")>0){qM=H;4F=[0,1]}if(x.K("1o")>0){4F=[\'3y\',\'EY\',\'VA\',\'Vs\',\'UF\',\'UN\',\'Uy\',\'V3\',\'UZ\',\'RG\',\'RN\',\'RU\',\'S7\',\'RW\',\'S2\',\'RY\',\'R9\',\'3Y\'];B vx=v[x].1R("#","");if(4F.K(vx)==-1){4F[8]=vx}}U(y=1;y<=4F.S;y++){cu(\'f2\',y,0);cG(f2[y],h6[y],5e[y],5I[y],y);O(5I[y],{\'2O-19\':0});if(x.K("1o")>0||x.K("2N")>0||x.K("8E")>0||x.K("jF")>0){y%3!=0?O(f2[y],{\'kl\':\'19\'}):\'\';O(f2[y],{\'X\':\'33.3%\'});if(x.K("1o")>0){4F[y-1]=2h(v["Ra"+(y-1)],4F[y-1]);5e[y].1P="<29 C=\'"+(4F[y-1]=="3Y"?\'2K:4w 6x #kL;1b:Eo;X:Eo;\':\'1b:gd;X:gd;\')+";2k-1o:"+3r(4F[y-1])+";2K-6E:gd;\'></29>";O(f2[y],{\'2F-1b\':1})}F{5e[y].1P=4F[y-1]}}F{if(x.K("dI")>0){5e[y].1P=4F[y-1]}F{y%2!=0?O(f2[y],{\'kl\':\'19\'}):\'\';O(f2[y],{\'X\':\'50%\'});if(qM){5e[y].1P=2L(4F[y-1]+\'7T\')}F{5e[y].1P=4F[y-1]}}}5y[y]=x+\'=\'+4F[y-1];if((4F[y-1]==v[x]&&7B(v[x])!=" ")||v[x]==\'#\'+4F[y-1]){5I[y].1P=af;lK(y)}f2[y].1v(aX,6b);f2[y].1v(aU,5u);if(x.K("8E")>0){f2[y].1v(6s,Ee)}F{f2[y].1v(6s,Eg)}f2[y].1v("as",b4)}2n()}E lK(x){f2[x].eM.8C(\'6T-\'+v.id+\'-a0-qG\');O(5e[x*1],{\'1o\':C.5n});n9(h6[x*1])}E El(){B fo=o[\'Sk\'+2m];if(fo){if(wg(fo)){U(B s in fo){lK(fo[s]+1)}}}}E nT(id){if(L(o.1y[id][\'2b\'])){v.2b=o.1y[id][\'2b\'];L(v.2b)?o.P.aC(v.2b):\'\'}if(L(o.1y[id][\'1G\'])){o.cB=o.1y[id][\'1G\']}v.W.Ep>0?lo=1w(FQ,v.W.Ep*2i):\'\';zI()}E nI(id){B t=o.1y[id][\'1G\'];if(L(t)){if(v.n4==1){if(o.V.pN(o.1y[id])){}F{v.1G=(v.ya==1&&L(o.vP)?o.vP+(v.yq==1?\'<br>\':\' \'):\'\')+t}o.V.bd(\'1G\')}}if(v.am==1){if(L(o.1y[id][\'8r\'])){v.8r=o.1y[id][\'8r\']}F{v.8r=[]}o.Q.ko()}B xv=[\'5Q\',\'md\',\'7a\',\'7N\',\'17\',\'iY\',\'Fn\',\'mT\',\'x9\',\'4z\',\'4M\',\'1l\',\'F1\',\'CV\',\'7q\',\'d5\',\'gF\',\'Ea\',\'9f\',\'kJ\'];U(B i=0;i<xv.S;i++){B lx=o.1y[id][xv[i]];if(L(lx)){o.mp[xv[i]]=lx;v[xv[i]]=lx;if(i==16){v.W.di=lx}}F{i<4?v[xv[i]]=1F:\'\'}}U(B uv in o.1y[id]){if(uv.K("CW")==0){v[uv.1i(7)]=o.1y[id][uv]}if(uv.K("2b")>0){v[uv]=o.1y[id][uv]}}uc(id);B 9w=o.1y[id];if(L(9w[\'2p\'])){9w[\'1X\']=9w[\'2p\']}if(L(9w[\'1X\'])){o.V.gO(9w[\'1X\'])}if(L(9w[\'9f\'])){o.Q.rX()}o.V.i0(o.1y[id]);if(o.jL){o.Q.s7(o.jL)}if(L(9w[\'bp\'])){3l(\'bp\',9w[\'bp\'])}if(L(9w.1J)){o.V.4i(9w.1J)}}E uc(id){B x=o.1y[id][\'1z\'];if(L(x)){if(x=="3v"){if(2G.1X&&!o.1y[id][\'1X\']){o.1y[id][\'1X\']=2G.1X}if(o.P.18()>0){v.1z=o.2c=o.P.18()}F{2G.1z&&!o.2c?o.2c=2G.1z:v.1z=0}}F{v.1z=o.2c=x}}F{v.1z=0}}E FQ(){2C(lo);lo=28}E dG(x){if(6A==0&&!o.1z){O(6g[6A],{\'1o\':C.1o});O(ac[6A],{\'7E\':C.4B});8Y[6A].1P=\'\';f[6A].eM.5Q(\'6T-\'+v.id+\'-a0-pl\')}F{o.aI=x;if(6A>-1){kP(6A)}if(3i!=\'\'){if(!o.8L[3i]&&L(o.1y[3i])){o.xE+=2h(o.1y[3i].1l,0)}o.8L[3i]=H;5X=wr(5X,3i)}}if(1M[x]){B id=1M[x].1i(8);8Y[x].1P=af;f[x].eM.8C(\'6T-\'+v.id+\'-a0-pl\');O(6g[x],{\'1o\':C.5n,\'1D-qz\':\'1O\',\'1B\':C.a});n9(ac[x]);if(C.kq==1&&L(C.cU)){O(ac[x],{\'7E\':C.cU})}6A=x;3i=id;o.3i=3i;v.54=3i;o.qE=6g[x].1P;o.aI=3i;e7=o.1y[id][\'7H\'];if(o.Q){o.Q.jR()}if(6z){6z.SC()}}}E 6y(id){B x=id==0?o.W:o.1y[id];o.aI=id;U(B i=0;i<f.S;i++){if(f[i]){if(C.3F==1){Y.3n(f[i])}F{6Z.3n(f[i])}f[i]=28}}f=[];6A=-1;if(L(x[\'4W\'])){B y=8k.6G(x[\'4W\']).S;cu(\'f\',y);1M[y]="Sz";cG(f[y],ac[y],6g[y],8Y[y],y);if(C.3F==1){O(f[y],{"X":(C.oF==1?C.dA:"2A"),"1b":C.lj})}if(C.xi==1){B uz="4w 6x "+4x(C.Ft,2h(C.Fv,1));if(C.3F==1){O(f[y],{"Sy":uz})}F{O(f[y],{"Sw":uz})}}B 1C=x.1G;if(C.uy!=1){1C=lU+1C}6g[y].1P=1C;O(6g[y],{\'3Q-3J\':C.fZ*2h(v.7A,1)});B p=x[\'7H\'];f[y].1v(aX,6b);f[y].1v(aU,5u);f[y].1v(6s,E(){D2(p)});x=x[\'4W\']}B y=8k.6G(x).S;5X=[];eV=[];if(6z&&C.3F!=1){6z.5Q(6Z);if(y>v.W.6z){6z.8C(C,6Z)}}U(B i=0;i<y;i++){cu(\'f\',i);1M[i]="W"+x[i].id;if(!L(o.8L[x[i].id])&&!L(x[i].4W)){5X[x[i].id]=i;eV[x[i].id]=i}cG(f[i],ac[i],6g[i],8Y[i],i);if(C.3F==1){if(7j==0){O(6g[i],{\'X\':C.dA-C.oL-C.l4});3a(8Y[i])}O(f[i],{"X":(C.oF==1?C.dA:"2A"),"1b":C.lj})}6g[i].1P=x[i].1G?x[i].1G:\'&fF;\';if(v.cI==1&&v.E5==1&&x[i].id){if(o.FP){if(o.FP.K(x[i].id)>-1){x[i].c0=1}}}if(L(x[i].c0)){if(x[i].c0==1){o.8L[x[i].id]=H;kP(i)}}if(L(x[i].4W)){8Y[i].1P=Fe;O(8Y[i],{"1o":C.1o})}f[i].1v(aX,6b);f[i].1v(aU,5u);f[i].1v(6s,8R);f[i].1v("as",b4);if(L(o.8L[x[i].id])){kP(i)}if(3i==x[i].id){dG(i)}if(e7==x[i].id){O(6g[i],{\'1o\':C.5n});O(8Y[i],{\'1o\':C.5n});n9(ac[i])}}2n();4P=J;o.Q?o.Q.4N():\'\'}E n9(x){if(1Y(C.r4)&&x){O(x,{"2k-9A":"3g-4D(5p(0, 0, 0, "+(1-C.r4*1)+") 0 0)"})}}E kM(x,y,z,x1,y1,x2,y2,x3,y3,x4,y4){B ww=(C.3F==1?\'F9\':\'100%\');B hh=(C.3F==1?\'100%\':\'F9\');O(x,{\'1q\':\'2B\',\'2g\':\'bC-4q\',\'X\':ww,\'1b\':hh,\'1D-8U\':\'8v\'});if(C.Fb==1){O(x,{\'2k\':\'-mf-3g-4D(\'+y+\')\',\'2k\':\'-3C-3g-4D(\'+y+\')\',\'2k\':\'-ms-3g-4D(\'+y+\')\',\'2k\':\'-o-3g-4D(\'+y+\')\',\'2k\':\'3g-4D(\'+y+\')\',})}if(C.3F==1||o.1g.2e){O(x,{\'6R\':\'4C\'})}F{O(x,{\'4C-3o\':\'1O\'})}if(C.oK==1){O(x,{\'5t-X\':C.kA+\'px!6e\'})}if(z=="1c"){O(x,{\'1c\':-1,\'19\':0})}if(z=="2N"){O(x,{\'2N\':-1,\'19\':0})}if(z=="19"){O(x,{\'1c\':0,\'19\':0})}if(z=="2q"){O(x,{\'1c\':0,\'2q\':0})}if(z=="2q"||z=="19"){O(x,{\'1D-8U\':\'19\',\'2O-1c\':1L.2Q/2-10})}x.1P="<8v><29 "+(C.Fc==1?"SD=\'G.C.7E=\\"#"+C.Ff+"\\"\' Se=\'"+(C.vv==1?"G.C.7E=\\"#"+C.vs:"G.C.2k=\\"1O")+"\\"\'":"")+" C=\'4C-3o:2A;6R:4C;X:gd;1b:gd;2K-6E:gd;"+(C.vv==1?"2k-1o:#"+C.vs+";":"")+(z=="1c"?"2M-1c:eZ;":"")+(z=="2N"?"2M-1c:eZ;":"")+(z=="2q"?"2M-19:hY;":"")+(z=="19"?"2M-2q:hY;":"")+"\'><2l X=\'20\' 1b=\'20\' 4h:4e=\'3T://4g.w3.47/7C/4e\' 4h=\'3T://4g.w3.47/4p/2l\'><g><2F x1=\'"+x1+"\' y1=\'"+y1+"\' x2=\'"+x2+"\' y2=\'"+y2+"\' 3D=\'#"+C.lX+"\' 3D-X=\'"+C.lZ+"\' 3D-dx=\'4a\'/><2F x1=\'"+x3+"\' y1=\'"+y3+"\' x2=\'"+x4+"\' y2=\'"+y4+"\' 3D=\'#"+C.lX+"\' 3D-X=\'"+C.lZ+"\' 3D-dx=\'4a\'/></g></2l></29></8v>"}G.aN=E(){if(C.kX==1){aN()}};E Fo(){if(cX){aN()}}E aN(e){if(C.kX==1&&!lR){if(C.3F==1){B h=Y.Sm;B m=1L.2a+C.6Y+C.7k+20;B t=Y.bD}F{B h=Y.pA;B m=1L.2Q;B t=Y.ep}if(h>m){if(t>0){if(!5F(6d)){1n(6d);B m1=1u 5a({"mc":6d,"1I":"7s","to":1,"18":0.3,"me":"6d"})}}F{if(5F(6d)){B m2=1u 5a({"mc":6d,"1I":"7s","to":0,"18":0.3,"me":"6d","1j":H})}if(e){e.d0<0?e.9a():\'\'}}if(t<h-m-10){if(!5F(6c)){1n(6c);B m3=1u 5a({"mc":6c,"1I":"7s","to":1,"18":0.3,"me":"6c"})}}F{if(5F(6c)){B m4=1u 5a({"mc":6c,"1I":"7s","to":0,"18":0.3,"me":"6c","1j":H})}if(e){e.d0>0?e.9a():\'\'}}}F{1j(6d);1j(6c)}}}E Dj(){B x=Y.ep+1L.2Q-60;B m=1u 5a({"mc":Y,"1I":"6U","to":x,"18":0.3,"me":"DH","5f":"dh"});1w(aN,2i)}E E9(){B x=Y.ep-1L.2Q+60;B m=1u 5a({"mc":Y,"1I":"6U","to":x,"18":0.3,"me":"Sf","5f":"dh"});1w(aN,2i)}E kU(1d){2C(o.hu);1d.b5()}E CX(){B x=Y.bD+(1L.2a+C.6Y+C.7k)-60;B m=1u 5a({"mc":Y,"1I":"iw","to":x,"18":0.3,"me":"SL","5f":"dh"});1w(aN,2i)}E CY(){B x=Y.bD-(1L.2a+C.6Y+C.7k)+60;B m=1u 5a({"mc":Y,"1I":"iw","to":x,"18":0.3,"me":"DG","5f":"dh"});1w(aN,2i)}E D2(x){if(x==\'\'){6y(0)}F{if(L(o.1y[x])){6y(x)}}2m=\'\'}E kP(x){8Y[x].1P=\'\';O(6g[x],{\'1o\':C.zt});if(C.yW==1){O(6g[x],{\'1D-qz\':\'2F-AO\'})}if(C.lm>-1){O(6g[x],{\'1B\':C.lm})}f[x].eM.5Q(\'6T-\'+v.id+\'-a0-pl\');O(ac[x],{\'7E\':C.qF});if(C.lD>-1){O(ac[x],{\'1B\':C.lD})}}E uN(i){if(L(5y[i])){bJ();if(7R("4Y",i)==0){o.V.6j(5y[i].1i(7))}if(7R("7b",i)==0){o.V.dX(5y[i].1i(10))}if(7R("1X",i)==0){!o.3p?o.3p=1u jB():\'\';o.3p.9l(5y[i].1i(8))}if(7R("dK",i)==0&&v.7U==1){o.7U.C2(5y[i].1i(7))}if(7R("3U",i)==0){B 5M=5y[i].59(0,-1);o[\'kY\'+5M]!=-1?o[\'kY\'+5M]=i-1:\'\';if(o[\'6M\'+5M]){B mi=5M.59(-1);if(o[\'m\'+mi+\'3P\'+\'2U\'][i-1]!=\'\'){B ap=o[\'m\'+mi+\'3P\'+\'2U\'][i-1].2u(":");3l(ap[0],ap.S>1?ap[1]:28)}if(L(1A[\'oi\'+mi])){v[\'qG\'+mi]=i-1;1A[\'oi\'+mi](v.id,o[\'6M\'+5M][i-1],i-1)}}8q(b7);8I()}if(7R("3d",i)==0){o.3d?o.3d.2U(l1[i]):\'\';8I()}if(7R("1o",i)==0){cq();5g(0,0,6D[i])}U(B p in o.6a){if(o.6a.2v(p)){if(7R(p,i)==0){o.P.AB(p,i)}}}if(7R("8E",i)>0){if(5e[i].1P==2L(\'7e\')){8n(2m+\'0\');8q(b7);if(2m=="nO"){8n("Dc")}dQ()}F{if(2m=="Am"&&C.vh==1){8n(\'vh\',i);8q(b7);dQ()}}}if(7R("5m",i)==0){o.V.9R(5y[i].1i(5));kf();1w(8I,4r)}}};G.kf=E(){kf()};G.Gy=E(x){U(B i=0;i<1M.S;i++){if(1M[i]==x){I H}}I J};E kf(){U(B i=0;i<1M.S;i++){if(1M[i]=="5m"){8q(i);if(2m==\'5m\'){cq();5g(i,0)}}}}E cu(x,i,fb){if(L(2j(x))){2j(x)[i]=1U("29");if(i<2||x=="f"||2m!=\'4Y\'||fb>0){if(C.3F==1){Y.1Q(2j(x)[i])}F{6Z.1Q(2j(x)[i])}}F{if(C.3F==1){Y.yk(2j(x)[i],2j(x)[i-1])}F{6Z.yk(2j(x)[i],2j(x)[fb==2?i-2:i-1])}}if(x==\'f\'){3V(2j(x)[i],{\'oC\':i})}if(x==\'f2\'){3V(2j(x)[i],{\'bT\':i})}2j(x+\'bg\')[i]=1U("29");B oR=1U("29");2j(x)[i].1Q(oR);oR.1Q(2j(x+\'bg\')[i]);g0(oR);2j(x+\'3O\')[i]=1U("29");2j(x)[i].1Q(2j(x+\'3O\')[i]);dT(2j(x+\'3O\')[i]);g0(2j(x+\'3O\')[i]);if(km){va(x,i)}2j(x+\'1G\')[i]=1U("29");2j(x)[i].1Q(2j(x+\'1G\')[i]);if(!km){va(x,i)}if(i>0&&x=="f2"&&6u&&C.z5==0){3a(2j(x+\'5r\')[i])}}};E va(x,i){2j(x+\'5r\')[i]=1U("29");2j(x)[i].1Q(2j(x+\'5r\')[i])};E cG(x,9G,kE,rw,SN,ii){O(x,{\'1q\':\'eN\',\'2q\':0,\'1c\':0,\'6R\':\'4C\',\'1b\':\'2A\',\'X\':\'100%\',\'5J\':\'3b\',\'2g\':\'4q\',\'2F-1b\':\'1.SU\'});if(6u){if(C.3F==1){O(x,{\'X\':\'2A\'})}}if(C.v9&&C.3F==1){O(x,{\'SW\':C.v9})}if(C.3F==1&&(!6u||ii>0||C.rS==1)){O(x,{\'2g\':\'bC-4q\',\'aT-8U\':\'1c\',\'bK-9r\':\'hV\'})}O(9G,{\'2k\':(C.yw==1?"3g-4D(to 19,"+3r(C.wd)+", "+3r(C.4B)+")":3r(C.4B)),\'1B\':C.4v,\'aL\':\'1O\',\'4S\':\'1B 0.2s 5f-4A,2k .2s 5f-4A,5w .2s 5f-4A\'});dT(9G);dT(9G.3M);if(C.7Q==1){O(9G.3M,{\'dS-5w\':\'7Q(9h)\'})}if(C.T1==1){x.C[C.3F==1?"2K-2q":"2K-2N"]="4w 6x "+4x(2h(C.Sc,\'3y\'),2h(C.RE,0.2))}O(kE,{\'1q\':\'eN\',\'2q\':0,\'1c\':0,\'kl\':(C.8U?C.8U:\'19\'),\'1o\':C.1o,\'2O-1c\':C.Cw,\'2O-2q\':C.l4,\'2O-2N\':C.Sb,\'2O-19\':C.oL,\'aL\':\'1O\',\'1B\':C.a,\'4S\':\'1B 0.2s 3g,1o 0.2s 3g\',});O(rw,{\'1q\':\'eN\',\'2q\':0,\'1c\':0,\'kl\':(km&&ii>0?\'19\':\'2q\'),\'2O-1c\':C.Cw,\'2O-2q\':C.l4,\'2O-19\':C.oL,\'aL\':\'1O\',\'3Q-3J\':C.5B*2h(v.7A,1),\'1B\':C.a,\'1o\':C.5n,\'4S\':\'1B 0.2s 3g,1o 0.2s 3g\'});if(C.oK==1){O(x,{\'5t-X\':C.kA+\'px!6e\'});O(kE,{\'5t-X\':(C.kA-70)+\'px!6e\'})}F{if(C.3F==1){if(C.oF==1){O(x,{\'X\':C.dA});O(kE,{\'X\':C.dA-70})}}F{O(kE,{\'bK-9r\':\'eg\'});O(rw,{\'bK-9r\':\'eg\'})}}}E dQ(){U(B i=1;i<f.S;i++){if(L(f[i])){if(C.3F==1){f[i].C.2g="bC-4q"}F{f[i].C.2g="4q"}}}bJ();cq();2n();2m=\'\';b7=-1};E cq(){U(B j=0;j<f2.S;j++){if(f2[j]){if(C.3F==1){Y.3n(f2[j])}F{6Z.3n(f2[j])}f2[j]=28}}f2=[];2m=\'\'}E DU(){I Y.2a};G.jz=E(){ny()};E ny(){if(is=="W"){if(C.3F==1||C.CP==1){B x=o.2T-C.4u-C.4j;O(1L,{\'X\':x});O(Y,{\'X\':x});6Z?O(6Z,{\'X\':x}):\'\'}o.2I?o.2I.2n():\'\'}}E 2n(){if(!lR){if(6u){o.Q?o.Q.nY():\'\';B x=C.rS==1&&f.S>1?f[1]:f[0]}if(is=="W"){ny();o.Q?o.Q.jz():\'\';B x=f[0];if(v.tD==1){pt()}}f.S>1&&!x?(f[1]?x=f[1]:\'\'):\'\';f.S>2&&!x?(f[2]?x=f[2]:\'\'):\'\';if(x){x.2a==0&&f2.S>0?x=f2[0]:\'\'}if(Y.2a-Y.sY>0&&x&&C.3F!=1){if(L(6d)){O(6d,{"X":6Z.2a})}if(L(6c)){O(6c,{"X":6Z.2a})}C.nA=(Y.2a-x.2a)-(Y.sY-x.sY)}F{C.nA=0}}};E s6(){B x=0;B y=0;B z=\'\';U(B i=1;i<f.S;i++){if(L(f[i])){if(f[i].C.5W!="3b"&&f[i].C.2g!="1O"){x++;y=i;z=1M[i]}}}I[x,y,z]}G.wQ=E(){gz=H;G.1n();bU=2;gy()};E DY(x){gz=H;gy(x);if(gz&&nj){Y.Rf(0,nj.qb)}}E E2(x){gz=J;gy(x)}E gy(){dQ();U(B i=0;i<1M.S;i++){if(1M[i]=="1X"){5g(i,bU)}}}E bJ(){2C(ta);ta=1w(E(){o.nN=J},4p)}E sU(){B x=2m;dQ();U(B i=0;i<1M.S;i++){if(1M[i]==x){5g(i,0)}}}G.tb=E(){I v.1f.7c==1&&v.1f.1p==1};E 8I(x){if((!6u&&v.W.HB==1)||(6u&&v.1f.7c==1&&x!=2)){I}if(is==\'W\'&&v.W.2I==1&&v.W.R7!=1){if(v.W.7c==1&&x==1){I}o.2I?o.2I.zK():\'\';cX=J}F{if((x!=1||(C.RC==1&&C.7c==1))&&!o.1g.tv){B m=1u 5a({"mc":1L,"1I":"7s","to":0,"18":0.1,"me":is,"5f":"BU"});iJ=1w(E(){O(1L,{"5W":"3b","1B":0,"1c":-4p});cX=J},4r)}F{O(1L,{"5W":"3b","1B":0,"1c":-4p});cX=J}}if(is==\'W\'){if(v.W.Dk==1&&o.Q){o.Q.sD("1e","W",H)}}43(o4)};G.c=E(){I 1L};G.co=E(){if(1L.RD(Y)){I Y}};G.s=E(1a){if(1a=="4j"||1a=="4u"){B k2=1a.1R("2M","9Y");B k3=1a.1R("2M","aZ");if(1Y(C[k3])&&o.96){I o.2T*C[k3]/100}if(1Y(C[k2])){I o.2T*C[k2]/100}}I C[1a]};G.ss=E(1a){I C};G.1n=E(){dQ();2C(iJ);cX=H;if(is==\'W\'&&v.W.2I==1){o.2I?o.2I.gu():\'\'}F{O(1L,{"5W":"4G","1B":1,"4S":"1B 0.2s 3g"});B x=s6();if(x[0]==1){if(x[2]=="4Y"||x[2]=="7b"||x[2]=="1X"||x[2]=="5m"||x[2]in o.6a||x[2].K("8E")>0){5g(x[1],0)}}}if(o.Q){if(is==\'W\'&&o.Q.cO()){o.Q.bH()}if(is==\'1f\'&&o.Q.jM()&&!o.2I&&v.W.7c!=1&&v.gl!=1){o.Q.Gz()}}if(o.Q){is==\'1f\'?o.Q.nY():\'\';if(is==\'W\'){o.Q.jz();if(v.W.Dk==1){o.Q.sD("1e","W",J)}}}if(o.1g.6W){O(Y,{\'91-X\':\'2A\'});if(C.3F!=1){O(6Z,{\'91-X\':\'2A\'})}}gs=H;43(nV);nV=7W(Dy,100)};E Dy(){43(nV);gs=J}G.2H=E(i){5g(i,1)};G.1j=E(x){8I(x)};G.Il=E(){if(o.2I){o.2I.aq()}};G.6j=E(){U(B i=0;i<1M.S;i++){if(1M[i]=="4Y"){8q(i);if(o.2r.S>1){1n(f[i])}if(2m==\'4Y\'){cq();5g(i,bU)}}}};G.hR=E(){U(B i=0;i<1M.S;i++){if(1M[i]=="5A"){8q(i)}}};G.i2=E(x){U(B i=0;i<1M.S;i++){if(1M[i]==x){8q(i);if(o[\'6M\'+x]){if(o[\'6M\'+x].S>1){1n(f[i])}}if(2m==x){cq();5g(i,bU)}}}};G.9l=E(){U(B i=0;i<1M.S;i++){if(1M[i]=="1X"){8q(i);if(o.3c){if(o.3c.S>0){B x=J;if(o.1W){U(B y=0;y<o.1W.S;y++){if(o.1W[y]!=\'\'){x=H;1h}}}F{x=H}x?1n(f[i]):\'\'}}if(2m==\'1X\'){cq();5g(i,0)}}}};G.zU=E(x){o.W=x;6y(0);if(L(v.54)){if(v.54.K("x-")!=0){U(B y in o.1y){if(o.1y.2v(y)){if(o.1y[y].et==v.54){v.54=y}}}}if(L(o.1y[v.54])){hS(o.1y[v.54]);B y=o.1y[v.54][\'da\'];dG(y);if(v.W.yb==1&&C.2I!=1){6y(0);1w(E(){2n()},4l)}F{1w(E(){eG(y);2n()},4l)}v.54=1F}F{dG(0)}}F{dG(0)}if(C.2I==1){if(!L(o.2I)){o.2I=1u AZ(q7)}}};G.cm=E(x){cm(x)};E cm(x){if(L(o.1y[x])){hS(o.1y[x]);5g(o.1y[x][\'da\'],0);eG(o.1y[x][\'da\'])}};G.og=E(x){if(L(o.1y[x])){hS(o.1y[x]);if(o.1y[x]["3j"]){o.2c=1F;dG(o.1y[x][\'da\']);nT(x);o.V.eT(o.1y[x]["3j"],1);nI(x);eG(o.1y[x][\'da\']);if(o.2I){o.2I.8f()}}F if(o.1y[x]["4W"]){6y(x)}}};G.xn=E(x){if(o.2I){o.2I.8f()}};E Du(x){if(L(o.1y[x])){e7=\'\';6y(0);hS(o.1y[x]);nT(x);5g(o.1y[x][\'da\'],0);nI(x)}};G.aW=E(){nS=H;B x=2R(6A)+1;if(3i!=\'\'){o.8L[3i]=H;5X=wr(5X,3i)}if(v.5X==1){x=zG(5X);if(x==28){if(v.S9==1||v.W.di==1){eV.KZ(E(a,b){I 2E.5R()-0.5});U(B x in eV){if(eV.2v(x)){5X[x]=eV[x]}}x=zG(5X);js("5O")}F{o.V.Fy()}}}F{if(3i!=\'\'){B y=8h().K(3i);if(y<8h().S){B j;U(B i=y+1;i<8h().S;i++){j=o.1y[8h()[i]];if(j.3j){if(j.3j.K("3K:")!=0&&j.5O!=1&&!j.4W){G.og(j.id);x=-1;o.V.2z();js("5O");1h}}}}}}if(x>-1){o.2c=1F;5g(x,0);eG(x)}};E eG(x){if(f[x]&&!lR){if(C.3F==1){B to=f[x].j5-20;B m=1u 5a({"mc":Y,"1I":"iw","to":to,"18":0.3,"me":"DG","5f":"dh"})}F{B to=f[x].qb-1L.2Q/2+20;B m=1u 5a({"mc":Y,"1I":"6U","to":to,"18":0.3,"me":"DH","5f":"dh"})}1w(aN,2i)}}E zG(4H){B 6G=8k.6G(4H);B x;U(B i=0;i<6G.S;i++){x=4H[6G[6G.S*2E.5R()<<0]];if(x){1h}}I x};G.6a=E(x){A0(x)};E A0(x){lw[x]>-1?8q(lw[x]):\'\';if(5I[0]){if(2m==\'1K\'){5I[0].1P=2E.4a(o.3I.x*100)+\'%\'}F{5I[0].1P=lv(2m)}}};E lv(x){if(x=="1K"){I 2E.4a(o.3I.x*100)+\'%\'}F{I 2E.4a(2h(o.aJ[x],o.6a[x])*100)+\'%\'}}G.bX=E(){I zr()};E zr(){if(v.5X==1){I 8k.6G(5X).S>0}B x=J;if(o.1y){x=8h().K(3i)<8h().S-1}I x};G.od=E(){if(L(o.jN)){2m=1F;Du(o.jN)}};G.hU=E(){B x=6A>0;if(o.1y){B z=8h().K(3i);x=z>0;if(z==1){if(L(o.1y[8h()[0]].4W)){x=J}}}I x};G.hF=E(){I L(o.1y)};G.dC=E(){o0=H;if(G.hU()){B x=2R(6A)-1;if(x<0){B y=8h().K(3i);if(y>0){B j;B z;U(B i=y-1;i>=0;i--){j=o.1y[8h()[i]];if(j){if(j.3j){z=j;if(j.3j.K("3K:")!=0&&j.5O!=1&&!j.4W){z=j;1h}}}}if(z){G.og(z.id);o.V.2z()}}}F{o.2c=1F;5g(x,0);eG(x)}js("RJ")}};G.oa=E(){if(6A>0){eG(6A)}};E 7R(x,i){I 5y[i].K(x)};E hS(x){if(x){if(x[\'tq\']!=-1){hS(o.1y[x[\'7H\']]);6y(x[\'7H\'])}F{6y(0)}}};G.g=E(x){cT(x){1k"X":I DU();1h;1k"1b":I 1L.2Q;1h;1k"1c":I C.8x;1h;1k"Hx":I Y.pA;1h;1k"Hv":I C.e4;1h;1k"x":I 5v(1L.C.19);1h;1k"y":I 5v(1L.C.1c);1h;1k"1B":I 1L.C.1B;1h;1k"1n":I cX;1h;1k"2H":I b7;1h;1k"1a":I 1a;1h;1k"bw":I 1a+bw;1h;1k"4P":I 4P;1h;1k"W":I is=="W";1h;1k"c0":I o.8L[3i];1h;1k"2H?":I o.2I?o.2I.nQ():cX;1k"z5":I af;1h;1k"d4":I o.1y[o.d4]?o.1y[o.d4].1G:\'\';1k"d5":I v.d5?v.d5:\'\';1k"J9":I zr()?o.1y[8h()[8h().K(3i)+1]].1G:\'\'}};E 8h(){I 8k.6G(o.1y)};G.GB=E(){3i=\'\';v.54=\'\'};G.4P=E(){if(6u){B x=0;U(B i=1;i<15;i++){if(1M[i]=="4Y"){B y=o.2r.S;if(L(v.cg)){B z=v.cg.2u(",");U(B j=0;j<z.S;j++){if(o.2r.K(z[j])>-1){y--}}}if(y>0){if(y>1||(y==1&&o.2r!=1&&C.DO==1)){x++}}}if(1M[i]=="5A"){if(o.5A){x++}}if(1M[i]=="7a"){if(o.2w==\'dR\'||v.7a){x++}}if(1M[i]=="7b"){if(o.6k.S>1){x++}}if(1M[i]=="dK"&&v.7U==1){if(o.pb.S>0){x++}}if(1M[i]=="1X"){if(L(o.1W)){U(B s=0;s<o.1W.S;s++){if(o.1W[s]!=\'\'){x++;1h}}}if(x==1&&o.lf==1){x=0}if(v.rb==1&&v.rq==1){x++}}if(1M[i]=="5m"){if(o.2w!="dv"){x++}}if(1M[i]in o.6a||1M[i]=="3d"||1M[i]=="e3"||1M[i]=="1o"){x++}if(1M[i]){if(1M[i].K("8E")>0){x++}if(1M[i].K("3U")>-1){x++}}if(v.1f[is+i+\'1j\']==1){x--}}I x<=0}F if(is=="W"){I f.S==0}F{I 4P}};G.4y=E(){if(1L.3M==o.1S){1L.3n(Y);o.1S.3n(1L);o.2I?o.2I.4y():\'\';1L=28;Y=28;lR=H}}};B Bw=E(17,kQ){B 7l=J;if(17.K(\'7l\')==0){7l=H;17=17.1i(5)}B oc=qY(17);B 2x;B 3k;B l0=J;B 4n=J;B pn=J;B ov=J;B 2A=H;B wT=[];B c7=1;B oT=J;B kO=0;B zH;B eY=0;B ou=0;B oy=J;B nH=\'DK\'+v.id+(7l?\'7l\':\'\');hN("#DK"+v.id+"{X:100%!6e;1b:100%!6e;5t-X:1O!6e;5t-1b:1O!6e}");B 1L=1U(\'29\');B op=0;1L.7d(\'id\',nH);kQ.1Q(1L);o.5A=J;!7l?o.V.ia():\'\';if(o.1g.2e){v.4Q=1}if(v.CK!=1){B 8Z=1U(\'29\');kQ.1Q(8Z);O(8Z,{1q:"2B",1c:0,19:0,"2k-1o":"#nX",1b:"100%",X:"100%","1B":0});8Z.1v("Ik",E(1d){1d.6J=H});if(o.1g.2e){8Z.1v("g5",E(1d){1d.6J=H});8Z.1v("2o",E(1d){1d.6J=H});8Z.1v("g7",E(1d){1d.6J=H;h8(1d);if(v.eu==1&&v.UI!=1){1w(Di,100);1w(oM,2i)}})}F{8Z.1v("vT",E(1d){B x=H;if(v.1V==1){if(L(v.7t)&&!pn){x=J}if(L(v.oO)&&bf()=="6I"&&18()>0){x=J}}if(x&&v.eu==1&&v.CT!=1){3a(G);1w(oM,4p)}})}v.eu==1&&v.UH!=1?3a(8Z):\'\'}E oM(){5i(8Z)}E Di(){if(v.CT!=1){3a(8Z)}}if(v.4Q==1&&v.3m==0){9P()}if(!1A[\'YT\']){1A.Uz=E(){oj();U(B i=0;i<1A.5d.S;i++){if(1A.5d[i]){if(1A.5d[i].2U("id")!=v.id){if(1A.5d[i].2U(\'AJ\')){1A.5d[i].2U(\'AG\')}}}}};B zc=yL("5c.aD/CM","5c.aD/CM","UP");if(zc){zc.qp=E(e){o.V.dD();if(v.CG!=1){2x=\'BI Vr ir\';o.P.5S()}}}}F{oj()}E oj(){if(v.4Q==1||7l){!l0?kZ():\'\'}F{o.V.dD()}}E kZ(){if("YT"in 1A){if(L(YT.zX)&&!l0){1m("zD hP");B yS=0;if(v.CK==1){yS=1}o.2c>0?eY=2R(o.2c):\'\';3k=1u YT.zX(nH,{1b:o.9p,X:o.9n,Vt:oc,Vu:{Vv:1,Vw:0,Vx:\'1O\',Vz:nH,VB:1,VC:1,f7:1,l7:((v.sr==0||(v.LU!=1&&o.1g.7M))&&o.1g.2e?0:1),VD:3,Q:yS,VE:0,Vy:1,9I:0,3m:7l||v.3m==1?1:0,9E:0},3o:{\'Vo\':z7,\'Vg\':CF,\'5S\':5S,\'Vn\':Dg}});if(o.2c>0){o.2c=1F}2n();l0=H}F{1w(kZ,4l)}}F{1w(kZ,4l)}}B kD;E z7(){if(o.P){1m("zD gB");4n=H;2C(zH);o.V.8M();if(7l){if(o.1g.zR){o.V.5j()}3k.ol();o.1V.V9()}F{if(v.3m==1&&o.1g.zR&&!o.ds){o.V.5j();if(o.1g.2e){43(kD);kD=7W(CJ,ef)}}if(v.4Q==0){3k.ol()}F{o.V.dD()}op=3k.wS();o.P.aw();if(c7!=1){9R(c7)}dg();2n();if(v.Va==1){2X{if(3k.yU()){if(L(3k.yU().1G)){v.1G=3k.yU().1G;o.V.bd(\'1G\')}}}2D(e){}}}}}E CJ(){B x=3k.Da();if(x==2||x==-1){o.Q.3e();o.Q.8M();43(kD)}if(x==1){43(kD)}}E CF(1d){if(v.V8==1){1m(\'YT\',1d.26)}if(7l){if(1d.26==YT.ek.Cx){o.1V.Vi()}if(1d.26==YT.ek.Cu){}}F{if(1d.26==YT.ek.Cu){if(ou==1){ou=0;z7()}if(!o.1t){o.V.2z()}if(eY>0){3k.D5(eY,H);eY=0;o.2c=1F}oM();pn=H;4n=H;if(ov){3k.Af()}F{o.P.aa();o.P.bI()}Df();if(L(v.4f)){U(B i=0;i<o.2r.S;i++){if(v.4f==o.2r[i]){6j(i)}}v.4f=28}F{if(L(o.4f)){U(B i=0;i<o.2r.S;i++){if(o.4f==o.2r[i]){6j(i)}}o.4f=28}}oT=J}if(1d.26==1){3k.Vm(\'6h\',\'8G\',{})}if(1d.26==-1&&oT&&o.1t){1m("zD Uw")}if(1d.26==YT.ek.TX){}if(1d.26==YT.ek.Cx){8y()}if(1d.26==YT.ek.TG){if(!o.1t){}if(o.1t){oT=H;9P()}}if(1d.26==YT.ek.TI){}}}E 5S(1d){if(7l){o.1V.TJ()}F{if(1d.26==2){2x="Lh 5c id"}if(1d.26==5){2x="vR 4P"}if(1d.26==101||1d.26==Aj||1d.26==100){2x="G gR is TL"}if(v.TF==1){L(v.CR)?2x=v.CR:\'\'}if(v.CG!=1){o.P.5S()}F{1j(o.2b)}}}E 8y(){v.1z>0?eY=v.1z:\'\';o.P.8y();o.P.aw()}E g6(){if(!o.Lf&&o.1t){o.V.3e()}}E bI(){o.P.bI()}E dg(){o.P.dg();o.V.tL()}E aw(){o.P.aw()}E ee(){o.P.ee()}E 9P(){if(o.P){o.P.9P()}F{zH=1w(9P,100)}}E Dg(1d){zW(1d.26)}E Df(){if(!oy){B x=3k.TT()+\'\';if(x!=\'\'&&x!=1F){o.2r=x.2u(\',\');o.2r=o.2r.D4();if(v.wR==0){B y=o.2r.K(\'2A\');if(y>-1){o.2r.rE(y,1)}}U(B i=0;i<o.2r.S;i++){o.2r[i]=iZ(o.2r[i])}oy=H;zW(3k.TN())}}}E zW(x){o.3h=o.2r.K(iZ(x+\'\'));o.Q.Ai(o.3h)}G.3J=E(){I{"X":0,"1b":0}};G.3B=E(x){oc=qY(x);if(o.2c>0){eY=2R(o.2c)}cm(oc)};E bf(){B 7i=-1;if(4n){7i=3k.Da()}B x=\'\';if(7i==-1){x="6I"}if(7i==1||7i==3){kO=0;x="8w";o.P.bI()}if(7i==2){x="6I";if(o.1t){kO++;if(kO==2){o.V.3e();kO=0}}}if(7i==5){x="6I"}if(7i==0){x="7K"}I x}E 2n(){2X{if(L(3k)){3k.Tx(o.2T,o.4m)}}2D(e){1m(e)}}E iZ(x){B y=x;if(x=="Tw"){y="vJ"}if(x=="96"){y="q9"}if(x=="Tv"){y="q6"}if(x=="Tu"){y="p9"}if(x=="Tt"){y="pc"}if(x=="VF"){y="pi"}if(v.D7==1){y=2L(y)}if(x=="2A"){y=2L("2A")}wT[y]=x;I y}E 18(){B x=4n?3k.Tq():0;if(x>0&&v.j8>0){v.4M=x-v.j8;v.j8=-1}I x};E 9R(x){2X{3k?3k.Tp(x):\'\';c7=x}2D(e){}};G.pZ=E(){oj()};G.2z=E(){if(4n){3k.ol()}F{if(!l0){kZ()}F{}}};G.3e=E(){if(4n){3k.Af()}};G.8A=E(){if(4n){bf()==\'8w\'?3k.Af():3k.ol()}};G.3X=E(x){if(4n){3k.D5(x,H);js("3K",x)}};G.ax=E(){I J};G.5j=E(){4n?3k.5z():\'\'};G.6B=E(){4n?3k.Uk():\'\'};G.4i=E(x){4n?3k.B1(x*100):\'\'};G.mq=E(){I bf()==\'8w\'};G.6o=E(){I J};G.tu=E(x){6j(x)};E 6j(x){if(4n){if(L(o.2r[x])){B y=wT[o.2r[x]];2A=y==\'2A\';B z=18();3k.Uf(y)}}}G.ge=E(x){9R(x)};G.4n=E(){I 4n};G.7O=E(){I bf()};G.18=E(){I 18()};G.1l=E(){B x=4n?3k.wS():0;if(x!=op){op=x;o.P.aw()}if(L(v.4z)){if(7r([v.4z],\'-\')){x=x+v.4z*1}F{x=v.4z}}I x};G.8N=E(){B x=0;if(4n){x=3k.Up()*3k.wS()}I x};G.5q=E(){2n()};G.jW=E(){I 2x};G.2A=E(){I v.wR==1?2A:J};G.BO=E(x){cm(x)};E cm(x){17=x;if(3k){ou=1;3k.Ut(x,0)}}G.qK=E(){if(o.1g.2e&&o.1g.bm){G.2z();ov=H}F{if(bf()=="8w"){G.3e()}}};G.ch=E(){ov=J};G.uj=E(){I H};G.4y=E(){4n?3k.9V():\'\';4n=J;oy=J;2X{if(1L){kQ.3n(1L)}kQ.3n(8Z)}2D(e){}}};B iB=E(b){B z=kv();if(b){b.1P=lN(b.1P);Ch()}G.lN=E(x){I lN(x)};E lN(x){I"<mx 1I=\'3j\' id=\'"+v.id+"3P"+z+"\' CU=\'.uX,.TY,.Uc,.Ub,.Ua,.U9,.8a,.rZ\' C=\'2g:1O\'/>"+(x?x:2L(\'e3\'))};G.Ch=E(){Ch()};E Ch(){B x=el();if(x){x.D1=ea}};E el(){I bL(v.id+"3P"+z)}G.2H=E(){B l=el();if(l){l.2o()}};E ea(){B l=el();if(l){B x=l.41;if(x[0]){B y=1u iE();y.9D=E(e){B D0=U7.U6(x[0]);3l(\'1t\',D0)};y.FK(x[0])}}}};B jB=E(){B 2p=[];B bc=[];B 4P=H;B 7L;B 9j=-1;B yf;B ah;B q8=[];B pq;B kI=[];B qw=J;B tt=0;B qI=0;G.1z=E(x){if(!x&&ah){m6(ah);ah=1F}F{x?m6(x):\'\'}};G.zg=E(x){m6(x)};G.LJ=E(){kI=[]};G.1D=E(){if(v.6H==1){if(1H CZ==\'E\'){if(!o.6H){o.6H=1u CZ()}o.6H.gu(2p,tt,1)}}};E m6(x){if(L(x)){if(x.K("#"+v.c9)==0&&x.K(v.fe)>0){o[o.fd[1]](x,Fm)}F{bN(x)}}}E Fm(x){if(x){o.1W=x;bN(x)}}E bN(x){!x?x=\'\':\'\';if(x!=\'11\'){B 1z=0;B we=H;B lb=\'\';o.1W=x.2u(",");o.3c=[];o.3u=-1;if(o.5h&&v.wx==1){if(3A.5P("wu")!=28){lb=3A.5P("wu")}}F{if(o.qq){lb=o.qq}}U(B i=0;i<o.1W.S;i++){if(o.1W[i].K("#0")==0){o.1W[i]=cJ(o.1W[i])}if(o.1W[i].K("#"+v.aQ)==0){o.1W[i]=o[o.fd[0]](o.1W[i])}if(o.1W[i].K("[")==0&&o.1W[i].K("]")>1){o.3c[i]=o.1W[i].1i(o.1W[i].K("[")+1,o.1W[i].K("]")-1);o.1W[i]=o.1W[i].1i(o.1W[i].K("]")+1);we=J}F{o.3c[i]=o.1W[i].1i(o.1W[i].qa("/")+1);o.3c[i]=o.3c[i].1i(0,o.3c[i].qa("."))}if(o.1W[i].K("#0")==0){o.1W[i]=cJ(o.1W[i])}if(o.1W[i].K("#"+v.aQ)==0){o.1W[i]=o[o.fd[0]](o.1W[i])}}if(o.3c.S>1&&v.mI==1){o.3c.2Y(n0(\'U3\',(v.U2==1&&L(v.Fl)?v.Fl:\'+ \'+2L(\'U1\'))));o.1W.2Y("az")}if(o.3c.S>0&&v.9k==1){if(v.ys==1){7L=0;1z++;o.3c.kK(n0(\'Fj\',2L(\'7e\')));o.1W.kK("")}F{o.3c.2Y(n0(\'Fj\',2L(\'7e\')));o.1W.2Y("");7L=o.3c.S-1}}if(L(v.Fg)){U(B i=0;i<o.1W.S;i++){if(v.Fg==o.3c[i]){1z=i;o.3u=i;v.hZ=1}}}if(lb!=\'\'){U(B i=0;i<o.1W.S;i++){if(lb==o.3c[i]){1z=i;o.3u=i}}}if(v.9k==1&&v.hZ==0){o.3u=7L}L(o.Q)?o.Q.b3():\'\';if(v.hZ==1){o.3u=1z;if(o.1z){if(v.mI==1&&o.1W[1z]=="az"){wt(o.3u)}F{ln(o.3u)}}F{ah=x;o.4X=o.1W[1z]!=\'7e\'&&1z!=7L;1w(lk,4l)}}F{if(we&&o.1W.S<3){ln(7L==0?1:0)}v.9k!=1?o.3u=-1:\'\'}}F{4y()}};E Fa(x){if(x.K(\'js:\')==0){2X{x=2j(x.1i(3))}2D(e){9L.1m(e.aS)}}I x?x:\'\'};G.vA=E(x){lh(x,\'1E\')};E ln(x){if(L(o.1W[x])){o.1W[x]=Fa(o.1W[x]);if(o.1W[x]){if(o.1W[x].K(".")>-1){o.n3=o.1W[x].2u(" or ");o.ho=0;lh(x)}F{if(o.1W[x].K(\'bc\')==0){if(bc[o.1W[x].1i(4)]){wa(o.3c[x],bc[o.1W[x].1i(4)])}}if(o.1W[x].K(\'1E\')==0){o.P.gf(x,"Mq");o.4X=H;o.3u=x;o.Q.b3()}}}}}E wt(x){o.4X=H;lk()}E lh(x,y){B 17=y==\'1E\'?x:4U(o.n3[o.ho]);B iY=17;B hA;if(q8[17]){if(o.1W[x]!=\'az\'){o.4X=H;lk()}}F{if(17.K(\'bW\')>0&&17.K(\'bW\')<4){hA=17.1i(0,17.K(\'bW\'));iY=17.1i(17.K(\'bW\')+3)}B 56=gY(iY);9j=x;o.lf=1;56.9D=E(){o.lf=0;if(G.gX==4&&G.7O==4r){o.4X=H;wa(17,G.eK,x,y)}F{if(o.ho+1<o.n3.S){o.ho++;lh(9j)}F{mL("h9")}}};56.qp=E(e){o.lf=0;if(o.ho+1<o.n3.S){o.ho++;lh(9j)}F{mL("h9")}};56.eS()}};E mL(x){1m("1X hO ob or EA EO");if(o.3c&&o.1W){if(o.3c[o.3u]){if(o.3c[o.3u].K(2L("h9"))==-1){o.3c[o.3u]=o.3c[o.3u]+\' (\'+2L(x)+\')\'}}if(v.NW==1&&9j>-1){o.1W[9j]=\'\';o.3c[9j]=\'\'}}o.3u=-1;o.4X=J;if(o.NX){o.Q.b3();o.Q.4N()}F{1w(E(){if(o.Q){o.Q.b3();o.Q.4N()}},100)}if(L(o.1X)){o.1S.3n(o.1X);o.1X=28}}E wa(17,x,y,z){B hA;if(x.K("#"+v.aQ)==0){x=o[o.fd[0]](x)}if(x.K("#"+v.c9)==0&&x.K(v.fe)>0){x=o[o.fd[1]](x)}if(17.K(\'bW\')>0&&17.K(\'bW\')<4){hA=17.1i(0,17.K(\'bW\'))}if(17.K(\'.kG\')>-1||17.K(\'.w4\')>-1||17.K(\'.mH\')>-1||17.K(\'.w5\')>-1){B l=hA?hA:o.3u;!o.1W?o.1W=[]:\'\';if(o.1W[l]=="az"){l=y}if(z!=\'1E\'||!2p[l]){2p[l]=8k();2p[l][0]=[];2p[l][1]=[]}B 3E=aB();3E=x.2u(/\\r|\\n/);B 9v=1;B t1=0;B t2=0;B hw=(L(v.F8)?v.F8:0);if(17.K(\'jF=\')>0){hw=17.1i(17.K(\'jF=\')+6)*1}U(B i=0;i<3E.S;i++){if(17.K(\'.kG\')>-1||17.K(\'.w5\')>-1){if(3E[i].K(\'-->\')>-1&&3E[i].K(\':\')>-1){if(z==\'1E\'){if(kI.K(3E[i])>-1){1h}kI.2Y(3E[i])}t1=kF(3E[i].1i(0,3E[i].K(\'-->\')))*1+hw;t1==0?t1=1:\'\';t2=kF(3E[i].1i(3E[i].K(\'-->\')+4,12))*1+hw;L(2p[l][0][t1])?\'\':2p[l][0][t1]=\'\';U(B j=t1;j<t2;j++){2p[l][1][j]=t1}9v++}F{3E[i]=4U(3E[i]);if(3E[i]!=\'\'&&3E[i].S>0&&3E[i]!=9v&&3E[i]!=\'O2\'){if(1Y(2p[l][0][t1])){2p[l][0][t1]=2p[l][0][t1]+\'<br>\'+3E[i]}F{2p[l][0][t1]=3E[i]}}}}if(17.K(\'.w4\')>-1||17.K(\'.mH\')>-1){if(3E[i].K(\'O5:\')>-1){t1=kF(3E[i].1i((17.K(\'.mH\')>-1?3E[i].K(\'=0\')+3:12),12))*1+hw;t2=kF(3E[i].1i((17.K(\'.mH\')>-1?3E[i].K(\'=0\')+14:23),10))*1+hw;B p=\'\';if(3E[i].K(\'0,,\')>0){p=3E[i].1i(3E[i].K(\'0,,\')+3)}F{if(3E[i].K(\'F4,\')>0){p=3E[i].1i(3E[i].K(\'F4,\')+6)}if(3E[i].K(\')}\')>0){p=3E[i].1i(3E[i].K(\')}\')+2)}}if(p!=\'\'){if(2p[l][0][t1]!=1F){2p[l][0][t1]+=\'<br>\'+p}F{2p[l][0][t1]=p}2p[l][0][t1]=2p[l][0][t1].1R(/{.*?}/,\'\');2p[l][0][t1]=2p[l][0][t1].1R(/\\\\\\\\N/,\'<br>\');2p[l][0][t1]=2p[l][0][t1].1R(/\\\\N/,\'<br>\');U(B j=t1;j<t2;j++){2p[l][1][j]=t1}}}}}q8[17]=H;if(o.1W[y]!=\'az\'){z!=\'1E\'?lk():\'\'}}F{if(x!=\'\'){if(x.K(\'[\')==0){bN(x)}F{mL("2x")}}F{4y();o.Q.4N()}}}E lk(){o.Q.b3();o.V.jA();o.Q.4N()}E kF(kG){B 1C=kG.2u(\':\');B 4A=0;1C.S==2?1C.kK("cQ"):\'\';1C[0]!=\'cQ\'?4A+=1C[0]*yc:\'\';1C[1]!=\'cQ\'?4A+=1C[1]*60:\'\';4A+=1C[2].1i(0,2)*1;4A=4A*10+1C[2].1i(3,1)*1;I 4A};E 9l(x){if(L(o.3u)){if(o.3u!=x){kI=[];if(x==-1||(v.9k==1&&x==7L)){m7()}F{v.eo=0;o.3u=x;o.4X=H;v.hZ=1;yn(x);js("1X",o.3c[x]);o.Q.b3()}}F{if(v.9k!=1){m7()}}o.6H?o.6H.NA():\'\'}}E xl(){if(L(o.3c[o.3u])){if(o.5h&&v.wx==1){3A.8d("wu",o.3c[o.3u])}F{v.NN!=1?o.qq=o.3c[o.3u]:\'\'}}}E yn(x){if(L(o.1W[x])){1m("gO",x);o.3u=x;xl();if(o.2w=="1E"&&o.a5==H){o.P.gf(x,"1E")}F{if(o.2w=="3W"&&o.y8==H){o.P.gf(x,"3W")}F{if(o.1W[x]=="az"){wt(o.3u)}F{ln(o.3u)}}}}};G.wq=E(){if(o.hT){B x=o.hT.41;if(x[0]){B y=1u iE();y.9D=E(e){B z=e.4c.iT;bc.2Y(z);o.3u=-1;B z=x[0].6l;if(z.S>40){z=x[0].6l.1i(0,15)+\'...\'+x[0].6l.1i(-15)}if(v.9k==1&&v.ys==1){o.1W.2Y(\'bc\'+(bc.S-1));o.3c.2Y(z+\'\');9l(o.1W.S-1)}F{o.1W.kK(\'bc\'+(bc.S-1));o.3c.kK(z+\'\');v.9k==1?7L++:\'\';9l(0)}o.hT.5r=""};y.FK(x[0])}F{o.hT.2o()}}};G.9l=E(x){9l(x)};G.7L=E(){I 7L};G.FT=E(){I 2p?2p.S>0:J};G.NE=E(x){7L=x};G.1n=E(x){gu(x)};G.C=E(){xo()};G.5Q=E(){4y()};G.7e=E(){m7()};E m7(){js("1X","7e");o.4X?o.Az=o.3u:\'\';o.3u=v.9k==1?7L:-1;v.hZ=0;o.4X=J;o.Q.b3();xl();o.y8?yn(o.3u):\'\';L(o.1X)?o.1S.3n(o.1X):\'\';o.1X=28}E gu(18){if(o.9q){I}B t=2R(18*10);if(v.eo){18=18-v.eo*1}if(o.4X&&L(o.1W)){if(2p){B x=o.3u;B t=2R(18*10);tt=t*100;if(v.zE==1&&!o.1t){I}if(o.1W[x]=="az"){if(!pq){U(B i=0;i<o.1W.S;i++){1w(ln,i*4l,i)}if(!2p[x]){2p[x]=8k();2p[x][0]=aB();2p[x][1]=aB()}pq=H}F{if(2p[x][1][t]){}F{U(B i=0;i<o.1W.S;i++){if(2p[i]){if(L(2p[i][1])){if(L(2p[i][1][t])){if(!2p[x][0][t]){2p[x][0][t]=\'\'}2p[x][0][t]+=(2p[x][0][t]!=\'\'?\'<br>[mF]\':\'\')+2p[i][0][2p[i][1][t]]+(2p[x][0][t]!=\'\'?\'[/mF]\':\'\')}}}}if(L(2p[x][0])){if(L(2p[x][0][t])){2p[x][1][t]=t}}}}}if(L(2p[x])){if(L(2p[x][1])){if(L(2p[x][1][t])){qI=2p[x][1][t];B y=2p[x][0][qI];if(!L(o.1X)){o.1X=1U(\'29\');3V(o.1X,{id:\'jc\'+v.id+\'3P\'+\'1X\'});o.1S.1Q(o.1X);xo();js("vr",o.3c[x])}if(4P){5i(o.1X)}AR();if(v.AD==1){y=O8(y)}if(v.mI==1){y=y.1R(/\\[mF\\]/gm,\'<7D C="1o:\'+3r(v.ic)+\'">\');y=y.1R(/\\[\\/mF\\]/gm,\'</7D>\')}if(y.K(\'<c.\')>-1){y=y.1R(/\\<c./gm,\'<7D C=1o:\');y=y.1R(/\\<\\/c\\>/gm,\'</7D>\')}if(v.9b){if(v.9b.2p==1&&yf!=y){js("2p",y);yf=y}}o.1X.1P=\'<7D C="\'+(v.Ex==1?\'2k-1o:\'+4x(v.pw,v.pE)+\';\':\'\')+\'-3C-7F-qz-1h: Oy;1o:\'+3r(v.i5)+\';2O:\'+v.yd+\'px \'+v.yd*2+\'px;2K-6E:\'+v.Ec+\'px;2M:0 0;2F-1b:\'+(v.Eh?v.Eh:1.8)+\';3Q-dI:\'+v.pd+\'">\'+4U(y)+\'</7D>\';O(o.1X,{"3Q-3J":((2R(v.mK)+((2R(v.i4)-100)*2R(v.mK)/100))+"px")});if(v.Ef==1){if(o.1Z){O(o.1X,{"3Q-3J":((v.mC+((2R(v.i4)-100)*v.mC/100))+"px")})}}4P=J;if(o.6H){if(o.6H.ea()){o.6H.8f(2p,qI);if(v.OE==1){3a(o.ET);3a(o.oJ);qw=H}}F{if(qw&&!4P){5i(o.ET);5i(o.oJ);qw=J}}}}F{if(!4P&&L(o.1X)){xD()}}}}F{xD()}}}}E xD(){if(!4P){o.1X?o.1X.1P=\'\':\'\';4P=H;3a(o.1X)}}E xo(){if(o.1X){O(o.1X,{"1q":"2B","X":"100%","2O-19":"10%","2O-2q":"10%","19":0,"1o":v.i5,"1D-8U":"8v","7F-lP":"2K-7F"});if(v.Od==1&&L(v.xN)){v.xN!=\'\'?O(o.1X,{"3Q-er":v.xN}):\'\'}if(v.xO==1){O(o.1X,{"1D-ar":"-4w -4w 0 #g2,4w -4w 0 #g2,-4w  4w 0 #g2,4w  4w 0 #g2"})}F{if(v.pe==1){O(o.1X,{"1D-ar":"4w 4w Of Oa"})}F{O(o.1X,{"1D-ar":"1O"})}}if(v.Oj==1){sg(o.1X,\'o.mN\')}F{v.AD!=1?g0(o.1X):\'\'}}}E AR(){if(!o.mN){if((o.Q.f6()||v.eF>v.1p.h)&&v.Ny==1){O(o.1X,{"1q":"2B","1c":"2A","19":0,"2N":v.eF*1})}F{O(o.1X,{"1q":"2B","19":0,"2N":(v.eF*1+v.1p.h*1)})}}}E 4y(){o.3u=-1;o.4X=J;o.rk=J;v.1X=28;v.md=28;o.2p=28;o.1W=28;pq=J;q8=[];2p=[];if(L(o.Q)){o.Q.b3()}o.3c=[];if(L(o.1X)){o.1S.3n(o.1X);o.1X=28}o.3u=28;o.4X=J}};E AZ(q7){B 2H=-1;B pl=[];B 2W=[];B ex=[];B 1G=[];B 3z=[];B hz=[];B h=[];B j=0;B 3S=5;B bj=0;B 6z;B vU;B C=v.W;!C.eW?C.eW=\'3y\':\'\';!C.9X?C.9X=\'3Y\':\'\';B eW=(C.B2==1?C.eW:C.1o);B 9X=(C.B2==1?C.9X:C.4B);if(v.W.6z>0&&!6z){if(1H qk!=="1F"){6z=1u qk(H,C)}}hN(".q0"+v.id+"6U::-3C-xG {X: "+4d(0.3*2h(C.MI,1))+"MO;}.q0"+v.id+"6U::-3C-xG-8G {2k:"+4x(C.4B,C.4v)+"}.q0"+v.id+"6U::-3C-xG-bn {2k:"+3r(2h(C.MP,C.5n))+"}");C.9J=4;B mu="<2l X=\'"+(C.9J*2+2)+"\' 1b=\'"+(C.9J*1.2+1)+"\' 4h:4e=\'3T://4g.w3.47/7C/4e\' 4h=\'3T://4g.w3.47/4p/2l\' C=\'4C-3o:1O;4S:2V 0.2s 5f-4A;1q: 2B;2N: 50%;2M-2N:-"+((C.9J*1.2+2)/2)+"px;2q:"+(C.l4/2+C.9J/2)+"px\'><g><2F x1=\'1\' y1=\'1\' x2=\'"+(C.9J+1)+"\' y2=\'"+(C.9J*1.2)+"\' 3D=\'#"+eW+"\' 3D-X=\'1\' 3D-dx=\'4a\'/><2F x1=\'"+(C.9J+1)+"\' y1=\'"+(C.9J*1.2)+"\' x2=\'"+(C.9J*2+1)+"\' y2=\'1\' 3D=\'#"+eW+"\' 3D-X=\'1\' 3D-dx=\'4a\'/></g></2l>";if(o.1y){U(B i=0;i<3S;i++){pR(i)}if(C.wH==1){o.yN=H;pR(3S)}if(C.wK==1){o.MU=H;pR(3S+1)}o.aI==0?o.aI=o.3i:\'\';8f();8A(0)}E pR(i){2W[i]=1U("29");B Y=1U("29");O(2W[i],{"1q":"2B","1c":C.8x,"1o":C.1o,"5J":"3b","3Q-er":eq(C.3Q),"2K-6E":C.7h+\'px\',"4T":2i});if(1Y(C.lH)){O(2W[i],{"2K":"4w 6x "+3r(2h(C.lG,\'3y\'))})}o.1S.1Q(2W[i]);3V(2W[i],{id:(v.id+"3P"+"W"+(i+1))});1G[i]=1U("29");B fs=C.fZ;if(C.Ax>0){fs=C.Ax;if(C.As>0&&o.96){fs=C.As}}O(1G[i],{"2g":"4q","3Q-3J":fs*2h(v.7A,1)});2W[i].1Q(1G[i]);3z[i]=1U("29");O(3z[i],{"2g":"4q","4S":"1b 0.1s 5f-4A","3Q-3J":C.cW*2h(v.7A,1),"5J-x":"3b"});3z[i].eM.8C("q0"+v.id+"6U");3z[i].1v("jn",Ah,{5H:J});if(C.7Q==1){O(3z[i],{\'dS-5w\':\'7Q(9h)\'})}2W[i].1Q(3z[i])}E 8f(){U(B i=0;i<=3S+1;i++){if(3z[i]){3z[i].1P=\'\';1G[i].1P=\'\'}}B fH=o.1y[o.aI];dp(fv(fH,0),0);dp(fv(fH,1),1);dp(fv(fH,2),2);dp(fv(fH,3),3);dp(fv(fH,4),4);if(C.wH==1){if(o.6k.S>0){B au=[{1G:o.6k[o.6v],id:"wU-0"}];U(B y in o.6k){au.2Y({1G:o.6k[y],id:"Ce"+y})}dp(au,3S)}}if(C.wK==1){if(o.2r.S>1&&o.3h>-1){B qu=[{1G:o.2r[o.3h],id:"4Y-0"}];U(B y in o.2r){qu.2Y({1G:o.2r[y],id:"wo"+y})}dp(qu,3S+1)}}2n()}E fv(x,n){U(B i=0;i<n;i++){if(x){if(x.7H==\'\'){x=-1;1h}F if(o.1y[x.7H].7H!=-1){x=o.1y[x.7H]}}}I x}B au;E dp(x,n){if(x){if(x==-1){ex[n]=J;3a(2W[n])}F{ex[n]=H;5i(2W[n]);B pl=[];B qm=\'\';if(n==3S){pl=x;z=\'Ce\'+o.6v;qm=\'au\'}F if(n==3S+1){pl=x;z=\'wo\'+o.3h;if(o.P.gJ()){z+=\',wo\'+(o.2r.S-1)}qm=\'qu\'}F{pl.2Y(x);U(B y in o.1y){if(o.1y.2v(y)){if(o.1y[y].7H==x.7H){pl.2Y(o.1y[y])}}}B z=x6(o.3i);if(6z){if(pl.S>v.W.6z+1){6z.8C(C,3z[n])}}}U(B i=0;i<pl.S;i++){B 1C=1U("29");O(1C,{"2g":"4q","1q":"eN","6R":"4C","2O":yz(C.2O),"4S":"1o .1s 5f-4A","2O-2q":C.l4+(o.2T>cP?C.9J*3:0)});B fw=1U("29");O(fw,{"1q":"2B","1c":0,"19":0,"4T":-1,"X":"100%","1b":"100%","4S":"5w .2s 5f-4A,2k .2s 5f-4A,1B .2s 5f-4A"});92(fw,i,2h(C[\'4B\'+qm],C.4B),C.4v);if(i==0){O(1C,{\'1o\':eW})}F{O(1C,{"1o":C.1o})}B Ba=\'\';if(z){if(z.K(pl[i].id)>-1&&i>0){O(1C,{"1o":C.5n});C.kq==1&&L(C.cU)?O(fw,{"7E":C.cU}):\'\';if(1Y(C.r4)){O(1C,{"2k-9A":"3g-4D(5p(0, 0, 0, "+(1-C.r4*1)+") 0 0)"})}1C.eM.8C(\'6T-\'+v.id+\'-a0-pl\')}}1C.1P=(i>0?Ba:\'\')+pl[i].1G+(i==0&&o.2T>cP?mu:\'\');1C.7d("me",(i==0?\'xe\':\'\')+pl[i].id);if(C.7Q==1){O(fw,{\'dS-5w\':\'7Q(9h)\'})}if(i==0){if(z.K(pl[i].id)>-1||n>0){hz[n]=pl[i].id}F{1C.1P=(C.MY!=1?\'...\':(C.Bi?C.Bi:\'\'))+mu}1G[n].1Q(1C)}F{if(o.8L[pl[i].id]&&pl[i].id!=o.3i){A2(1C)}3z[n].1Q(1C)}1C.1Q(fw)}O(3z[n],{"1b":"2A"});h[n]=3z[n].2Q;O(3z[n],{"1b":0});2W[n].1v("2o",8R);2W[n].1v("go",6b);2W[n].1v("gw",5u)}}F{}}E 92(x,i,y,z){B ok;if(x){if(C.yw==1&&C.wd){O(x,{"2k":"3g-4D(to 19,"+4x(C.wd,z)+", "+4x((i==0?9X:y),z)+")"});ok=H}if(!ok){O(x,{"2k-1o":4x((i==0?9X:y),z,x)})}}}E x6(id){B x=o.1y[id];B z=[];if(x){U(B i=0;i<3S;i++){z.2Y(x.id);if(x.7H!=\'\'){x=o.1y[x.7H]}}}I z}E 8R(x){B z=x.4c;B d=1u 6N();o.an=d.9C();z.g9!=\'wi\'?z=z.3M:\'\';z.g9!=\'wi\'?z=z.3M:\'\';B y=z.3M.3M;B me=z.6t("me");if(me){if(me.K("xe")==0){B i=-1;U(B j=0;j<=3S+1;j++){if(2W[j]){y==2W[j]?i=j:\'\'}}dJ();if(i>-1){if(2H!=i){kk(i)}F{2H=-1}}}F{5i(1G[2H]);if(hz[2H]==me){dJ();if(2H>0){kk(2H-1);I}F{2H=-1}}F{hz[2H]=me}if(2H==3S){3l("7b",me.1i(6));8f()}F if(2H==3S+1){3l("4Y",me.1i(8));8f()}F{if(o.1y[me].4W){o.Q.zY(me);dJ();2H=-1;wX()}F{dJ();o.2c=1F;2H=-1;3l("1t","id:"+me)}}}}lL()}E wX(){U(B y in o.1y){if(o.1y.2v(y)){if(o.1y[o.aI]){if(o.1y[y].7H==o.1y[o.aI].id){o.aI=o.1y[y].id;8f();if(o.1y[y].4W){if(3z[0].gb.S<2){wX()}F{kk(0)}}F{if(C.Nw==1){B me=3z[0].gb[0].6t(\'me\');me?3l("1t","id:"+me):\'\'}F{kk(0)}}1h}}}}}E kk(i){O(3z[i],{"1b":"2A"});O(Bg(1G[i].gb[0]),{"2k-1o":4x(9X,1)});O(1G[i].9i("2l")[0],{"2V":"1K(-1, -1)"});o.Q.bH();2H=i}E dJ(){if(2H>-1){O(3z[2H],{"1b":0});O(3z[2H],{"2K-1c":"1O"});O(Bg(1G[2H].gb[0]),{"2k-1o":4x(9X,C.4v,Bg(1G[2H].gb[0]))});O(1G[2H].9i("2l")[0],{"2V":"1K(1, 1)"})}}E 6b(x){B y=x.4c;B me=y.6t("me");B bg=Bg(y);if(me){if(1Y(C.a9)){O(bg,{"5w":"f8("+(C.a9)+")"})}if(2H==-1||me.K("Ew")==0){92(bg,-1,2h(C.Nu,9X),1)}F{if(1Y(C.8O)){92(bg,-1,C.8O,(C.7n>-1?C.7n:C.4v))}}}}E 5u(x){B y=x.4c;B me=y.6t("me");B z=x6(o.3i);B cl=y.eM;B at=cl.5r?cl.5r.K(\'-a0\')>-1:J;B bg=Bg(y);if(me){if(1Y(C.a9)){O(bg,{"5w":"f8(1)"})}if(2H==-1||me.K("xe")==0){B yy=x.4c.3M.3M;B i=-1;yy==2W[0]?i=0:\'\';yy==2W[1]?i=1:\'\';yy==2W[2]?i=2:\'\';92(bg,-1,9X,(2H==i?1:C.4v))}F{if(o.8L[me]&&me!=o.3i){A2(y)}if(C.kq==1&&L(C.cU)&&(me==hz[2H]||at)){92(bg,-1,C.cU,C.4v)}F{92(bg,-1,C.4B,C.4v)}}}};E Ah(e){}E 2n(){if(5F(2W[0])){B cD=0;U(B i=0;i<1G.S;i++){1G[i].2Q>cD?cD=1G[i].2Q:\'\'}bj=o.4m-cD-(o.4m>4r?v.1p.h+(o.4m>cP?60:30):0);if(cD>0){bj=2E.4a(bj/cD)*cD+(C.xi==1?2E.4a(bj/cD):0)-(o.4m<=4r?5:0)}if(bj>0){B kC=0;U(B i=0;i<=3S+1;i++){if(3z[i]){if(3z[i].pA>bj){O(3z[i],{"5J-y":"6U","2M-2q":0,"5t-1b":bj})}F{O(3z[i],{"5J":"3b","5t-1b":"1O"})}if(v.W.1q.K("2q")>-1){O(2W[i],{"2q":C.4u+BB(i)})}F{O(2W[i],{"19":C.4j});if(i>0){B rg=C.4j+Bz(i);O(2W[i-1],{"19":rg});rg>kC?kC=rg+2W[i-1].2a:\'\'}}}}if(C.wH==1){O(2W[3S],{"19":C.4j+kC})}if(C.wK==1){O(2W[3S+1],{"19":C.4j+kC+2W[3S].2a})}}}}E Bz(x){B y=0;U(B i=3S-1;i>=x;i--){y+=2W[i].2a+(2W[i].2a>0?C.4u:0)}I y}E BB(x){B y=0;U(B i=0;i<x;i++){y+=2W[i].2a+(2W[i].2a>0?C.4u:0)}I y}E 8A(x){B t=0.3;if(x==1){U(B i=3S+1;i>=0;i--){if(ex[i]){if(C.c6=="a"){B m=1u 5a({"mc":2W[i],"me":"qc"+i,"1I":"7s","to":1})}if(C.c6=="t"){B m=1u 5a({"mc":2W[i],"me":"qc"+i,"1I":"1c","to":C.8x,"18":t});t+=0.3}if(C.c6=="i"||!C.c6){5i(2W[i])}}}}F{U(B i=0;i<=3S+1;i++){if(ex[i]){if(C.c6=="a"){B m=1u 5a({"mc":2W[i],"me":"qc"+i,"1I":"7s","to":0})}if(C.c6=="t"){B m=1u 5a({"mc":2W[i],"me":"qc"+i,"1I":"1c","to":-C.8x-40,"18":t});t+=0.3}if(C.c6=="i"||!C.c6){3a(2W[i])}}}}}E nZ(x){if(x>-1){if(3z[x].pA>bj){I H}}I J}E A2(x){O(x,{\'1o\':C.zt});if(C.yW==1){O(x,{\'1D-qz\':\'2F-AO\'})}if(C.lm>-1){O(x,{\'1B\':C.lm})}O(Bg(x),{\'2k-1o\':4x(C.qF,C.lD>-1?C.lD:C.4v)})}E Bg(x){if(x){I x.9i(\'53\')[0]}}G.nZ=E(){I nZ(2H)};G.zK=E(){8A(0);dJ();2H=-1};G.gu=E(){8A(1)};G.nQ=E(){I 2H>-1};G.8f=E(){if(o.aI!=0){B hd=0;2H=-1;!5F(2W[0])?hd=1:\'\';8f();hd?8A(0):\'\'}};G.2n=E(){2C(vU);vU=1w(2n,4l)};G.aq=E(){dJ();2H=-1};G.4y=E(){U(B i=0;i<=3S+1;i++){if(2W[i]){2W[i].5G("2o",8R);2W[i].5G("go",6b);2W[i].5G("gw",5u);3z[i].5G("jn",Ah);o.1S.3n(2W[i]);o.2I=1F}}}};B 5a=E(x){B fR;B N4;B 2Z;B 4Z;B 3N;B qZ;B fJ=0;B c7;B z2=J;B A5;if(x.me!=1F&&x.mc!=1F&&x.1I!=1F&&x.to!=1F){if(x.18==28){if(x.1I.K("hX")>-1){x.to==0?x.18=0.5:x.18=0.2}F{x.18=0.20}}fR=C4(x.5f);if(x.1I.K("1K")==-1){if(L(o.7P[x.me])){o.7P[x.me].zV()}o.7P[x.me]=G}if(x.1n==1){x.mc.1T("2g",H)}2Z=x.1I.2u(\'|\');3N=7B(x.to).2u(\'|\');4Z=1u aB();U(B i=0;i<2Z.S;i++){if(!3N[i]){3N[i]=3N[0]}if(2Z[i]=="hX"){4Z[i]=x.mc.g("1B")}if(2Z[i]=="7s"){4Z[i]=x.mc.C.1B}if(2Z[i]=="y"){4Z[i]=x.mc.g("y")}if(2Z[i]=="x"){4Z[i]=x.mc.g("x")}if(2Z[i]=="19"){4Z[i]=2R(x.mc.C.19)}if(2Z[i]=="1c"){4Z[i]=2R(x.mc.C.1c)}if(2Z[i]=="1K"){4Z[i]=x.mc.g("3x")}if(2Z[i]=="6U"){4Z[i]=x.mc.ep}if(2Z[i]=="iw"){4Z[i]=x.mc.bD}if(2Z[i]=="3H"){4Z[i]=x.mc.g("3H")}if(2Z[i]=="3x"){4Z[i]=x.mc.g("3x")}if(2Z[i]=="X"){4Z[i]=x.mc.g("X")}if(2Z[i]=="AP"){4Z[i]=x.mc.2a;3N[i]=2E.9o(3N[i]);x.me=="OI"?1m("X",x.me,4Z[i],3N[i],x.mc.2a):\'\'}if(2Z[i]=="1b"){4Z[i]=x.mc.g("1b")}if(2Z[i]=="AW"){4Z[i]=x.mc.2Q}3N[i]=AM(3N[i]);4Z[i]=AM(4Z[i])}c7=x.18*2i/fR.S;qZ=fR.S;if(2Z.S==1&&4Z[0]==3N[0]){al()}F{1w(qo,2E.4a(c7))}}E qo(){U(B i=0;i<2Z.S;i++){B 1C=4Z[i]+(3N[i]-4Z[i])*(fR[fJ]?fR[fJ]:0);zP(2Z[i],1C);if(2Z[i]=="y"){x.mc.1T("1c",1C)}if(2Z[i]=="x"){x.mc.1T("19",1C)}if(2Z[i]=="19"){x.mc.C.19=1C+"px"}if(2Z[i]=="1c"){x.mc.C.1c=1C+"px"}if(2Z[i]=="1K"){x.mc.1T("1K",1C)}if(2Z[i]=="3H"){x.mc.1T("3H",1C)}if(2Z[i]=="3x"){x.mc.1T("3x",1C)}if(2Z[i]=="6U"){x.mc.ep=1C}if(2Z[i]=="iw"){x.mc.bD=1C}if(2Z[i]=="X"){x.mc.1T("X",1C)}if(2Z[i]=="AP"){O(x.mc,{"X":1C})}if(2Z[i]=="1b"){x.mc.1T("1b",1C)}if(2Z[i]=="AW"){O(x.mc,{"1b":1C})}}fJ++;if(!z2){if(fJ==qZ){al()}F{A5=1w(qo,2E.4a(c7))}}}E al(){z2=H;if(x.1j){if(2Z[0]=="7s"||2Z[0]=="19"){1j(x.mc)}F{x.mc.1T("2g",J)}}if(x.1I.K("1K")==-1){o.7P[x.me]=28;4M o.7P[x.me]}U(B i=0;i<2Z.S;i++){zP(2Z[i],3N[i])}2C(A5)};E zP(y,z){if(y=="hX"){x.mc.1T("1B",z)}if(y=="7s"){x.mc.C.1B=z}}G.zV=E(){al()};G.Dl=E(){fJ=qZ-1;qo();al()};G.XY=E(x0,x1,y0,y1){B e=J;U(B i=0;i<2Z.S;i++){if(2Z[i]==\'x\'&&x0!=x1){e=H}if(2Z[i]==\'y\'&&y0!=y1){e=H}}e?al():\'\'};E C4(C1){cT(C1){1k"BU":I[0,0.Qn,0.Qo,1.Qp,1.Qq,1.Qr,1.102,0.Qs,0.Qm,0.87,0.Qc,0.PX,1.Qb,1.Q8,1.Q7,1.Q6,0.Q4,0.Q3,0.Q2,0.Q1,1.Q0,1.C9,1.PZ,1.C9,1.Qt,0.kL,0.ph,0.ph,0.ph,0.ph,1];1h;1k"dh":I[0,0.Qu,0.QN,0.QQ,0.QR,0.QU,0.QO,0.QY,0.QZ,0.R0,0.R1,0.R2,0.QW,0.QM,0.QL,0.Qx,0.QA,0.QC,0.Cb,0.95,0.Qw,0.QD,0.QF,0.QG,0.99,0.QH,0.QI,0.kL,1];1h;7f:I[0,0.Cc,0.32,0.44,0.52,0.6,0.67,0.73,0.QK,0.82,0.85,0.Qv,0.PV,0.Cb,0.95,0.97,0.PU,0.P6,1];1h}}};B Ga=E(){B N=8e.P7,ua=8e.P8,yR;B M=ua.yQ(/(q3|j0|6W|Ca|C8)\\/?\\s*(\\.?\\d+(\\.\\d+)*)/i);B M=ua.yQ(/(q3|j0|6W|Ca|C8|Pb|r7)\\/?\\s*(\\.?\\d+(\\.\\d+)*)/i);if(M&&(yR=ua.yQ(/8P\\/([\\.\\d]+)/i))!=28)M[2]=yR[1];B pX=8e.Bo;G.bZ=M?M[1]:N;G.8P=M?M[2]:8e.Pf;G.eE=8e.Bo>1;G.a7=8e.Ld;G.q3=G.bZ=="Pj";G.rO=G.bZ=="Bm 9.0";G.ie=G.bZ=="Bm"||G.bZ=="P3"||G.bZ=="P2";G.r7=ua.cF(/(r7)\\/?\\s*/i)>-1;G.ff=G.bZ=="P0";G.6W=G.bZ=="OY";G.j0=1A.j0;G.jx=ua.cF("OX NT")>-1;G.4E=(ua.cF(/(7M|lV|OT)\\/?\\s*/i)>-1)||(8e.OQ===\'OP\'&&pX>1);G.tv=v.Bh!=1&&ua.cF(/(TV|OO|ON|Pk|P4|Pl|PE|PG)\\/?\\s*/i)>-1;G.lg=v.Bh!=1&&ua.cF(/(LG)\\/?\\s*/i)>-1;G.7M=ua.cF(/(7M)\\/?\\s*/i)>-1;G.lV=G.4E&&!G.7M;G.3C=\'PI\'in 22.rn.C;if(ua.cF(/(bm)\\/?\\s*/i)>-1){pX>0?G.bm=H:G.tv=H;if(PJ(\'(4C:PK)\').PL){G.tv=H}}G.2e=(2G.2e==1||G.4E||G.bm||(ua.cF(/(PO|PP|q3 nr)\\/?\\s*/i)>-1))&&!G.tv&&2G.PR!=1;G.zR=G.6W||G.j0;G.1Z=J;if(G.4E){G.PN=4d(ua.1i(ua.K(\'OS \')+3,4).1R(\'3P\',\'.\'));if(G.lV&&(!\'Kl\'in 1A||pX<2)){G.2e=G.4E=J;G.tv=H}}G.gx=!G.2e;G.zF=G.2e||G.eE;G.Gm=G.2e||G.tv;G.Pv=G.3C&&G.gx;if(o.1S.zj||o.1S.jP||o.1S.zp||o.1S.ze||o.1S.zw){G.1Z=H}};E cM(4H,7y){U(B s in 7y){if(1H(7y[s])==\'3L\'){if(s=="3o"||s=="3j"){4H[s]=7y[s]}F{U(B s2 in 7y[s]){if(1H(4H[s])!=\'3L\'){4H[s]={}}if(1H(7y[s][s2])==\'3L\'){U(B s3 in 7y[s][s2]){if(1H(4H[s][s2])!=\'3L\'){4H[s][s2]={}}if(1H(7y[s][s2][s3])==\'3L\'){U(B s4 in 7y[s][s2][s3]){if(1H(4H[s][s2][s3])!=\'3L\'){4H[s][s2][s3]={}}4H[s][s2][s3][s4]=7y[s][s2][s3][s4];if(s3==\'2O\'||s3==\'2M\'){4H[s][s2][s3][s4]=2R(4H[s][s2][s3][s4])}}}F{4H[s][s2][s3]=7y[s][s2][s3];if(s2==\'2O\'||s2==\'2M\'){4H[s][s2][s3]=2R(4H[s][s2][s3])}}}}F{4H[s][s2]=7y[s][s2];if(s==\'2O\'||s==\'2M\'){4H[s][s2]=2R(4H[s][s2])}}}}}F{if(s.K("EV")>0&&4U(7y[s])===""){}F{4H[s]=xq(s,7y[s])}}}I 4H};B xq=E(1a,5r){if(1H(5r)==\'4O\'){5r=4U(5r);if(1a.K("1o")>-1&&5r!=-1){5r=3r(5r)}}I 5r};E Gh(){2X{B 5h=1A[\'3A\'],x=\'Pp\';5h.8d(x,x);5h.sP(x);I H}2D(e){I J}};E zy(bw){if(bw){if(L(o.7P[bw])){o.7P[bw].zV()}}};B 2L=E(x){B y=x;if(y){y=x.aO(0).Bj()+x.59(1);if(y.K("3P")>-1){y=y.1R(/3P/ig," ")}}B en={"of":"of","ik":"ik","Pw":"By on Bx","Py":"By 2x on Bx","8J":"n1","PB":"No","Am":"Rv","nO":"Yh","e3":"ea 3j","13C":"13D","eF":"13E 2M","pd":"13F dI","pe":"13G","pE":"aK 1B","pw":"aK 1o","i4":"xc 3J","i5":"xc 1o","ic":"xc 1o 2","eo":"4b jF","xd":"aq 2G","wY":"13B","eQ":"13K","13M":"13N to 13O","vJ":"13P","q9":"13Q","q6":"13R","p9":"Bt","BX":"Bt","pc":"HD","pi":"13S HD","13T":"13L HD","uQ":"13z HD","uR":"13p HD 4K","13y":"Ad","13h":"Go to S8 13j\'s 13k","7b":"13l","5L":"13m","1Z":"13n 1Z","Hb":"Dd 1Z"};if(L(en[x])){y=en[x]}if(v.Bd==1){if(o[\'qv\'+o.1g.a7]){v.a7=o.1g.a7;v.Bd=0}}if(L(o[\'qv\'+v.a7])){if(L(o[\'qv\'+v.a7][x])){y=o[\'qv\'+v.a7][x]}}if(v.w8){if(v.w8[x]){y=v.w8[x]}}I y};B a2=E(x,y,z){if(!L(o.iu[y])&&v.s0!=1){B t=o.cB?o.cB:(v.1G?v.1G:\'\');L(v.7q)?t=v.7q:\'\';if(v.Bn[x]==1&&v.CO==1&&L(v.w7)){if(L(1A["Bq"+v.w7])){1A["Bq"+v.w7].13r(\'pB\'+x,{1G:t});1m("BM",\'pB\'+x)}F{1m("BM 13s 2x")}}if(v.Bu[x]==1){if(v.ga==1){B jk;if(1A.Cd){jk={\'13t\':\'13u\',\'13v\':t};if(v.ji){if(1H(v.ji)=="3L"){U(B g in v.ji){if(v.ji.2v(g)){jk[g]=v.ji[g]}}}}v.13w==1?1m(\'ga\',\'pB\'+x,jk):\'\';Cd(\'1d\',\'pB\'+x,jk)}}}}z?o.iu[y]=H:\'\'};B qY=E(17){B x=\'\';17=17.1R("v=","{=");if(17){if(17.K(\'pL.be/\')>-1){x=17.1i(17.K(".be/")+4);x.1R("/","")}F{x=17.2u(/(pL.be\\/|v\\/|x9\\/|13U\\?|5c.13A\\/K9\\/[^#]*#([^\\/]*?\\/)*)\\??{?=?([^#\\&\\?]*)/)[3]}if(x!=\'\'){if(x.K("?t=")>0){v.1z=x.1i(x.K("?t=")+3);B h=0;B m=0;B s=0;if(v.1z.K("h")>0){h=v.1z.1i(0,v.1z.K("h"));v.1z=v.1z.1i(v.1z.K("h")+1)}if(v.1z.K("m")>0){m=v.1z.1i(0,v.1z.K("m"));v.1z=v.1z.1i(v.1z.K("m")+1)}if(v.1z.K("s")>0){s=v.1z.1i(0,v.1z.K("s"));v.1z=v.1z.1i(v.1z.K("s")+1)}if(h>0||m>0||s>0){v.1z=h*yc+m*60+s*1}}if(x.K("?")>0){x=x.1i(0,x.K("?"))}}}I x};B js=E(x,y,li,ev){if(1H(y)==\'4O\'){y=y.1R(/\'/ig,\'\')}if(x=="8K"){o.8K=H}if(ev==1){U(B yi in y){if(y.2v(yi)){if(1H(y[yi])=="3L"){y[yi]=\'\'}}}}if(v.po==1&&o.8K){if(v.13V==1||li==1){t6(x,y)}F{if(y!=1F){if(1H(y)==\'3L\'){2X{y=5E.wC(y)}2D(e){}}}if(1H(v.3o)==\'4O\'){if(v.3o.K("{")==0){2X{v.3o=v.3o.1R(/\\\'/ig,\'"\');v.3o=5E.7m(v.3o)}2D(e){9L.1m(e)}}}if(1H(v.3o)==\'3L\'){if(L(v.3o[x])||L(v.3o[\'wE\'])){B z=x;if(!L(v.3o[x])&&L(v.3o[\'wE\'])){z=\'wE\'}if(x.K("6F")==0){if(L(v.3o[\'1V\'])){z=\'1V\'}}2X{if(y!==1F){2j(v.3o[z]+"(\'"+x+"\',\'"+v.id+"\',\'"+y+"\')")}F{2j(v.3o[z]+"(\'"+x+"\',\'"+v.id+"\')")}}2D(e){1m("3o",e,x)}}}F{if(v.3o==\'\'){v.3o="Co"}2X{if(y!==1F){2j(v.3o+"(\'"+x+"\',\'"+v.id+"\',\'"+y+"\')")}F{2j(v.3o+"(\'"+x+"\',\'"+v.id+"\')")}}2D(e){1m("3o",e,x,y)}}}}if(o.8K&&v.BJ==1){if(o.Cj){2X{o.Cj.l8.mg({1d:x,94:y},"*")}2D(e){}}}if(v.JO==1&&li!==1){if(x&&1Y(v.C6)){B pm=v.C6.1R(/\\s+/ig,\'\').2u(\',\');if(pm.K(x)==-1){I}}B zv={1d:x,18:o.P?(x=="3K"?o.CE:o.P.18()):0};if(y!=1F){zv["26"]=y}if(x=="1l"||x=="18"){zv["1l"]=o.P.1l()}if(x=="1J"||x=="ae"){zv["1J"]=v.1J}if(x=="1u"){zv["id"]=3l("EU")}2X{1A.a1.mg(zv,\'*\')}2D(e){};B z=x;x=="8K"||x=="1z"||x=="4z"?z=x+"ed":\'\';x=="1t"?z="14j":\'\';x=="3R"?z="6I":\'\';x=="5z"?z="3t":\'\';x=="ae"?z="14k":\'\';x=="3K"?z="14l":\'\';x=="14m"?z="14n":\'\';zv["1d"]=z;if(z!=\'\'&&z!=x){zv=5E.7m(5E.wC(zv));2X{1A.a1.mg(zv,\'*\')}2D(e){}}}};B t6=E(x,y){B ev=22.14o(\'7p\');if(y!==1F){ev.94=y}ev.14p(x,H,H);o.1L.14q(ev)};G.2U=E(x,y,R){v.14i==1?1m(\'2U\',x,y):\'\';I 3l(x,y,R)};E 3l(x,y,R){if(L(o.V)&&1H(x)==\'4O\'){if(o.i6==1){I}if(R){if(1H(R)==\'4O\'){if(R.K("id:")==0){R=o.Q.sq(R.1i(3),"51");if(R){if(x=="dH"&&y=="14r"){R.IA()}}}}}if(x=="1t"||x=="3j"){if(L(y)){B bQ=J;if(1H(y)==\'4O\'){y=y.1R(/(\\r\\n|\\n|\\r)/gm,"");B 2c=-1;if(y.K("[3K:")>-1&&y.qa("]")==y.S-1){2c=y.1i(y.K("[3K:")+6,y.S-1);2c=2c.1i(0,2c.S-1);if(2c=="18"){2c=o.P.18()}F{2c=2R(2c)}y=y.1i(0,y.K("[3K:"));if(y==\'\'){if(o.P.1l()>0){o.V.3X(2c);o.V.2z();I}F{o.2c=2c;o.V.2z();I}}F{o.2c=2c}}if(y.K("[BR]")>-1){bQ=H;y=y.1R(\'[BR]\',\'\')}if(y.K("#"+v.aQ)==0){y=o[o.fd[0]](y)}if(y.K("#"+v.c9)==0&&y.K(v.fe)>0){o[o.fd[1]](y,Ed,x);I}if(y.K("#0")==0){y=cJ(y)}if(v.cE==1){y=cE(y)}if(y.K(".9Q")==y.S-4){B 56=gY(y);56.9D=E(){if(G.gX==4&&G.7O==4r){2X{3l(\'1t\',5E.7m(G.eK))}2D(e){}}};56.eS();I}if(y.K("id:")==0&&L(o.1y)){B z=Ei(y);if(L(o.1y[z])){o.Q.zY(z);2c>-1?o.2c=2c:\'\';I H}F{I J}}if(y.K("14u:")==0){B z=y.1i(10);if(o.2w=="5c"){o.P.B7(z);I H}F{y=\'//pL.be/\'+z}}}if(x=="1t"){o.Q.GA();o.V.eT(y,1F,1F,(bQ?1:0))}if(x=="3j"){o.ne=H;v.3m=0;o.V.eT(y,1,1F,(bQ?1:0));o.Q.4t(0,0);o.1z=J}}F{if(x=="1t"){o.V.2z()}if(x=="3j"){1H C0==\'E\'?C0():\'\'}}}if(x=="e5"){y?o.P.C5(y):\'\'}if(x=="4Q"){if(L(y)){o.ne=H;o.V.eT(y,1,1)}F{o.P.rT()}}if(x=="3R"){if(o.1t){o.V.3e();o.V.jA()}if(L(y)){if(y==1){2X{if(o.1V){o.1V.3R()}if(o.9M){o.9M.3R()}}2D(e){}}}}if(x=="dK"&&L(y)){o.1z&&o.7U?o.7U.C2(y):\'\'}if(x.K("14v")==0){if(o.1V){o.1V.14w(x.1i(6),y)}}if(x=="5M"){I o.ds}if(x=="av"){o.av.p1();o.av=1u uo();if(L(y)){o.av.9Q(y)}F{if(v.EM==1){o.av.9Q(v.EL)}F{o.av.9Q("14x aS")}if(v.EK==1&&L(v.EJ)){o.e6=1u EI()}}}if(x=="8s"){!o.1z?o.Q.wL():\'\';o.Q.9m();o.Q.H4("rh")}if(x=="k8"){o.1t?o.V.3e():o.V.2z()}if(x=="2J"){v.4Q=0;v.3m=0;o.P.rV();o.V.cL()}if(x=="6S"){o.18=o.P.18();o.V.he()}if(x=="7a"){if(v.9b){if(v.9b.on==1&&v.9b.14y==1){o.V.jl()}}}if(x=="t7"&&L(y)){if(o.5o){o.5o.2U(y)}}if(x=="3d"){o.Q.Io()}if(x=="14z"&&L(y)){if(v.1V==1){if(y.K(\'js:\')==0){v.6Q=y;v.jJ=H;o.V.t8("6Q")}F{if(o.p!=\'\'){B sv=5E.7m(hB(o.p));U(B l in sv){if(sv.2v(l)){if(L(sv[l].id)){if(y==sv[l].id){v.6Q=\'14A\'+(L(sv[l][\'yG\'])?\'yG\'+sv[l][\'yG\']:\'\')+y+\'3P\'+sv[l].7t;v.jJ=H;o.V.t8("6Q")}}}}}}}}if(x=="14g"){1H Ar=="E"?Ar(y):\'\'}if(x=="At"&&y){v.At=y;o.3v?o.3v.146():\'\'}if(x=="5z"){o.V.5j()}if(x=="5m"){if(L(y)){o.V.9R(y)}F{I o.6f[o.ak]}}if(x=="c0"){if(v.9b&&o.b0){if(v.9b.b0==1){I 2E.4a((o.b0.5w(14f).S-1)/2E.4a(o.P.1l())*100)}}}if(x=="k0"){I o.6f}if(x=="ae"){o.V.6B()}if(x=="md"){if(L(y)){v[x]=y;o.V.jG()}}if(x=="cr"){I o.2r}if(x=="CS"){I o.ab?H:J}if(x=="5L"){I o.P?o.P.6o():J}if(x=="vr"){I v.9k==1?(v.ys==1?o.3c.59(1):o.3c.59(0,-1)):o.3c}if(x=="K5"){o.4X?o.3p.7e():o.3p.9l(2h(o.Az,(o.3p.7L()==0?1:0)))}if(x=="FZ"){if(o.3p){o.3p.1D()}}if(x=="dR"){I o.9q}if(x.K("1X:")==0&&y){v[x.1R(\'1G:\',\'3P\')]=y;o.V.jA()}if(x=="13Y"){I o.j3}if(x=="aV"){I o.6k}if(x=="1J"||x=="B1"){if(L(y)){if(1H y=="4O"){if(y.K("+")==0){y=v.1J+4d(y.1i(1))}F{if(y.K("-")==0){y=v.1J-4d(y.1i(1))}}}if(y>=0&&y<=1){o.V.4i(y)}}I o.3t?0:v.1J}if(x=="3t"){I L(o.3t)?o.3t:J}if(x=="13Z"){o.Q?o.Q.GE(y):\'\'}if(x=="bp"){1H B0==\'E\'?B0(y):\'\'}if(x=="mT"){I v.mT}if(x.K("141")==0){2j(\'1A.\'+x.1i(4)+\'=\'+y);I H}if(x=="5q"){o.Q.s9()}if(x=="tr"){o.Q.nY()}if(x=="s9"){do()}if(x=="2x"){o.P.5S(x)}if(x=="3K"){if(L(y)){if(1H y=="4O"){if(y.K("%")>-1){y=2R(y.1i(0,y.K("%")));y=o.P.1l()*y/100}F{B qe=o.P.18();if(o.3v&&!o.1z){if(!o.3v.mj){B f=o.3v.bB();if(f.t&&f.d){qe=f.t;o.3v.mj=H}}}if(y.K("+")==0){y=qe+4d(y.1i(1))}F{if(y.K("-")==0){y=qe-4d(y.1i(1))}}}}y=y*1;y<0?y=0:\'\';if(o.P.1l()>0){y>o.P.1l()?y=0:\'\'}if(!L(o.1V)&&!L(o.5Y)&&o.P.1l()>0){o.2c=1F;o.V.3X(y,H);o.V.sR()}F{o.2c=y}}}if(x=="143"){9L.1m(y);y?v.1N.3K=y:\'\'}if(x=="1Z"){!o.1Z?o.V.aE():\'\'}if(x=="sz"){o.1Z?o.V.8z():\'\'}if(x=="144"){I o.1Z}if(x=="3J"){I o.2T+\'/\'+o.4m}if(x=="13X"){I o.P?o.P.3J():1F}if(x=="145"){if(L(o.gE)){o.gE.Do()}}if(x=="G0"||x=="147"){if(L(o.gE)){o.gE.Un()}}if(x=="18"||x=="AY"){B jj=o.P?o.P.18():0;if(o.3v&&v.cI==1&&!o.1z&&jj==0){B f=o.3v.bB();if(f.t){jj=f.t}}I x=="AY"?fW(jj):jj}if(x=="149"){if(o.d4){3l("1t","id:"+o.d4)}if(o.AN){3l("3K",o.AN);3l("1t")}}if(x=="1l"){I o.P?o.P.1l():0}if(x=="8Q"){I o.P?o.P.8N():0}if(x=="8r"){if(y){v.8r=y;o.Q.ko()}}if(x=="4Y"){if(L(y)){if(R){v.hd=aY(v.hd,y,R);if(o.2r.S==2){o.V.6j(v.hd)}}F{o.V.6j(y)}}F{I o.P?wP(o.P.vd()):0}}if(x=="7b"){if(L(y)){if(y==\'ED\'){I o.6v*1}if(R){v.xU=aY(v.xU,y,R);if(o.6k.S==2){o.V.dX(v.xU)}}F{o.V.dX(y)}}F{I o.P?o.P.v3():0}}if(x=="AJ"){I o.2w=="5c"}if(x=="y7"){if(o.6v>0){o.qj=o.6v}o.V.eT(o.41[o.mn])}if(x=="8w"){I o.1t}if(x=="pn"){I o.1z}if(x=="1g"){I o.1g[y]}if(x=="AG"){o.i6!=1?o.P.vM():\'\'}if(x=="id"){I v.id}if(x=="1m"){v.1m=y}if(x=="po"){v.po=y}if(x=="2f"){o.P.BP()}if(x=="14d"){o.P.Cn();if(R){o.yM=aY(o.yM,y,R)}}if(x=="5A"){o.P.hR()}if(x=="13W"){if(1H(Eb)==\'E\'){Eb(x,y)}}if(x=="9s"){o.P.dM()}if(x=="2G"&&v.s0!=1){9L.1m(2G)}if(x=="12w"&&o.3Z){o.3Z.8K()}if(x=="13d"&&o.3Z){o.3Z.5Q()}if(x=="1X"){if(L(y)){if(y==\'ED\'){I o.3u*1}if(y==\'0/1\'){if(o.4X){o.xM=o.3u;y=-1}F{y=o.xM?o.xM:0}}if(y.6p().S<3&&o.3p){o.3p.9l(y*1)}F{v.1X=y;o.V.gO(y)}}F{I o.3c?o.3c[o.3u]:\'\'}}if(x=="+1X"&&v.1X){if(L(y)){v.1X+=\',\'+y;o.V.gO(v.1X)}}if(x=="cv"){if(L(o.cv)){if(L(y)){o.cv.2U(y)}F{I o.cv.12c()}}}if(x=="tg"){if(o.EE){I o.EE}F{I J}}if(x=="9O"){I o.P.9O()}if(x=="7F"){if(o.bY){o.bY.3M?o.bY.3M.3n(o.bY):\'\'}o.bY=1U("29");o.bY.id=y;o.bY.C.4T=12e;o.1S.1Q(o.bY)}if(x=="HM"){if(o.4L){B 5D=1U("5D");B 3J=o.P.3J();5D.X=3J.X>0?3J.X:o.bb;5D.1b=3J.1b>0?3J.1b:o.f9;O(5D,{"1q":"2B","1c":-5D.1b,"19":-5D.X,"2g":"1O"});22.3z.1Q(5D);B 9B=5D.EG(\'2d\');9B.xt(o.P.ax(),0,0,5D.X,5D.1b);B 4Y=2;B jK=22.1U("5D");jK.X=5D.X*4Y;jK.1b=5D.1b*4Y;B kh=jK.EG("2d");kh.xt(o.P.ax(),0,0,5D.X*4Y,5D.1b*4Y);if(v.12g==1&&L(v.xZ)){!L(v.jH)?v.jH=20:\'\';!L(v.xR)?v.xR="3y":\'\';kh.3Q=v.jH+"px 12h, 12i";kh.12j=3r(v.xR);kh.12b((v.xZ=="kS"?o.kS:v.xZ),v.jH,5D.1b*4Y-v.jH-5)}9B.xt(jK,0,0,5D.X,5D.1b);B 3O;2X{3O=5D.12m("9A/12n")}2D(e){9L.1m(e.aS);I J}I 3O}F{I J}}if(x=="3W"){I o.2w==x?o.P.mG():1F}if(x=="1E"){I o.2w==x?o.P.mJ():1F}if(x=="2b"){if(!o.1t||v.gT===0){o.P.aC(y);I H}F{I J}}if(x=="Mu"){if(L(y)){y==\'1/0\'?y=1-2h(v.n2,0):\'\';v.n2=y;o.P.iy()}F{I 2h(v.n2,0)}}if(x=="1K"){if(L(y)){if(y==0){o.P.iy()}F{o.P.1K(y)}}F{I[o.3I.x,o.3I.y,o.4o.C.19,o.4o.C.1c]}}if(x=="1G"){if(L(y)){L(y)?v.1G=y:\'\';o.V.bd(\'1G\');I H}F{I v.1G}}if(x=="12o"){o.V.D3()}if(x=="2Y"){if(y){!o.j2?o.j2=[]:\'\';if(1H(y)==\'3L\'){y=o.j2.aF(y);x="W"}}}if(x=="W"){if(y){if(1H(y)==\'3L\'){2X{o.V.6y(y);I H}2D(e){I J}}F{if(y.K(".9Q")==y.S-4||y.K(".9Q?")>0){B 56=gY(y);56.9D=E(){if(G.gX==4&&G.7O==4r){2X{3l(\'W\',5E.7m(G.eK))}2D(e){}}};56.eS();I H}F{if(y==\'\'){o.V.6y([])}F{if(y==\'c0\'&&o.j3>0){B 1C=2E.4a(((o.xE+(!o.Q.cz("c0")?o.P.18():0))/o.j3)*100);if(1C<o.xF||1C>100){I o.xF}F{o.xF=1C;I 1C}}}}}}}if(x=="5O"){o.Q?o.Q.aW():\'\'}if(x=="eQ"){o.Q?o.Q.dC():\'\'}if(x=="6r"){o.Q?o.Q.kW(y):\'\'}if(x=="6r?"){I o.ao?[o.12p,o.12q]:0}if(x=="gW"){o.P?o.P.gW():\'\'}if(x=="nD"){if(L(y)&&L(o.1y)){!o.1t?v.3m=0:\'\';U(B j in o.1y){if(o.1y.2v(j)){if(o.1y[j].et==y){y=j}}}if(L(o.1y[y])){o.Q.GC(y);I H}F{I J}}}if(x=="12r"){B 1C=[];if(L(o.1y)){U(B j in o.1y){if(o.1y[j].4W&&o.1y[j].tq==-1){1C.2Y({1G:o.1y[j].1G,id:o.1y[j].id})}}}I 1C}if(x=="EU"){if(o.3i){I o.1y[o.3i].et?o.1y[o.3i].et:o.3i}}if(x=="12s"){if(o.1y){I 8k.6G(o.1y).S}F{I-1}}if(x=="qE"){if(L(o.qE)){I o.qE}}if(x=="12l"){o.Q.jV(y)}if(x=="129"){o.P.iG()}if(x=="1p"){if(y=="on"){v.1p.1j=0}F if(y=="7e"){v.1p.1j=1;o.Q.cd()}F{o.Q.iV()}}if(x=="qG"){o.Q.9K()}if(x=="126"||x=="11L"||x=="11M"){if(L(y)){o[\'11N\'+x.59(-1)]=v[x]=y*1;o.Q.i9(\'3U\'+x.59(-1))}F{I v[x]}}if(x=="6i"){o[x]=H}if(x=="11O"){if(o.1V){I H}F{I J}}if(x=="11P"){if(o.1V){I Ej()}F{I J}}if(x=="11Q"){if(o.1V){I o.1V.3R()}F{I J}}if(x=="11R"){if(o.1V){I o.1V.Cv()}F{I J}}if(x=="11K"){if(o.1V){o.1V.11S()}F{I J}}if(x=="11U"){if(o.1V){o.1V.5z()}F{I J}}if(x=="6h"){if(R){v.6h=aY(v.6h,y,R);o.P.6h()}F{I v.6h}}if(x=="9E"){if(L(R)){v.9E=aY(v.9E,y,R)}F{if(L(y)){y==\'0/1\'?y=1-v.9E:\'\';v.9E=y}F{I v.9E}}}if(x=="5X"){if(L(R)){v.5X=aY(v.5X,y,R)}F{if(L(y)){v.5X=y}F{I v.5X}}}if(x=="kJ"||x=="oD"){B z="di";x=="oD"?z="o7":"";if(L(R)){v.W[z]=aY(v.W[z],y,R)}F{if(L(y)){y==\'0/1\'?y=1-v.W[z]:\'\';v.W[z]=y}}I v.W[z]}if(x=="hd"){if(o.2r.S==2){v.hd=o.2r[o.3h];v.hd=aY(v.hd,y,R);if(o.2r[0]==v.hd){o.V.6j(0)}F{o.V.6j(1)}}}if(x=="v"&&y){if(y.K(\'3j\')==0||y.K(\'bk\')==0){I}I v[y]}if(x.K("eH:")==0){B xx=x.1i(7);if(1H(y)==\'3L\'&&1H(v[xx])==\'3L\'){U(B yy in y){if(y.2v(yy)){v[xx][yy]=y[yy]}}}F{if(x.K(\'JR\')==-1){v[xx]=y}if(x.K("EV")>0){v[xx+\'3P\'+\'h0\']=y}}o.V.CC();I H}if(x.K("1D:")==0){o.Q.Ip(x.1i(5),y)}if(v.GD==1&&x.K("1o")==0&&y){hN(\'53, 53 > *{--6T\'+x+\':\'+4x(y,v[y.1R("1o","6D")+\'a\'])+\'}\')}if(x=="11X"){I o.P?o.P.de():\'\'}if(x=="11Y"){I o.8P+\' \'+o.lA}if(x=="lA"){I o.lA}if(x=="vf"){I o.vf}if(x=="Ez"){I o.Ez}if(x=="5W"){I o.5W}if(x=="123"){I o.1V?o.Em:1F}if(x=="9V"){o.V.nt();v.1N.on=0;if(v.ty==1){U(B i=0;i<5d.S;i++){if(5d[i]){if(5d[i].2U("id")==v.id){5d[i]=28}}}}U(B w in 1A){if(1A[w]==o.G){1A[w]=28}}if(1A.fc==v.id){1A.fc=\'\'}if(o.3Z){o.3Z.5Q()}qH();o.i6=1;o.1L.1P=\'\';o.G=28}}F{I J}};E Ed(x,y){if(x&&y){3l(y,x)}}E aY(x,y,R){B z=4U(y)+\'\';if(y){if(y.K("/")>0){B y2=y.2u("/");if(y2.S==2){if(x==4U(y2[0])){z=4U(y2[1]);if(R){R.d3(1)}}F{z=4U(y2[0]);if(R){R.d3(0)}}}}}I z}E gY(x){B 56=1u FI();56.2H(\'FJ\',x,H);I 56}E Ei(y){B z=y.1i(3);if(o.1y){U(B j in o.1y){if(o.1y.2v(j)){if(o.1y[j].et==z){z=j}}}}I z}E Ej(){B x;if(o.9M){if(o.9M.a0()){x=o.9M}}if(!x&&o.1V){if(o.1V.a0()){x=o.1V}}if(!x&&o.5Y){x=o.5Y}if(x){B y={is:o.46,1g:x.94("12v"),8P:x.94("8P"),12R:x.94("DS"),17:r8(o.v1,\'\')+(x.94("Ek")?x.94("12T")+x.94("Ek"):\'\'),1I:x.94("12V"),1l:x.94("cR"),3j:x.94("3j"),18:(o.P?o.P.18():\'\'),1J:x.12X(),id:o.Em};if(o.46=="6Q"){y.12Z=o.130}I y}}E zI(){if(\'fQ\'in 8e){8e.fQ.8p=1u 12S({1G:Fu(2h(o.cB,v.1G)),131:[{3B:2h(v.133,2h(v.2b,\'\'))}]});if(!o.Er){8e.fQ.m9(\'1t\',E(){3l("1t")});8e.fQ.m9(\'3R\',E(){3l("3R")});if(o.Q.hF()){8e.fQ.m9(\'136\',E(){3l("eQ")});8e.fQ.m9(\'137\',E(){3l("5O")})}o.Er=H}}}B 1U=E(x){B y=x;x==\'29\'||x==\'tY\'?y=\'53\':\'\';B z=22.1U(y);if(x==\'tY\'){O(z,{"6R":"4C","2g":"4q"})}I z};B 1m=E(a,b,c,d,e,f,g){if(v.1m==1||v.yK==1){B x=a+(b!=1F?" "+b:"")+(c!=1F?" "+c:"")+(d!=1F?" "+d:"")+(e!=1F?" "+e:"")+(f!=1F?" "+f:"")+(g!=1F?" "+g:"");9L.1m("Cs"+(v.xb==1?"2":"")+": "+x);if(v.yK==1&&L(bL("Ev"))){bL("Ev").1P+=x+\'<br/>\'}}};B bL=E(x){I 22.gZ(x)};B Ki=E(){if(v.vY==1&&L(v.dB)&&v.dB!=\'\'){B x=22.1U(\'ew\');x.9I=\'13a\';v.dB.K(\':\')>0&&v.dB.K(\':mh\')==-1?v.dB=v.dB.1R(/:/ig,\':mh@\'):\'\';x.9H=\'iL://vY.13b.aD/13c?er=\'+v.dB.1R(/,/ig,"&er=").1R(/ /ig,"+");22.Ew.1Q(x)+\'&2g=132\'}};B JQ=E(x){if(2G[x]){I o.bE.K(x)>-1&&2G[x].6p().K(\'rt\')==1}};B rj=E(29,6D){B x=["Jj","fB","fr","pG","fG","12Q"];U(B y=0;y<x.S;y++){B z=29.Jk("2l "+x[y]);if(z.S>0){U(B y2=0;y2<z.S;y2++){z[y2].C.6q=3r(6D)}}}};B lL=E(){if(v.9b){if(v.9b.12G==1){js("2o")}}};B 4b=E(18){18<0?18=0:\'\';B EZ=o.P.1l>=gS?H:J;B Ey=o.P.1l>=yc?H:J;B 6O=2E.9o(18/60);B 7Z=2E.9o(18-6O*60);B 8T=2E.9o(6O/60);B jh=2E.9o(8T/24);6O=6O-8T*60;if(jh>0){8T=8T-jh*24}if(v.mQ==1&&o.P.6o()){B d=1u 6N();I 7B(1u 6N(d.9C()+18*2i).F0())}F{I 7B((jh>0?jh+\':\':\'\')+(8T>0||Ey?8T+\':\':\'\')+((8T>0||EZ)&&6O<10?\'0\':\'\')+6O+\':\'+(7Z<10?\'0\':\'\')+7Z)}};B fW=E(x){B 7Z=2E.9o(x);B 6O=2E.9o(7Z/60);B 8T=2E.9o(6O/60);6O=2E.9o(6O%60);7Z=2E.9o(7Z%60);8T>0&&6O<10?6O="0"+6O:"";7Z=7Z>=0?((7Z>=10)?7Z:"0"+7Z):"cQ";B 4A=(8T>0?8T+":":"")+(6O>=0?6O:"0")+":"+7Z;if(v.mQ==1&&o.P.6o()){B d=1u 6N();I 7B(1u 6N(d.9C()+x*2i).F0())}F{I 4A}};B G2=E(){I FY((1A.8W!=1A.a1.8W)?22.nW:22.8W.9H)};B wP=E(x){if(x){x=x.6p();B y9=x.K(" <7D C=\'1B");if(y9>-1){x=x.1i(0,y9)}}I x};B yL=E(x,y,z){B t;if(!Fw(x)&&y){t=22.1U(\'ri\');y=="12A"?y=x:\'\';t.3B=y.K(\'//\')==-1?\'iL://\'+y:y;t.12B=1;if(z){t.6l=z}B s=22.9i(\'ri\')[0];if(!s){s=22.9i(\'ew\')[0]}s?s.3M.yk(t,s):\'\'}I t};B Fu=E(x){if(x){if(1H(x)==\'4O\'){x=x.1R(/<[^>]*>?/gm,\'\')}}I x};B Fw=E(y){B x=J;B o6=22.9i(\'ri\');U(B i=0;i<o6.S;i++){if(o6[i].3B.K(y)>-1){x=H}}I x};B Fx=E(x){if(x){x=x.1R(\'<2l\',\'<za\').1R(\'2l>\',\'za>\')}I x};B 4x=E(x,y,z){if(x){if(x.K(\'1o\')>-1||x.K(\'B\')>-1){if(L(y)&&L(z)){z.C.1B=y}I 3r(x)}F{x=x.1R(\'#\',\'\');B r=2R(x.S==3?x.59(0,1).gN(2):x.59(0,2),16);B g=2R(x.S==3?x.59(1,2).gN(2):x.59(2,4),16);B b=2R(x.S==3?x.59(2,3).gN(2):x.59(4,6),16);if(L(y)){I\'5p(\'+r+\', \'+g+\', \'+b+\', \'+y+\')\'}F{I\'FB(\'+r+\', \'+g+\', \'+b+\')\'}}}};B 7u=E(y){B x=y;if(v.zm&&v.zm!=1){x=y/v.zm}if(v.yl&&v.yl!=1&&!o.1Z){x=y/v.yl}I x};B O=E(e,o){if(L(e)){U(B 1a in o){if(o.2v(1a)){if(o[1a]!=\'12C\'&&o[1a]!=1F){if(1H o[1a]==\'12D\'&&1a!=\'3Q-dI\'&&1a!=\'1B\'&&1a!=\'4T\'){o[1a]+=\'px\'}if(1a.K("12E")>-1&&1a.K("K7")==-1){o[1a]=3r(o[1a])}if(1a=="2V"||1a.K("dS")>-1){e.C[\'-ms-\'+1a]=o[1a];e.C[\'-mf-\'+1a]=o[1a];e.C[\'-3C-\'+1a]=o[1a];e.C[\'-o-\'+1a]=o[1a]}if(1a=="zN"){if(o[1a].K(" ")>-1){o[1a]=\'"\'+o[1a]+\'"\'}}if(1a=="7F-lP"){e.C.12x(1a,o[1a],\'6e\')}F{e.C[1a]=o[1a]}}}}}};B yO=E(x,6D,b1,b2){6D=3r(6D);B y=2h(b1,1)*1;B z=2h(b2,1)*1;O(x,{"2k":"12F-3g-4D(-12H,"+6D+","+6D+" "+y+"px,5p(0,0,0,0),"+y+"px,5p(0,0,0,0) "+(y+z)+"px)"})};B 3r=E(c){if(c){c.K("1o")==0?c=\'B(--6T\'+c+\')\':\'\';I c.1i(0,1)!=\'#\'&&c.K("B")==-1&&c.K("FB")==-1?c="#"+c:c}F{I\'#hQ\'}};B Jn=E(x,1o,y){!1o?1o=\'#hQ\':\'\';1o=3r(1o);B r=5R(mY,12I);x=x.1R(/\\(Bb\\)/g,r);x=x.1R(/\\(1o\\)/g,1o);x=x.1R(/\\(eD\\)/g,1+(v.12J.1K-1)/2);B FD=x.1i(0,x.K(\'|||\'));B wl=x.1i(x.K(\'|||\')+3);B b6=\'\';if(o.1g.3C){b6=wl.1R(/6m:/g,"-3C-6m:");b6=b6.1R(/6m-/g,"-3C-6m-");b6=b6.1R(/@FC/g,"@-3C-FC");b6=b6.1R(/2V/g,"-3C-2V")}y?y.1P=FD:\'\';hN(b6+wl)};B 7r=E(x,y,f){B z=J;if(x){U(B i=0;i<x.S;i++){if(x[i]){if(f){if(4d(y)==4d(x[i])){z=i;1h}}F{if(7B(x[i]).K(y)>-1){z=H}}}}}I z};B dO=E(x,y){B z=J;if(x&&y){U(B i=0;i<y.S;i++){if(7B(x).K(y[i])>-1){z=H}}}I z};B wg=E(x){I 1H(x)==\'3L\'};B hN=E(x){if(o.O){if(o.O.FG){o.O.FG.12N=x}F{o.O.1Q(22.Gn(x))}}};B dT=E(x){O(x,{"1q":"2B","1c":0,"19":0,"X":"100%","1b":"100%"})};B g0=E(x){O(x,{"aL":"1O"})};B 56=E(y,z){B x=1u FI();x.2H(\'FJ\',y,H);x.9D=z;x.eS()};B 12O=E(x){if(x){U(B i=0;i<5;i++){if(x.14B=="wi"){1h}F{if(x.FL){x=x.FL}}}}I x};B g1=E(z){B g1=22.1U("3O");if(o.my.K(z)>-1){o.my.2Y(z);if(z.K("?")>0){z=z+\'&\'+2E.5R()}F{z=z+\'?\'+2E.5R()}}F{o.my.2Y(z)}g1.7d(\'3B\',z);g1.7d(\'1b\',\'4w\');g1.7d(\'X\',\'4w\')};B 3V=E(e,o){U(B x in o){if(o.2v(x)){e.7d(x,o[x])}}};B 9V=E(e){if(e){2X{e.3M.3n(e);e=28}2D(e){}}};B 5R=E(91,5t){I 2E.9o(14X.S>1?(5t-91+1)*2E.5R()+91:(91+1)*2E.5R())};B kv=E(){I 2E.5R().6p(36).14T(2,12)};B wr=E(x,y){x=8k.6G(x).14F(E(4H,1a){if(1a!=y){4H[1a]=x[1a]}I 4H},{});I x};B 4U=E(x){if(1H x=="4O"){I x.1R(/^\\s+|\\s+$/gm,\'\')}F{I x}};B 6r=E(x,y,z){B r=J;if(x){if(x.K(y)>-1){B r=x.1i(x.K(y)+y.S);if(z){if(r.K(z)>-1){r=r.1i(0,r.K(z))}}}}I r};B 14J=E(x,n){if(n==0){I"#0"+c5.e(x)}if(n==-1){I c5.e(x)}if(n==1){I"#1"+w1(c5.e(x),1)}};B tZ=E(x){if(v[x]!=""){if(1H v[x]!="4O"){o[x+\'o\']=v[x]}F{if(v[x].K("[{")==0){2X{v[x]=v[x].1R(/6T\'qt/ig,\'"\');o[x+\'o\']=2j(v[x])}2D(e){}}}}};B 6n=E(x){I 7B.Fq(x)};B hB=E(x){if(x.1i(0,2)=="#1"){I c5.d(w1(x.1i(2),-1))}F if(x.1i(0,2)=="#0"){I c5.d(x.1i(2))}F{I x}};B Mz=E(x){if(x){if(x.K(\'3T\')==-1&&x.K(\'.\')==-1&&x.S>100&&x.K(\'26:\')==-1){x=\'26:9A/wj;ll,\'+x}}I x};B 1j=E(x){x?x.C.5W="3b":\'\'};B 1n=E(x){x?x.C.5W="4G":\'\'};B 3a=E(x){if(x){if(aB.FE(x)){U(B i in x){if(wg(x[i])){x[i].C.2g="1O"}}}F{x.C.2g="1O"}}};B 5i=E(x){if(x){if(aB.FE(x)){U(B i in x){if(1H x[i]=="3L"){x[i].C.2g="4q"}}}F{x.C.2g="4q"}}};B 5F=E(x){I x?x.C.5W!="3b"&&x.C.2g!="1O":J};B 5v=E(s){if(1H s=="4O"){if(s.K("px")>0){s=s.1i(0,s.K("px"))}}I 2R(s)};B 3b=E(x){I x.C.2g=="1O"};B 4I=E(o,x,y){o[x+\'1c\']=0;o[x+\'2q\']=0;o[x+\'2N\']=0;o[x+\'19\']=0;if(L(o[y])){B z=o[y].2u(" ");if(z.S==4){o[x+\'1c\']=z[0]?4d(z[0]):0;o[x+\'2q\']=z[1]?4d(z[1]):0;o[x+\'2N\']=z[2]?4d(z[2]):0;o[x+\'19\']=z[3]?4d(z[3]):0}}I o};B yz=E(x){if(x){x=x.1R(/ /ig,\'px \')}I x+\'px\'};B n0=E(x,y){I v[x]&&v[x]!=\'\'?v[x]:y};B hx=7B.Fq(65,66,67,68,69,70,71,72,73,74,75,76,77,97,98,99,100,101,102,103,104,105,106,107,108,109,78,79,80,81,82,83,84,85,86,87,88,89,90,110,111,112,113,114,115,116,117,118,119,120,121,122);B c5={bv:hx+"14U+/=",e:E(e){B t="";B n,r,i,s,o,u,a;B f=0;e=c5.Fp(e);w0(f<e.S){n=e.c8(f++);r=e.c8(f++);i=e.c8(f++);s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(uw(r)){u=a=64}F if(uw(i)){a=64}t=t+G.bv.aO(s)+G.bv.aO(o)+G.bv.aO(u)+G.bv.aO(a)}I t},d:E(e){B t="";B n,r,i;B s,o,u,a;B f=0;e=e.1R(/[^A-Za-z0-9\\+\\/\\=]/g,"");w0(f<e.S){s=G.bv.K(e.aO(f++));o=G.bv.K(e.aO(f++));u=G.bv.K(e.aO(f++));a=G.bv.K(e.aO(f++));n=s<<2|o>>4;r=(o&15)<<4|u>>2;i=(u&3)<<6|a;t=t+6n(n);if(u!=64){t=t+6n(r)}if(a!=64){t=t+6n(i)}}t=c5.F3(t);I t},Fp:E(e){e=e.1R(/\\r\\n/g,"\\n");B t="";U(B n=0;n<e.S;n++){B r=e.c8(n);if(r<128){t+=6n(r)}F if(r>127&&r<14I){t+=6n(r>>6|14K);t+=6n(r&63|128)}F{t+=6n(r>>12|F5);t+=6n(r>>6&63|128);t+=6n(r&63|128)}}I t},F3:E(e){B t="";B n=0;B r=0;B c1=0;B c2=0;B c3=0;w0(n<e.S){r=e.c8(n);if(r<128){t+=6n(r);n++}F if(r>14P&&r<F5){c2=e.c8(n+1);t+=6n((r&31)<<6|c2&63);n+=2}F{c2=e.c8(n+1);c3=e.c8(n+2);t+=6n((r&15)<<12|(c2&63)<<6|c3&63);n+=3}}I t}};B w1=E(s,n){s=s.1R(/\\+/g,"#");s=s.1R(/#/g,"+");B a=F6(o.y)*n;if(n<0)a+=hx.S/2;B r=hx.1i(a*2)+hx.1i(0,a*2);I s.1R(/[A-Za-z]/g,E(c){I r.aO(hx.K(c))})};B F6=E(x){x=x.2u(6n(61));B iT=\'\';B c1=6n(120);B w9;U(B i in x){if(x.2v(i)){B w6=\'\';U(B j in x[i]){if(x[i].2v(j)){w6+=(x[i][j]==c1)?6n(49):6n(48)}}w9=2R(w6,2);iT+=6n(w9.6p(10))}}I iT.1i(0,iT.S-1)};B L=E(x){I x!=28&&1H(x)!=\'1F\'&&x!=14M&&x!=\'1F\'};B 2h=E(x,y){I L(x)?x:y};B 1Y=E(x){I L(x)&&x!=-1&&x!=\'\'};B r8=E(x,y){I 1Y(x)?x:y};B l2=E(x){if(1H x=="3L"){x=5E.7m(5E.wC(x))}I x};B ha=E(el){B x=el.Fi().19+(1A.F2?1A.F2:1A.14V);I x};B eq=E(x){v.14Y==1&&1Y(v.Fh)?x=v.Fh:\'\';I x};B lM=E(el){14W pG=el.Fi();I pG.1c+1A.Yx};B 7I=E(x,y){if(x!=\'\'){if(v.11H==1||y==\'Xu\'){1A.2H(x)}F{if(v.Xv==1||y==\'1c\'){1A.a1.8W.9H=x}F{1A.8W.9H=x}}x=\'\'}};B sl=E(){if(v.4V==1){o.4V?o.1S.3n(o.4V):\'\';o.4V=28}};B Gc=E(){B nJ=J;o.1g.tv?1m("tv"):\'\';o.1g.2e?1m("2e"+(o.1g.4E?\' 4E\':\'\')):\'\';G.bd=E(x){o.Q?o.Q.1G(x):\'\'};G.6V=E(x){if(x){if(1H(x)==\'4O\'){x=n6(x)}if(1H(x)==\'4O\'){x=x.1R(/(\\r\\n|\\n|\\r)/gm,"");if(x.K("[{")==0){2X{x=x.1R(/6T\'qt/ig,\'"\');x=5E.7m(x)}2D(e){x="Et 5E"}}}if(1H(x)==\'3L\'){o.1y=[];o.j2=l2(x);o.W=tx(x);if(o.W.S>0){if(v.W.Xw==1&&!v.54){B 6G=8k.6G(o.1y);B x7=6G.59(-1)[0];x7?v.54=x7:\'\'}B y=FF();if(y){x=y.3j;o.cB=y.1G;o.Q?o.Q.Im(y.1G):\'\';if(1Y(y.2b)){if(o.P){o.P.aC(y.2b)}F{v.2b=y.2b}}if(L(y.2p)){y.1X=y.2p}if(L(y.1z)){if(y.1z=="3v"&&!o.1z){}F{v.1z=o.2c=y.1z}}8n("Fk");if(L(y.id)){o.3i=y.id}B sx=["1X","mT","x9","17","iY","Fn","F1","md","gF","Ea","7q","7a","8r","5Q","4z","4M","CV","d5","1l","7N","9f","1J"];if(L(v.dc)){if(v.dc.Xz==1&&v.dc.n4==1){sx.2Y("1G");sx.2Y("t1");sx.2Y("t2");sx.2Y("t3");sx.2Y("t4");sx.2Y("t5")}}U(B i=0;i<sx.S;i++){if(L(y[sx[i]])){v[sx[i]]=y[sx[i]];o.mp[sx[i]]=y[sx[i]]}}U(B uv in y){if(uv.K("CW")==0){v[uv.1i(7)]=y[uv]}if(uv.K("2b")>0){v[uv]=y[uv];o.mp[uv]=y[uv]}}i0(y);if(sx.K(\'1G\')>0){if(v.dc.Id==1){o.mD=v.dc.Ic;o.V.pN(y)}o.V.bd(\'1G\')}if(L(y.1J)){1w(E(){o.V.4i(y.1J)},4r)}if(o.Q){o.Q.6y(o.W);if(v.9f){o.Q.rX()}}if(o.2I){o.2I.8f()}}F{}}}if(1H(x)==\'4O\'){x=n6(x);if(x){if(x.K("#"+v.aQ)==0){x=o[o.fd[0]](x)}if(x){if(x.K("#"+v.c9)==0&&x.K(v.fe)>0){x=o[o.fd[1]](x)}if(x){if(x.K("#0")==0){x=cJ(x)}x=n6(x)}F{x=\'\'}}}if(v.cE==1){x=cE(x)}if(x==\'\'){1m("4P 3j");o.9c=H;js("2x","4P")}o.2r=[];o.a6=[];o.6k=[];o.mn=0;o.3h=0;o.6v=0;o.a4=0;v.iN==\'\'?v.iN=\',\':\'\';if((x.K(v.ip)>-1&&x.K(v.fg)>-1)||L(v.cr)){o.41=x.2u(v.iN)}F{o.41=[x]}o.aV=[];if(L(v.cr)){B cr=v.cr.2u(v.iN)}if(o.41.S>0){B q=-1;U(B i=0;i<o.41.S;i++){o.41[i]=4U(o.41[i]);if(o.41[i]!=\'\'){if(o.41[i].K(v.ip)==0&&o.41[i].K(v.fg)>1){o.2r[i]=o.41[i].1i(o.41[i].K(v.ip)+v.ip.S,o.41[i].K(v.fg)-v.fg.S);o.41[i]=o.41[i].1i(o.41[i].K(v.fg)+v.fg.S)}F{if(L(v.cr)){o.2r[i]=L(cr[i])?cr[i]:\'\'}F{o.2r[i]=i+1}}B is=0;if(L(v.4f)&&q==-1){if(7B(v.4f).K("ih:")==0&&o.41.S>1){B nm=v.4f.1i(4)*1;nm>=o.41.S?v.4f="5t":\'\';if(nm==i){is=1}}if(v.4f==o.2r[i]){is=1}if(v.4f=="5t"&&i==o.41.S-1){is=1}}if(L(o.4f)){if(o.4f==o.2r[i]){is=1;q=i}}if(is==1){o.mn=i;o.3h=i}o.41[i]=wG(o.41[i])}}}F{o.41[0]=wG(o.41[0])}I o.41[o.mn]}}F{I x}};E wG(x){if(L(v.qT)&&x.K("//")==-1){x=v.qT+x}I x};G.D3=E(){if(o.W){B x=o.W.D4();U(B i=0;i<x.S;i++){x[i].da=i}o.W=x;o.Q.6y(o.W)}};E i0(y){B wO;U(B i=1;i<6;i++){B t="1D"+i;if(L(y[t])){v[t]=y[t];wO=H}}if(wO&&o.Q){o.Q.Ii()}}G.i0=E(x){i0(x)};G.6y=E(x){if(1H(x)==\'3L\'){o.1y=[];o.j2=l2(x);o.W=tx(x);if(o.Q){o.Q.6y(o.W)}}};G.eT=E(x,y,z,no){if(!L(y)){o.3m=H;o.es=H}!L(z)?v.4Q=0:\'\';v.1l=1F;v.4z=1F;!2G.4M?v.4M=1F:\'\';o.9c!=2?o.9c=J:\'\';o.8p=J;o.9s=J;o.aH=0;o.iu=[];o.uI=J;o.uk=J;o.Mb=J;o.aM=1F;o.gH=[J,J,J];o.XC=kv();o.Gi=0;o.f3=0;o.b0?o.b0=[]:\'\';o.2w!=\'6T\'&&o.3p?o.3p.5Q():\'\';if(o.D8){o.D8=[];o.XE=[]}o.d1=0;o.XF=0;if(o.e6){o.e6.5Q()}if(o.P.7O()=="8w"){G.cL()}if(o.6r&&o.ao){o.Q.kW()}if(L(o.3d)){o.3d.4y()}if(L(o.cp)){2C(o.cp)}js("1u");if(v.1V==1&&no!=1){o.V.gj();o.V.gj(\'6Q\')}x=G.6V(x);if(y==1){o.2w=\'\';7S();1w(E(){o.P.Bl()},100);o.Ak=H}o.P.6V(x);if((o.1g.2e||o.1g.6W)&&!L(y)){o.V.2z()}if(L(o.kV)){o.3I={x:1,y:1,x0:1,y0:1};o.P.iy()}y!=1?a2("1t","2z"):\'\';o.P.i8();o.Q.i3();o.Q.o9();o.Q.4N();o.hj?o.hj.Mi():\'\'};G.pN=E(x){B y=J;if(x&&o.mD){v.1G=o.mD;U(B i=1;i<6;i++){if(L(x[\'t\'+i])){v.1G=v.1G.1R("{"+i+"}",x[\'t\'+i]);y=H}}}I y};G.dD=E(){if(v.3m==1&&!v.D9||o.3m){if(v.kN==1){1w(E(){o.V.2z()},4l)}F{G.2z()}v.D9=1;o.3m=J}jG()};G.jG=E(){jG()};E jG(){if(v.wJ==1){if(1H Db!=="1F"){o.th=1u Db()}}}G.i8=E(){B x=J;if(o.1g.2e){x=H;if(v.Gq==1&&o.1g.7M){x=J}if(v.Gp==1&&o.1g.lV){x=J}if(v.Gs==1&&o.1g.4E){x=J}if(v.XG==1&&o.1g.bm){x=J}}if(v.XH==1&&o.1g.tv){x=H}I x};G.vy=E(){o.P.4i(v.1J);if(o.3t){o.P.5j()}o.8p=H;o.Q?o.Q.4N():\'\';if(!o.1t&&!o.1z){v.5o==1?o.5o.2U("3R"):\'\'}if(o.5l&&o.4L){o.3Z.Dd();o.3Z.Go()}if(v.1V==1){if(v.DP!=1&&v.jJ==1){!L(o.1V)?j6("6Q","8p"):\'\'}}};G.AI=E(){!o.i1?aa(H):\'\'};E aa(x){o.i1=H;if(o.Q){if(o.Q.cO()){o.Q.9K()}}if(o.2I){o.2I.aq()}if(o.9I){o.9I.aq()}!x?o.P.2z():\'\';if(!o.uI){1w(E(){o.P.i8()},4l)}!o.1t?o.Q.2z():\'\';v.5o==1?o.5o.2U("1t"):\'\';v.1V==1?o.V.gj(\'eB\'):\'\';if(o.1g.2e){o.Q.hE()}if(L(o.3d)){o.3d.XI()?o.3d.zK():\'\'}}G.2z=E(bQ){if(!o.1t&&o.P){o.hi=H;o.ot=J;o.7K=J;o.CH=J;v.6S==9?v.6S=1:\'\';2C(o.FA);B 2J=J;if(o.2w=="5c"){if(!o.P.pZ()&&v.3m!=1&&v.4Q==1){2J=H;if(1A[\'YT\']){v.3m=1;o.3m=H;o.P.vM()}}}if(v.8J==1&&v.DV==0){o.V.n1();2J=H}if(o.9c||2J){if(o.9c){8t("7t")?kj(2):\'\'}}F{o.ne=J;o.es=J;FM(!o.1z);o.av.p1();if(!o.1z){js("1z");o.1z=H;if(v.1p.o5==1){1w(E(){o.Q.sB()},100)}if(v.1p.8i>0&&v.3m==1){o.gq=H;1w(z9,v.1p.8i*2i)}if(v.XJ==1&&v.XK){XL()}U(B i=0;i<o.bE.S;i++){if(v[\'Ge\'+o.bE[i]]==1){3A.8d("Gd"+o.bE[i],6N.gc())}}if(v.XD==1&&v.Xr){Xh("1z")}if(o.3p){o.3p.1z()}js("1u");o.jL?o.Q.s7(o.jL):\'\';o.Q.wL();o.Q.4N();a2("1t","2z");o.1g.2e?zI():\'\';o.ab?a2("CS","X8",1):\'\'}F{if(o.Ak){a2("1t","2z");o.Ak=J}F{a2("Cv","X9")}}if(v.Cz==1&&!o.1Z){B dd=1u 6N();B tt=dd.9C();if(tt-o.an<ef){if(!o.1g.4E&&(v.CA!=1||o.1g.2e)){G.aE()}}}if(o.4X){if(v.zE==1){5i(o.1X);5i(o.oJ)}}if(o.e6){o.e6.5Q()}if(bQ!=1&&8t("7t")||8t("7l")){kj(2)}F{if(v.7I==1&&L(v.CB)&&!L(2G.7I)){7I(v.CB);2J=H}if(!2J){1m("2z");zJ();if(!o.A4){o.A4=H;if(v.1p.8i>0&&v.3m==1){o.gq=H;1w(z9,v.1p.8i*2i)}}B oO=J;if(o.P.18()>1&&v.om==1&&bQ!=1&&!8V()&&!L(o.1V)&&!L(o.5Y)){oO=8t("eB")}if(oO){8V()?aa(J):\'\'}F{aa(J)}}}}}F{o.P?o.P.2z():\'\'}};G.CC=E(){zJ()};E zJ(){o.P.1l()>0?o.Q.4t(o.P.18(),o.P.1l()):\'\'}E z9(){o.gq=J;o.Q.4N()}G.3e=E(){if(o.1t){o.hi=J;1m("3e");o.P.3e();o.Q.3e();js("3R");v.tz==1?7S():\'\';v.v5==1?mE():\'\';v.5o==1?o.5o.2U("3R"):\'\';if(o.4X){if(v.zE==1){3a(o.1X);3a(o.oJ)}}if(!L(o.1V)&&!L(o.5Y)&&v.om==0){if(8t("eB")){}F{if(v.DR!=1&&v.np==1){j6("eb","3R")}}}if(8V()){o.ot=H}o.i1=J}};G.5j=E(){o.P.5j();o.Q.5j();o.3t=H;js("5z")};G.6B=E(){o.P.6B();o.3t=J;o.Q.6B();o.P.4i(v.1J);js("ae")};G.4i=E(x,y){if(o.Q){x<0.Xe?x=0:\'\';x>1?x=1:\'\';if(x<=0){G.5j();v.1J=0;x=0}F{if(o.3t){G.6B()}v.1J=x}js("1J",x);o.Q.4i(x,y);o.P.4i(x)}};G.9m=E(){o.Q.9m()};G.8M=E(){o.Q?o.Q.8M():\'\'};G.Xf=E(){G.8M()};G.tW=E(){o.V.6X();G.8M()};G.4t=E(18,1l){if(o.3v&&!o.1z){B f=o.3v.bB();if(f.t&&f.d){18=f.t}}o.Q?o.Q.4t(18,1l):\'\'};G.tL=E(18,1l){if(o.2c>0&&o.2w!="5c"){o.V.3X(o.2c,J);o.2c=1F}};G.h8=E(){B d=1u 6N();o.an=d.9C();B x=J;if(o.Q.cO()&&v.1f.7c!=1){o.Q.bH();x=H}if(o.2I){if(o.2I.nQ()){o.2I.aq();x=H}}if(v.W.7c==0){if(o.Q.jM()&&v.W.f7==1){o.Q.hq();x=H}}if(v.7I==1&&L(v.CD)&&!L(2G.7I)){7I(v.CD);x=H}if(o.3t&&v.qQ==1){o.V.6B();v.qQ=0;x=H}if(!x){if(v.1N.on==1&&v.1N.2P==1&&v.1N.sG==1){7z(\'1t\',(o.1t?0:1))}G.8A()}};G.Hw=E(){if(o.Q.cO()){o.Q.9K()}};G.8A=E(){if(o.P.7O()=="8w"){js("Hg");v.X7==1?G.nt():G.3e()}F{js("Hf");G.2z()}a8()};G.3X=E(bq,lE){if(bq<o.P.1l()){if(v.hL.Xg==1){if(bq>o.P.18()){I}}if(v.4M>0){bq<v.4M?bq=v.4M:\'\'}1m("3X",bq);o.CE=bq;o.CH=!o.1t;o.P.3X(bq);if(lE){o.Q.3X(bq,o.P.1l())}o.kd=H;o.hf=o.P.18();a8(o.hf)}};G.ea=E(17,4c,CL){if(o.P.7O()=="8w"&&o.g3!=\'wU\'){3e();if(o.1Z&&CL){o.V.8z()}}1A.2H(17,4c)};G.jl=E(){if(v.1V==1&&!o.1z){if(8t("7t")){o.vj=H;I}}B x=o.P.de();if(L(v.7a)){x=v.7a}if(x!=\'\'){js("7a");B jx=1A.2H(x,(v.Xj==1?\'Xk\':\'zB\'));jx.6i()}};G.6X=E(x){B 18=o.P.18();B 1l=o.P.1l();if(!o.1z&&o.2c>0){18=o.2c}o.Q.lW(18,1l,x)};G.sR=E(){B 18=o.P.18();B 1l=o.P.1l();B bo=1l>0?18/1l:0;B d1=2E.qB(bo*100);if(!o.kd){o.Q?o.Q.lW((o.2c>0?o.2c:18),1l):\'\'}F{18!=o.hf&&o.hf!=-9?o.kd=J:\'\'}if((v.ga==1||v.CO==1)&&1l>0){nf("zu","2z 25%",bo,0.25);nf("zo","2z 50%",bo,0.50);nf("zn","2z 75%",bo,0.75)}U(B i=0;i<3;i++){if(!o.gH[i]){if(bo>=i*0.25+0.25){E4(i)}}}v.zk==1?1m(1,18,1l):\'\';if(v.6S==1||v.zf>0){if(o.1t){B z=J;B nu=J;if(v.Dh==1&&v.6S==1){if(!o.P.6o()){z=H}}if(18>0){if(18==o.18&&!z){nu=H}F{o.aH=0}o.18=18}F{if(v.Xm==1){B ld=o.P.8N();v.zk==1?1m(2,ld,o.nv):\'\';if(!z){if(ld==o.nv){nu=H}F{o.aH=0}}o.nv=ld}}if(nu){o.aH++;if(v.6S==1){v.zk==1?1m(3,o.aH):\'\';if(o.aH==v.tB*(2i/o.rc)){o.V.he()}}F if(v.zf>0&&o.P.vb()>1){if(o.aH==v.zf*(2i/o.rc)){o.P.5S(\'OR sy\')}}}}}if(v.9b){if(v.9b.b0==1&&1l>0){!o.b0?o.b0=[]:\'\';o.b0[2E.4a(18)]=1}}if(v.1V==1){if(v.DP!=1&&v.jJ==1){!L(o.1V)?j6("6Q",18,1l):\'\'}if(v.DR!=1&&v.np==1){!L(o.1V)?j6("eb",18,1l):\'\'}}if(v.DJ==1&&v.Ab>0){if(18>=v.Ab){if(!L(o.1V)){if(8t("7l")){o.P.3e();o.Q.3e()}v.Ab=0}}}8n("1t");if(v.8J==1&&v.DV>-1){XN(18,1l)}if(v.Yb==1&&v.Yd){if(1H DW!=="1F"){DW(18)}}if(o.4X){a8(18)}if(o.5h&&v.cI==1){if(o.3v){!o.2c?o.3v.sL(18,1l):\'\'}}if(o.ao){o.6r?o.6r.1t(18):\'\'}if(L(v.4z)){B ed=v.4z;if(7r([v.4z],\'-\')){ed=1l}if(ed>0&&18>ed){z3()}}if(L(v.5Q)){B r1=v.5Q.2u(",");U(B i=0;i<r1.S;i++){B r2=r1[i].2u("-");if(r2.S==2){if(18>r2[0]&&18<r2[1]){if(r2[1]*1>1l){z3()}F{o.P.3X(r2[1]*1+(o.1g.6W?1:0))}}}}}if(o.d1!=d1&&d1>0){if(v.Yf==1){if(1H E1!=="1F"){E1(18,1l,d1)}}if(v.11I==1&&o.dt){if(1H E3!=="1F"){E3()}}}o.d1=d1};E z3(){o.P.3e();o.P.3X(v.1z>0?v.1z:0);o.V.p7()}E E4(x){o.gH[x]=H;if(v.cI==1&&v.E5==1&&v.E6==x){if(o.5h&&o.3i){o.3v?o.3v.Yl(o.3i):\'\'}}js("gH",(x+1)*25+\'%\')}E nf(x,y,t,p){if(!L(o.iu[y])){if(t>p){a2(x,y,1)}}};G.he=E(){o.aH=0;L(o.cp)?2C(o.cp):\'\';if(v.Yp==1){js("6S")}F{o.2c>0||o.P.6o()?\'\':o.2c=o.P.18()+(v.Yq>0?1:0);B E7=o.Q.jM();js("6S");o.P.6S();E7&&v.W.f7==1?o.Q.jV():\'\'}};G.Ds=E(){o.Q.lW(0,0);o.Q.Ae(0,0);o.V.4t(0,0);o.Q.8M()};G.zs=E(){if(o.P){B 18=o.P.8N();if(v.Ys==1){js("8N",18)}B 1l=o.P.1l();o.Q?o.Q.Ae(18,1l):\'\'}};G.p7=E(){js("Yt");js("gH","100%");o.7K=H;if(v.9E==1){if(o.2w=="5c"){G.cL()}v.1V==1?o.V.gj(\'7t\'):\'\';if(v.1z>0){o.V.3X(v.1z);o.2c=1F}G.2z()}F{if(o.P.6o()||o.2w=="5c"||o.2w=="rt"){G.cL()}F{if(v.E8==1){o.V.3X((v.1z>0?v.1z:0),H);if(o.1g.ie){o.P.3e()}}}o.Q.8y();v.DJ==1?v.Ya=1:\'\';if(8t("mb")||8t("vm")){}F{al()}}js("4z")};G.aE=E(){B 2J=J;B 2x=J;o.Dq=J;o.bs=H;1w(E(){o.bs=J},l6);U(B x in o.7P){if(o.7P.2v(x)){if(L(o.7P[x])){2X{o.7P[x].Dl()}2D(e){}}}}2X{o.dN=H;if(((o.1g.4E&&v.h7==1)||(o.1g.bm&&v.Hl==1))&&o.4L&&!o.9q){B x=o.P.ax();if(x){if(x.Y9||x.jP){hk();2J=H}}}if(!2J){B nU;B y=o.1S;if((o.2w=="dm"||o.2w=="dv")&&o.1g.7M&&v.h7==1){o.P.j1();I}if(y.jP){o.8g=H;nU=y.jP({o3:"1j"});if(nU!==1F){nU.cV(E(){}).2D(E(2x){})}}F if(y.zj){y.zj({o3:"1j"});o.8g=H}F if(o.1S.zp){y.zp({o3:"1j"});o.8g=H}F if(y.ze){y.ze({o3:"1j"});o.8g=H}F if(y.zw){y.zw();o.8g=H}}}2D(e){2x=H;1m(e)}if(o.1g.3C){if(22.XS===J){o.8g=J}}if(!o.8g&&!2J){if(o.1g.3C&&o.ow){hk()}F{G.rH()}}if(!2x){1w(Dp,4r)}};E hk(){B x=o.P.ax();if(x){if(o.P.18()==0&&o.1g.4E&&v.XT!=1){!o.1t?o.V.2z():\'\'}F{o.lz=H;if(o.1g.bm){x.jP()}if(o.1g.4E){o.P.BN();x.VG();x.1v("LC",Dv)}}}}E nn(){B x=o.P.ax();if(x){x.XV()}};G.hk=E(){hk()};G.nn=E(){nn()};E Dp(){if(o.Dq!=H){if(o.9W){o.P.dM()}if(v.1N.vW==1){nK(H);o.5N=H}v.5o==1?o.5o.2U("o1"):\'\';js("1Z");a2("o1","aE",1)}};B cw;B 8B={x:0,y:0};E s8(e){if(o.2I){if(o.2I.nZ()){I}}if(o.6H){if(o.6H.ea()){I}}if(e.XP!=0){e.zb!=0?8B.x++:8B.x--;e.d0!=0?8B.y++:8B.y--;if((v.1N.Dt==1||v.1N.Dr==1)&&o.1Z&&8B.y>8B.x){43(cw);cw=7W(E(){8B={x:0,y:0};43(cw)},2i)}F{o.9F=H;43(cw);cw=7W(E(){o.9F=J;o.Q.5q();8B={x:0,y:0};43(cw)},4p);o.Q.5q();e.9a()}if(8B.x>8B.y){if(e.zb>0){o.V.4i(4d(v.1J)-v.1N.jo/10,"no")}F{o.V.4i(4d(v.1J)+v.1N.jo/10,"no")}}F{B st=(o.1g.jx?-v.1N.jo/10:v.1N.jo/10);if(v.1N.Dr==1&&o.1Z){o.P.1K((e.d0>0?st:-st))}F if(v.1N.Dt==1&&o.1Z){3l("3K",(e.d0>0?"+"+st*10:"-"+st*10))}F{o.V.4i(4d(v.1J)+(e.d0>0?st:-st),"no");o.Q.ke()}}}}E Dv(){if(o.1g.4E){o.P.Br();js("sz")}o.lz=J}G.rH=E(){if(o.dN){o.1Z=H;o.Q.aE();if(!o.8g){if(L(o.8H)){2X{O(o.8H,{\'X\':\'100%\',\'1b\':\'100%\',\'1q\':\'sW\',\'19\':0,\'1c\':0,\'4T\':"mY"})}2D(eJ){}}O(o.1S,{\'X\':\'100%\',\'1b\':\'100%\',\'1q\':\'sW\',\'19\':0,\'1c\':0,\'4T\':"mY"});o.2T=o.1S.2a;o.4m=o.1S.2Q;2X{22.3z.C.5J=\'3b\';if(!L(o.W)){22.xm=E(e){e.9a()}}}2D(eJ){}}if(v.zO==1){O(o.1S,{\'7E\':\'#3Y\'})}if(v.yX==1&&o.1g.3C==1&&!o.1g.ff){B sw=1A.bA.X;B fz=1;U(B i=1;i<6;i++){if(sw>2i*i){fz=2h(v[\'yX\'+(2i*i)],i)}}if(fz>1){o.1S.C.Eu=fz;v.zm=fz;do()}}if(o.2I){o.2I.aq()}a8();o.dN=J}};G.8z=E(){nJ=H;if(22.Dw){22.Dw()}F if(22.Dz){22.Dz()}F if(22.DA){22.DA()}F if(22.DB){22.DB()}F if(22.DC){22.DC()}F if(22.DD){22.DD()}if(!o.8g){G.rL(J)}};G.Lc=E(x,y){vF(x,y)};E vF(x,DE){if(L(o.1V)&&!DE){o.nc=x}F{B 2J=J;B f1=o.9n/x;B eU=0;B nP={\'1b\':f1};if(v.Y6==1){if(f1>o.9p){f1=o.9p;eU=o.9n/x;o.9n=nP[\'X\']=eU}}if(L(o.8H)&&v.JT!=1){2X{O(o.8H,nP)}2D(eJ){2J=H;1m("eC Y7 Y8")}}if(!2J){o.5b=x;o.9p=f1;if(o.5b>0){O(o.1L,nP)}if(eU>0){js("X",eU)}js("1b",f1)}if(o.1V&&!o.1Z){o.4m=f1;if(eU>0){o.2T=eU}o.1V.2n()}}};G.rL=E(x){if(nJ||x){o.1Z=J;o.lz=J;if(!o.8g){if(L(o.8H)){2X{O(o.8H,{\'1q\':\'nd\',\'19\':0,\'1c\':0,\'4T\':\'DF\'});O(o.8H,o.K2);O(o.8H,{\'X\':o.bb,\'1b\':o.f9})}2D(eJ){}}O(o.1S,{\'X\':o.bb,\'1b\':o.f9,\'1q\':\'2B\',\'19\':0,\'1c\':0,\'4T\':\'DF\'});2X{22.3z.C.5J=\'2A\';22.xm=E(e){I H}}2D(eJ){}}o.Q.8z();if(v.zO==1){O(o.1S,{\'7E\':v.oP});if(v.ez==1){o.1S.C.7E=\'ez\'}F{O(o.1S,{\'7E\':v.oP})}}if(v.zm>1){o.1S.C.Eu=1;v.zm=1;do()}if(v.1N.vW==1){nK(J);o.5N=J}if(o.2I){o.2I.aq()}a8();o.mN?o.mN=J:\'\';o.Q.oa();nJ=J;js("sz");o.8g=J;o.bs=J}};G.5N=E(x){v.1N.W7!=0?nK(x):\'\'};E nK(x){8B={x:0,y:0};if(x){1A.1v("jn",s8,{5H:J})}F{43(cw);1A.5G("jn",s8)}}G.cL=E(x){v.4Q=0;if(x!=1){o.Q.3e();o.V.Ds()}F{}o.P.4i(v.1J);if(o.Q.cO()){o.Q.9K()}if(o.3t){G.5j()}a8(0);1m("2J");js("2J")};G.nt=E(){v.4Q=0;v.3m=0;v.pP=0;v.6S==1?v.6S=9:\'\';o.P.rV();o.V.cL()};G.6j=E(x){if(L(o.3h)){if(o.3h!=x){o.3h=x;if(v.rN==1){o.4f=o.2r[x];if(o.5h){3A.8d("rI",o.4f)}}o.P.6j(x);js("4Y",o.2r[x]);o.Q.Ai(x)}}};G.ia=E(){o.Q?o.Q.ia():\'\'};G.dX=E(x){if(L(o.6v)){if(o.6v!=x){o.6v=x;if(v.Gg==1){o.bO=v.bO=o.6k[x];if(o.5h){3A.8d("v4",o.bO)}}o.P.dX(x);js("7b",x);o.Q.i9("7b")}}};G.9R=E(x,z){x==\'0.0\'?x=0.1:\'\';B y=x;7B(y).K(\'.\')>0?z=1:\'\';y=y*1;if(!z){y=x==o.f4?1:o.6f[x];o.ak=x}y=4d(y);if(o.kz||z){o.io=y;U(B i=0;i<o.6f.S;i++){if(y<=o.6f[i]*1){o.ak=i;1h}}}if(o.5h&&v.Ib==1){3A.8d("Ia",y)}js("5m",y);o.P.9R(y);o.Q.i9("5m")};E a8(x){o.3p?o.3p.1n(L(x)?x:o.P.18()):\'\'};G.jA=E(){if(o.3p){a8();o.3p.C()}};G.gO=E(x){if(1H(jB)==\'E\'){!o.3p?o.3p=1u jB():\'\';o.3p.zg(x)}};B 7w;B 9N;B oo;B 2t;E 8t(x){if(v["6F"+x+"Dm"]>0&&o.5h){B tb=3A.5P("n7"+x+"3P"+o.d);if(tb){B ct=1u 6N();o.an=ct.9C();B Dn=(ct.9C()-tb)/Wa;if(Dn<v["6F"+x+"Dm"]){I J}}}if(v["6F"+x+"DI"]>0){if(o.P.1l()>0){if(o.P.1l()<v["6F"+x+"DI"]*60){if(v["6F"+x+"Dx"]>0){v["6F"+x+"3P"+"CQ"]=v["6F"+x+"Dx"]}F{I J}}}}if(o.lO.K("8u")!=-1&&v.1V==1&&!o.bQ&&v[x+\'s\']==1){if(1H sS=="1F"){I J}if(x=="7l"||x=="vm"){if(1H DX!=="1F"){2t=[];I DX(x)}}if(L(o.1V)||L(o.5Y)){if(!5F(o.sV)||8V(o.46)){1m(\'ad bg\');I J}F{1m(\'ad gc\');I H}}F{if(L(v[x])){if(v[x].6p().K(".")>-1||v[x].6p().K(":")>-1||v[x].6p().K("[Wc]")>-1){js("We",x);if(!8V(x)&&x!="eb"){1w(E(){o.1t||(o.5Y==28&&o.1V==28)?\'\':o.V.9m()},10);hW()}7w=0;9N=0;oo=x;2t=v[x].2u(" hl ");o.5T=[];o.sF=2t.S;jg();o.Cy=1;o.nq=H;U(B i=0;i<2t.S;i++){2t[i]=2t[i].2u(" or ")}v[x.aF("3P","h0")]=v[x];v[x]=28;o.46=x;if(x!=\'eb\'){o.1V=1u sS()}o.5Y=1u oV();U(B i=0;i<2t.S;i++){U(B j=0;j<2t[i].S;j++){B 8o=4U(2t[i][j]);if(8o.K("[50%]")>0){B 1C=5R(1,2);2t[i][j]=2t[i][j].1R("[50%]","");if(1C==2){2t[i][j]=\'\'}}}}if(v.rQ==1){U(B i=0;i<2t.S;i++){B n=i==0?1:0;if(2t[i].S>n){U(B j=n;j<2t[i].S;j++){B 8o=4U(2t[i][j]);if(o.1g.rO){gA(8o)}F{1w(gA,i*100,8o)}}}}}if(2t[0][0]==\'\'){ja()}F{o.5Y.oW(4U(2t[0][0]),x)}I H}F{I J}}F{I J}}}F{I J}};G.t8=E(x){8t(x)};E j6(w,x,d){if(L(o[w+\'o\'])&&v[w+\'s\']==1){B y;U(B i in o[w+\'o\']){if(o[w+\'o\'].2v(i)){if(!L(o[w+\'o\'][i].mU)&&L(o[w+\'o\'][i].18)&&L(o[w+\'o\'][i].1V)){B z=o[w+\'o\'][i].18.6p();B ok=J;if(z){if(x=="8p"){if(z==x){ok=H}}F{if(z=="3R"){if(z==x){ok=H}}if(z.K("%")>0){if(d>0){z=2R(z.1i(0,z.K("%")))*d/100}F{z=-1}}F{z=2R(z)}if(x>=z){if(v[\'6F\'+w+\'E0\']>0&&z>-1){if(x-z>=v[\'6F\'+w+\'E0\']){z=-1}}if(z>-1){ok=H}}}if(o[w+\'o\'][i].DZ&&o.P.1l()>0){if(o.P.1l()<o[w+\'o\'][i].DZ*1){o[w+\'o\'][i].mU=H;ok=J}}if(ok){y=o[w+\'o\'][i].1V;v[w]=o[w+\'o\'][i].1V;o[w+\'Wg\']=o[w+\'o\'][i].18;o[w+\'Wh\']=o[w+\'o\'][i].Wi;if(8t(w)){o[w+\'o\'][i].mU=H;1h}}}}}}}};E oQ(){if(8V()){if(o.eR==0||v[\'6F\'+o.46+\'Wk\']==1){O(o.sV,{"1B":0,"5W":"3b","1c":4p});1m(o.46+" 1j");o.46==\'6Q\'?o.P.2z():\'\'}}}E 8V(z){B y=J;B x=[\'6Q\',\'eB\'];U(B i=0;i<x.S;i++){if(o.46==x[i]||z==x[i]){if(v[\'6F\'+x[i]+\'Wl\']==1){y=H}}}I y};G.8V=E(x){I 8V(x)};G.Wd=E(x){x?\'\':nl();o.46=="6Q"?o.DL.2Y(o.v1):\'\'};G.W1=E(){nl()};G.VR=E(){nl()};E nl(){if(8V()){if(o.1t){o.P.3e();o.Q.3e()}1m(o.46+" 1n");O(o.sV,{"1B":1,"5W":"4G","1c":0});o.q4=1}if(o.lz&&!o.8g){nn()}F{if(v["6F"+o.46+"hV"]==1&&o.1Z){o.V.8z()}}};G.VK=E(x){o.5Y=28;o.q4=0;1m("8u 4n",o.46);js("VL",o.46);if(x.1I=="eb"){B DT=1u VM(x);o.np.2Y(DT)}F{if(L(o.1V)){if(v.4Q==0&&v.VP==1&&o.P.18()==0&&!o.8p){v.4Q=1;o.P.rT()}if((!o.1V.VI()||x.DS)&&o.sQ>0){1m("8u VS");o.1V.4y();o.1V=28;o.1V=1u sS()}if(8V()){oQ()}F{if(o.1t){o.P.3e();o.Q.3e()}}o.sQ++;if(o.nq&&v.eP>0){2C(o.eP);o.eP=1w(DM,v.eP*2i*60);if(L(v.DQ)){if(v.DQ!=\'\'){o.k1?o.k1.5Q():\'\';o.k1=1u VV()}}}o.nq=J;if(v.DN>0){1m("8u VW");js("VX");1w(sM,v.DN*2i,x)}F{sM(x)}}F{1m("8u VZ")}}};E sM(x){o.1V.Go(x)}E DM(){if(L(o.1V)){if(o.1V.a0()&&o.eR==0){o.1V.rC();1m("8u sy "+v.eP);2t=[];cn()}}}G.Wm=E(){js(\'W2\',o.46);1m("8u 2x");sJ()};G.ja=E(){sJ()};E sJ(){B n=jg();1m("8u 5O "+!n);!n?ja():cn()};G.Wn=E(x){if(v[o.46+"sI"]){U(B i=0;i<3;i++){v[o.46+"sI"]=v[o.46+"sI"].1R(x+(i==0?\' hl \':(i==1?\' or \':\'\')),\'\')}}};G.WK=E(){I jg()};E jg(){B x=J;if(o.46){B 7T=v[\'6F\'+o.46+\'3P\'+\'CQ\'];B j9=v[\'6F\'+o.46+\'3P\'+\'WM\'];if(j9||7T){if(j9>0&&o.uS>0){o.sF=j9;if(o.eR>=j9){x=H}}F{if(7T>0){o.sF=7T;if(o.eR>=7T){x=H}}}}}I x}E ja(){if(2t.S>0&&2t[7w]){if(9N<2t[7w].S-1){1m("8u WN");o.1V?o.1V.rC():\'\';oQ();9N++;B 8o=4U(2t[7w][9N]);B gD=uK(8o);if(gD==\'7N\'){o.5Y=1u oV();o.5Y.oW(8o,o.46)}if(gD==\'2x\'){ja()}}F{cn()}}F{cn()}}E uK(8o){B x=\'7N\';if(v.rQ==1&&o.5T){B nD=J;B n=0;U(B i=0;i<o.5T.S;i++){if(o.5T[i].oH==0){if(o.5T[i].dr.CN(8o)){o.5T[i].oH=1;B y=o.5T[i].dr.bf();if(y==\'4n\'){o.5Y=o.5T[i].dr;1m("8u CN");o.5T[i].dr.gB();x=y}F{if(y==\'\'){x=\'ok\';1m("8u WO");o.5Y=o.5T[i].dr;o.5T[i].dr.WP()}if(y==\'2x\'){x=\'2x\'}}nD=H}if(nD&&o.5T[i].dY==0){n++;if(n<6){rJ(o.5T[i])}F{1h}}}}}I x}G.WQ=E(x,y){if(x!=\'\'){B z=7w;B rA=J;if(y){U(B j=0;j<2t.S;j++){2t[j]==y?z=j:\'\'}}if(2t.S==1){if(2t[0].S>1&&9N<2t[0].S-1&&2t[9N]){B CI=2t[9N].59(1,99);2t[0].rE(9N+1,99);rA=H}}if(1H(x)=="3L"){U(B i=0;i<x.S;i++){2t.rE(z+i+1,0,[x[i]]);if(o.1g.rO){gA(x[i])}F{1w(gA,i*100,x[i])}}}F{if(1H(x)=="4O"){2t.2Y([x]);gA(x)}}if(rA){2t[2t.S-1]=2t[2t.S-1].aF(CI)}}};G.WT=E(x,y){if(x!=\'\'){B z=7w;if(y){U(B j=0;j<2t.S;j++){2t[j]==y?z=j:\'\'}}if(2t[z]){if(1H(x)=="3L"){U(B i=0;i<x.S;i++){2t[z].2Y(x[i])}}F{if(1H(x)=="4O"){2t[z].2Y(x)}}}}};G.cn=E(x){cn(x)};E gA(x){if(v.rQ==1&&o.5T){B i=0;U(B i=0;i<2t.S;i++){if(2t[i]==x){if(7w>=i){I}F{}}}if(2t.S==1&&2t[0].S>1){}F{B n=0;U(i=0;i<o.5T.S;i++){o.5T[i].oH==0?n++:\'\'}o.5T.2Y({dY:0,oH:0,x:4U(x),t:o.46,dr:1u oV(H)});n<5?rJ(o.5T[o.5T.S-1]):\'\'}}}E rJ(x){if(x){x.dY=1;x.dr.oW(x.x,x.t)}}E cn(k4){B 2J=jg();1m("8u 5Q ("+o.eR+")");if(2t.S>0&&7w==2t.S-1){if(2t[0][0].K("js:")==0){7w=-1;2t=[[2t[0][0]]]}}if(o.WW==2){2J=H}if(2t.S>7w+1&&!2J){o.1V.rC();oQ();7w++;o.Cy++;9N=0;B 8o=4U(2t[7w][0]);B gD=uK(8o);if(gD==\'7N\'){o.5Y=1u oV();o.5Y.oW(8o,oo)}if(gD==\'2x\'){cn(k4)}}F{gv();o.Q.8M();if(L(o.1V)){o.1V.4y();o.1V=28}o.5Y=28;2t=[];9N=0;7w=0;o.q4=0;o.D6!=1?js("X3",o.46):\'\';o.D6=0;if(v.Ms==1){if(o.9M){2X{o.9M.qH()}2D(e){1m(o.9M,e)}o.9M=1F}}oo=\'\';o.eR=0;o.De=0;o.v1=\'\';2C(o.eP);43(o.WI);o.k1?o.k1.5Q():\'\';o.cj?o.cj.1j():\'\';o.uS++;if(o.46=="7t"||(o.46=="eB"&&v.om==1&&o.hi)||o.46=="6Q"){if(v.3j!=\'?\'){o.P.ch();B re;if(o.vj){o.V.jl();o.vj=J;re=H}if(o.2w=="5c"&&!o.vN&&o.1g.4E){re=H;o.46=="7t"?o.P.B8():\'\'}if(re||k4==\'k4\'||v.Wr==1||o.ot){o.ot=J}F{o.V.2z(1)}}}if(o.nc>0){vF(o.nc);o.nc=0}if(o.46=="mb"){al()}o.vN=J;o.46=28}};G.Ws=E(){2t=[[\'\']]};G.gj=E(y){B x=[\'7t\',\'eB\',\'mb\',\'7l\',\'vm\'];B z;U(B i=0;i<x.S;i++){z=J;if(y){y!=x[i]?z=H:\'\'}if(!z&&L(v[x[i].aF("3P","h0")])){v[\'6F\'+x[i].aF("3P","Fd")]--;if(v[\'6F\'+x[i].aF("3P","Fd")]>0){v[x[i]]=v[x[i].aF("3P","h0")];v[x[i].aF("3P","h0")]=28}}}if(y=="7t"||y=="6Q"){if(v.tH>1){if(L(o.vB)&&v.jJ==1){U(B i in o.vB){o.vB[i].mU=1F}v.tH--}}}};G.n1=E(){hW();if(L(o.8J)){o.8J.4y();o.8J=28}o.8J=1u Wy()};G.WA=E(){gv();o.8J.4y();o.8J=28};G.hW=E(){hW()};G.gv=E(){gv()};E hW(){if(o.aR){}F{o.aR=1U("29");o.1S.1Q(o.aR);dT(o.aR);O(o.aR,{"2k":"#3Y","1B":0.1});o.aR.C.4T=If}};E gv(){if(o.aR){o.1S.3n(o.aR);o.aR=28}};E 7S(){if(L(o.2b)){B p=o.1Z?2h(v.WB,v.2b):v.2b;if(p!=o.v8){aC(p,o.2b,v.gI)}1n(o.2b);O(o.2b,{"1B":v.oG});o.Q.4N();o.gL?o.gL.1t():\'\'}};G.hJ=E(){if(L(o.2b)){if(5F(o.2b)){43(o.vI);B t=o.P.18();if(t==0&&v.B4==1){}F{if(v.F7>0){2C(o.tR);o.tR=1w(mE,v.F7*2i)}F{mE()}}}}};E mE(){2C(o.tR);if((v.tz==1&&!o.1t)||v.FO==1){v.FO==1?7S():\'\'}F{O(o.2b,{"1B":0});1w(FN,4l)}}E FN(){if(!o.1t&&v.gT==1){}F{1j(o.2b);o.gL?o.gL.3R():\'\';o.Q.4N()}}G.7S=E(){7S()};E FM(x){if(v.ty==1){U(B i=0;i<1A.5d.S;i++){if(1A.5d[i]){if(1A.5d[i].2U("id")!=v.id){1A.5d[i].2U(\'3R\',(v.Yv==1?1:0))}}}}1A.fc=v.id}E tx(x){B y=8k.6G(x).S;o.j3=0;if(y>0){x=tU(x,y,\'\',-1)}I x}E tU(x,y,p,j){B x2=[];B 2J;if(L(x[\'W\'])){x=x[\'W\'];y=x.S}B ii=0;U(B i=0;i<y;i++){2J=J;if(L(x[i][\'id\'])){x[i][\'et\']=x[i][\'id\']}x[i][\'id\']="x"+p+\'-\'+i+(L(x[i][\'id\'])?\'-\'+x[i][\'id\']:\'\');j==-1&&i==0&&!L(x[i][\'4W\'])?o.jN=x[i][\'id\']:\'\';if(!L(o.jN)){j==0&&!L(x[i][\'4W\'])?o.jN=x[i][\'id\']:\'\'}x[i][\'7H\']=p;x[i][\'tq\']=j;x[i][\'da\']=ii;if(L(x[i][\'1l\'])){o.j3+=x[i][\'1l\']}if(L(x[i][\'FH\'])){x[i][\'1G\']=x[i][\'FH\'];B q1=x[i][\'3j\']?x[i][\'3j\'].K(\'[\'):0;B q2=x[i][\'3j\']?x[i][\'3j\'].K(\']\'):0;if(q1>0&&q2>0){B s1=x[i][\'3j\'].1i(q1+1,q2-q1-1);B s2=s1.2u(",");B s3=\'\';U(B k=0;k<s2.S;k++){s3+="["+s2[k]+"]"+x[i][\'3j\'].1R("["+s1+"]",s2[k])+(k<s2.S-1?",":\'\')}x[i][\'3j\']=s3}}if(L(x[i][\'W\'])){x[i][\'4W\']=x[i][\'W\']}if(!L(x[i][\'4W\'])){if(L(x[i][\'3j\'])){if(x[i][\'3j\']==\'\'&&!L(x[i][\'7I\'])){2J=H}}F{2J=H}}if(!2J){o.1y[x[i][\'id\']]=x[i];ii+=1}if(L(x[i][\'4W\'])){B z=8k.6G(x[i][\'4W\']).S;if(z>0){x[i][\'4W\']=tU(x[i][\'4W\'],z,x[i][\'id\'],i)}}if(!2J){x2.2Y(x[i])}}I x2}E FF(){B x=[];if(L(v.54)){if(v.54.K("x-")!=0){U(B y in o.1y){if(o.1y.2v(y)){if(o.1y[y].et==v.54){v.54=y}}}}if(L(o.1y[v.54])){v.W.10z==1?v.W.yb=0:\'\';x=o.1y[v.54]}F{x=o.W[0];if(v.54==o.Fs){o.2c=1F}}}F{x=o.W[0]}if(x){U(B i=0;i<10;i++){if(L(x[\'4W\'])){x=x[\'4W\'][0]}F{1h}}v.54=x.id;if(v.54==o.Fs&&x.1z!=\'3v\'){x.1z=1F}}I x}G.gp=E(){I gp()};E gp(){B x=J;if(o.Q){if(o.Q.hF()){if((v.W.di==1||v.kJ==1)&&o.Q.bX()){x=H}}}I x};E al(){a2("4z","al",1);o.V.gj();if(o.5h&&v.cI==1){o.3v.sL(0,o.P.1l())}if(o.Q.hF()){if(gp()){if(L(v.W.Fz)){o.FA=1w(E(){o.Q.aW()},v.W.Fz*2i)}F{o.Q.aW()}}F{uE()}}F{if(v.10w==1&&o.1Z){o.V.8z()}uF()}}G.Fy=E(){uE()};E uE(){if(v.W.di==1&&v.W.o7==1&&!o.Q.bX()){o.Q.od();I}if(v.W.KX==1){!o.Q.jM()?o.Q.hq():\'\'}uF()}E uF(){v.5o==1?o.5o.2U("4z"):\'\';js("10H");if(v.7I==1&&v.10I==1&&1Y(v.Fr)){7I(v.Fr)}if(v.9I){if(1H EB!=="1F"){!o.9I?o.9I=1u EB():o.9I.ea()}}!o.9I?7S():\'\'}E n6(x){if(x.K(\'js:\')==0){2X{x=2j(x.1i(3))}2D(e){9L.1m(e.aS)}}I x?x:\'\'}};B vg=E(17){B 17;B 42;B qS;B 7Y;B gV="";B dF=0;B iC=J;B ra=J;B tO;B P;B 3q;o.3I={x:1,y:1,x0:1,y0:1};B ah;B j4=[];B qU=0;B hg=0;B iS;if(1H(17)==\'4O\'){17=4U(17);if(17.K("[{")==0){2X{17=17.1R(/6T\'qt/ig,\'"\');17=5E.7m(17);ah?17=o.V.6V(17):\'\'}2D(e){17="Et 5E"}}if(17.K("#"+v.aQ)==0){17=o[o.fd[0]](17)}if(17){if(17.K("#"+v.c9)==0&&17.K(v.fe)>0){ah=H;o[o.fd[1]](17,bN)}}if(17){if(17.K("#0")==0){if(17.K(o.e1)>0){17=cJ(17.1R(o.e1,\'\'))+o.e1}F{17=cJ(17)}}}if(v.cE==1){17=cE(17)}if(1H(17)==\'4O\'){if(17.K(".8a")==17.S-4||17.K(".9Q")>0){j4=17.2u(" or ");um()}}}o.4o=1U("29");dT(o.4o);O(o.4o,{"4S":"2V 0.2s 3g","1D-8U":"8v"});o.1S.1Q(o.4o);if(v.1N.Es==1){if(!o.uT){sg(o.4o,\'o.Es\',v.1N.jU!=1,v.1N.jU==1,Eq);o.uT=H}}if(!ah){bN()}E Eq(){B p=o.4o.j5;B p2=o.2T;if(v.1N.jU==1){p=o.4o.qb;p2=o.4m}B x;if(p>p2*2h(v.1N.En,0.5)){if(o.Q.hU()){x=H;o.Q.dC()}}F{if(p<-p2*2h(v.1N.En,0.5)){if(o.Q.bX()){x=H;o.Q.aW()}}}if(x){if(v.1N.jU==1){O(o.4o,{"1c":0})}F{O(o.4o,{"19":0})}}F{1u 5a({mc:o.4o,1I:(v.1N.jU==1?"1c":"19"),to:0,18:0.1,5f:"Hh",me:"uT"})}}E um(){17=j4[qU];if(17.K(o.e1)>0){17=17.1R(o.e1,\'\');v.3j=17}B 56=gY(17);56.9D=E(){if(G.gX==4&&G.7O==4r){hq(G);o.Q.Hu()}F{qs(1)}};56.qp=E(e){qs(3)};56.eS();ah=H}E qs(x){if(j4.S>1){if(qU+1<j4.S){qU++;um();x=0}}if(x==1){5S("W hO ob or EA EO")}if(x==2){5S("10b 5E")}}E hq(x){if(x.eK){B y=x.eK;if(y.K("#"+v.aQ)==0){y=o[o.fd[0]](y)}if(y.K("#"+v.c9)==0&&y.K(v.fe)>0){y=o[o.fd[1]](y)}if(17.K(".8a")==17.S-4){B 8a=y.2u(/(\\r\\n\\t|\\n|\\r\\t)/gm);17=[];B ub=1;B bh=\'\';U(B i=0;i<8a.S;i++){if(8a[i].K("#10d")>-1){if(8a[i].K(" - ")>-1){B 1C=8a[i].2u(" - ");bh=1C[1C.S-1]}F{if(8a[i].K("EW-6l")>-1){bh=8a[i].1i(8a[i].K("EW-6l")+10);bh=bh.1i(0,bh.K(\'"\'))}}}F{if(8a[i].K("3T")==0){17.2Y({1G:""+(bh!=\'\'?bh:ub),3j:8a[i]});ub++;bh=\'\'}}}}F{y=y.1R(/(\\r\\n\\t|\\n|\\r\\t)/gm,"");2X{17=5E.7m(y)}2D(e){9L.1m(e.aS);qs(2)}}if(o.Q){if(v.W.na==1){o.Q.jV(2)}}bN();do();1w(E(){js("W")},1)}}E bN(x){17=o.V.6V(x?x:17);17&&17!=\'?\'?6V(17):\'\';o.1t&&x&&!o.1V?o.P.2z():\'\'}E 5S(x,ES){B y=H;B yy=H;js("10i",x);if(o.i6){I}if(ES!=1&&v.6S==1&&v.tj==1){tA();I}if(42){if(o.1t||o.hi||(v.3m==1&&!o.1z)){if(42.S>0){7Y++;y=7Y>42.S-1;if(y&&42.S>1&&v.f3>0){if(o.f3<v.f3){7Y=0;y=J}o.f3++}if(y&&v.10j==1){if(o.41.S>1){if(o.2r[o.3h].K(2L("h9"))==-1){o.2r[o.3h]=o.2r[o.3h]+\' (\'+2L("h9")+\')\'}if(o.3h>0){yy=J;o.V.6j(o.3h-1);iH()}F{if(o.2r[o.3h+1].K(2L("h9"))==-1){yy=J;o.V.6j(o.3h+1);iH()}}}}if(!y){o.2c>0||!o.1z||P.6o()?\'\':o.2c=4b();if(o.2w!=qg(42[7Y])||!o.4L){if(o.1t){o.V.cL(1)}}o.hc=J;if(v.uC>0){2C(o.gM);o.gM=1w(iq,v.uC*2i)}F{iq()}}F{if(v.6S==1&&yy&&v.tj!=1){y=J;tA()}}}}F{y=J;if(!o.1z){iq()}}}if(y&&yy&&x){tS(x,H)}};E iq(){if(o.i6){I}if(o.1t||o.hi||(v.3m==1&&!o.1z)){1m("10n df",o.2c);6V(\'or\');o.1z&&!o.1V?P.2z():\'\';iH()}F{if(!o.1z){if(42.S>0){if(7Y+1<42.S){7Y++;o.f3++;6V(\'or\')}}}F{2C(o.gM);o.gM=1w(iq,1Y(v.uC,5)*2i)}}}E tS(x,mr){a2("2x","ir",H);o.es=J;if(v.EC==1&&!o.9c){if(v.EM==1){o.av.9Q(v.EL)}F{o.av.9Q(x)}if(v.EK==1&&L(v.EJ)){o.e6=1u EI();o.V.hJ()}}mr?o.9c=H:\'\';if(o.1t){o.V.8M();o.Q.3e()}L(o.2b)&&!L(o.e6)?o.V.7S():\'\';js("2x",x)}E tA(){hg++;1m("ir he Cm "+hg);o.1t?o.nw=1:\'\';L(o.cp)?2C(o.cp):\'\';o.cp=1w(EF,v.tB*2i)}E EF(){B x=2h(v.10v,10);if(o.1t||o.nw==1){o.nw=0;if(hg<x){o.V.he()}F{if(v.tj==1){5S(P.jW(),1)}F{tS(\'he ir \'+P.jW())}}}}G.5S=E(x){5S(x?x:P.jW())};G.8y=E(y){1m("p7");iC=H;2C(iS);B x=J;if(4t()>0&&!o.5l&&!y){B 18=o.AS;if(18+10<4t()){1m(\'11n (AE)\');js("AE");P.2z();P.3X(18);x=H}}if(!x){o.V.p7()}};G.aa=E(){if(v.v5==1){L(o.2b)?o.V.7S():\'\'}v.gT==1?o.V.hJ():\'\';o.Q.2z();o.V.AI();if(v.11r==1&&L(v.sA)){if(v.sA.S>5){su();43(tO);tO=7W(su,v.AK*2i)}}js("1t")};G.i8=E(){if(v.lQ==1&&o.4L){if(o.V.i8()){o.9q=P.uj();o.Q.4N();uZ()}}o.uI=H};G.g6=E(){4b()>0&&4b()==4t()&&o.V.gp()?\'\':o.V.3e()};G.kc=E(){1m("11s")};G.kb=E(){1m("tW");o.V.tW();L(o.hf)?js("3K",o.hf):\'\'};G.dg=E(){1m("vy");hg=0;o.V.vy();o.2w=="1E"?rv(1):\'\'};G.aw=E(){if(P){1m("4t",4t());o.V.4t(4b(),4t());js("1l",4t());hg=0;2C(o.cp);if(L(o.qj)){o.V.dX(o.qj);o.qj=28}o.qP=1F}};E 4b(){B x=P.18();I x}E 4t(){B x=P.1l();I x}G.ee=E(){};G.9P=E(){1m("9m");o.V.9m();js("8s")};G.bI=E(){if(dF!=4b()){if(!o.aR){o.V.8M();if(dF==0){if(v.gT==1&&v.B4==1){o.V.hJ()}}}}dF=4b();B cR=4t();js("18",dF);if(v.2f.on==1){if(1H(AC)==\'E\'){!v.e5&&v.2f.e5?v.e5=v.2f.e5:\'\';if(!3q&&v.2f.3U!=1&&v.e5&&v.e5!=\'\'&&dF>0){o.e2=1u AC();3q=o.e2.hM()}}}if(o.2w=="1E"&&o.1g.6W&&cR>0){if(o.1t&&dF>cR-1){2C(iS);iS=1w(Au,4p)}}};E Au(){if(!iC){o.V.3e();o.P.8y()}}G.vM=E(){if(o.2w=="5c"){P?P.pZ():\'\'}};G.B7=E(x){o.V.cL();P.BO(x)};G.Hi=E(x){if(L(x)){if(3q){3q.4i(x)}v.2f.1J=x}};G.C5=E(x){if(L(x)){if(3q){3q.3B(x);3q.2z()}}};G.pZ=E(){if(o.2w=="5c"&&P){I P.4n()}F{I H}};G.mJ=E(){I o.2w=="1E"?P.mJ():1F};G.mG=E(){I P.mG()};G.6j=E(x){1m("11B",x);if((o.2w=="dR"||o.2w==o.ws||(o.2w=="1E"&&(v.9x==0||ag()<2))||(o.2w=="3W"&&(v.qx==0||d8()<2)))&&L(o.41[x])){B 18=G.18();o.2c>0?\'\':o.2c=18;o.V.3X(18,J);6V(o.41[x],H);B y=H;if(v.1f){if((v.1f.11C==1&&!o.1t)||!o.1z){y=J}}if(o.a4>0){P.h3(o.a4)}if(y){o.V.2z()}}if(o.2w=="1E"&&v.9x==1&&ag()>1){P.Mp(x)}F if(o.2w=="3W"&&v.qx==1&&d8()>1){P.Mh(x)}F if(o.2w=="5c"||o.2w=="rt"){P.tu(x)}};G.L6=E(x,y){I iZ(x,y)};G.tk=E(x,y){I Cf(x,y)};E iZ(x,y){B r=x.1b+\'p\';if(x.1b<4r){r=\'vJ\'}F if(x.1b>=4r&&x.1b<=ef){r=\'q9\'}F if(x.1b>ef&&x.1b<=cP){r=\'q6\'}F if(x.1b>cP&&x.1b<=4l){r=\'p9\'}F if(x.1b>4l&&x.1b<=gS){r=\'BX\'}F if(x.1b>gS&&x.1b<=BW){r=\'pc\'}F if(x.1b>BW&&x.1b<=BV){r=\'pi\'}F if(x.1b>BV&&x.1b<=BS){r=\'uQ\'}F if(x.1b>BS&&x.1b<=BQ){r=\'11y\'}F if(x.1b>BQ){r=\'uR\'}if(x.X==11m&&x.1b<=11c){r=\'q9\'}F if(x.X==BY&&x.1b<=C7){r=\'q6\'}F if(x.X==10T&&x.1b<=10U){r=\'p9\'}F if(x.X==10W&&x.1b<=10X){r=\'pc\'}F if(x.X==10Z&&x.1b<=11a){r=\'pi\'}F if(x.X==11b&&x.1b<=11d){r=\'uQ\'}F if(x.X==11e&&x.1b<=11f){r=\'uR\'}if(v.1f.11h==1&&L(v.1f[\'6l\'+r])){r=v.1f[\'6l\'+r]}F{if(y==1){r=2L(r)}if(y==2&&L(x.aM)){r=2R(x.aM/2i)+\' \'+2L(\'ik\')}}I r};E Cf(x,y){B r=x.mw();if(r=="11i"||r=="en"){x="11j"}F if(r=="11k"||r=="ru"){x=""}if(1H(v.pI)=="3L"){if(L(v.pI[x])){x=v.pI[x]}F{x=2h(v.pI[y.6p()],x)}}I x};E uZ(){if(o.4L&&o.1W&&!o.vt){P.vw();U(B i=0;i<o.1W.S;i++){if(o.1W[i]!=\'az\'){P.Mt(o.1W[i],o.3c[i],(i==o.3u))}}o.vt=H}}G.9R=E(x){1m("ZY",x);x=4d(x);P?P.ge(x):\'\';if(v.2f.on==1){if(3q){3q.ge(x)}}};G.BN=E(){uZ()};G.Br=E(){P.vw()};G.dX=E(x){1m("YX",x);if(o.aV.S>0){if(o.aV[x]){B 18=G.18();o.2c>0?\'\':o.2c=18;o.V.3X(18,J);6V(o.aV[x],H);o.V.2z()}}F{if(o.2w=="1E"&&v.cH==1){P.Mv(x)}F if(o.2w=="3W"&&v.Bp==1){P.Mo(x)}F if(o.4L){P.h3(x)}}};G.vd=E(){B x=o.2r[o.3h];x==1F?x=\'\':\'\';B y=gJ()&&v.aj==1&&v.9x==1&&x!=2L("2A");I(y?\'\'+2L("2A")+\' \':\'\')+(v.Z0==1&&y?\'\':x)};G.v3=E(){B x=o.6k[o.6v];x==1F?x=\'\':\'\';I x};G.gJ=E(){I gJ()};E gJ(){B x=J;if(P){if(o.2w=="5c"){x=P.2A()}if(o.2w=="1E"&&v.9x==1&&ag()>1&&v.aj==1){x=P.2A()}if(o.2w=="3W"&&v.qx==1&&d8()>1){x=P.2A()}}I x}E ag(){if(o.2w=="1E"){I P.ag()}F{I 0}}E d8(){if(o.2w=="3W"){I P.d8()}F{I 0}};G.9O=E(){I o.4L?P.9O():o.5b};G.5q=E(x){if(P&&(o.sN||L(v.9O))){P.5q()}if(v.vq>0){O(o.4o,{"1b":(o.1Z?"100%":o.f9-v.vq)})}if(o.3q&&v.2f.Cp==1){o.e2.5q()}if(v.tf==1){Z3()}if(o.uG){o.uG.5q()}};G.3J=E(){I P?P.3J():{}};G.j1=E(){P.j1()};G.6S=E(){1m(\'6S\');o.aH=0;o.1z?v.3m=1:\'\';o.V.9m();if(17&&v.Z4!=1){if(17.K(\'(5R)\')==-1){17=17+(17.K(\'?\')==-1?\'?\':\'&\')+\'Bb=(5R)\'}}if(17){if(o.4L){P.3B(17);G.2z()}F{6V(17)}}};if(!L(o.2b)){sa()}if(L(v.2b)){if(v.2b!=\'\'){aC(v.2b,o.2b,v.gI);if(v.v5==1&&!o.1z){1j(o.2b)}}F{v.2b=28}}E bf(){gV=P?P.7O():\'\'}E BF(17){42=17.2u(" or ");U(B i=0;i<42.S;i++){if(42[i].K(" hl ")>-1){qS=42[i].2u(" hl ");42[i]=qS[5R(0,qS.S-1)]}if(L(v.qT)&&42[i].K("//")==-1){42[i]=v.qT+42[i]}}7Y=0}E BC(){bf();if(gV=="8w"||o.5l){o.V.sR()}if(gV!=""){o.V.zs()}}E sa(){if(o.2b){o.1S.3n(o.2b)}o.2b=1U("29");O(o.2b,{"4C-3o":"1O","1B":v.oG,4S:"1B 0.5s"});if(v.tf==1){Zd()}F{dT(o.2b)}o.1S.1Q(o.2b)}E 6V(x,y,BD){if(x){if(x.K("3K:")==0&&o.W){o.2c=x.1i(5);o.Q.HC(0);I}}2C(iS);v.qL==\'\'?v.qL=\';\':\'\';if(x.K(\'{\')>-1&&x.K(\'}\')>-1){B z=x.2u(v.qL);o.aV=[];U(B i=0;i<z.S;i++){o.6k[i]=z[i].1i(z[i].K("{")+1,z[i].K("}")-1);o.aV[i]=z[i].1i(z[i].K("}")+1);if(L(v.bO)){if(v.bO==o.6k[i]){o.6v=i}}}x=o.aV[o.6v]}!L(42)?42=[]:\'\';o.pg?2C(o.pg):\'\';x&&x!=\'or\'&&x!=\'x\'?BF(x):\'\';B ft=o.Bv;if(42.S>0){B fu=42[7Y];if(fu){if(fu.K(\'js:\')==0){2X{fu=2j(fu.1i(3))}2D(e){9L.1m(e.aS)}}}if(fu){o.2w=qg(fu);B hM=J;if(BD){hM=H}17=fu;if(17){17=17.1R(/\\(5R\\)/g,2E.5R())}F{17=42[0]}if(!hM&&x!=\'x\'&&P&&o.2w==ft&&(ft=="dR"||(ft=="dv"&&!o.1g.2e)||(ft=="5c"&&o.1z&&!ra)||ft=="dm"||ft=="1E"||ft=="3W")&&!o.mm){P.3B(17)}F{1m("YI");pK();Bc(17)}o.Bv=o.2w;rv()}}if(!y){43(o.rM);o.rM=7W(BC,o.rc);if(!L(v.1X)&&v.rb==1&&v.rq==1){v.1X=\'\'}if(L(v.1X)){o.V.gO(v.1X)}if(v.gl==1){if(v.lQ==1&&o.1g.2e){}F{if(o.2w=="5c"){O(o.4o,{"1c":-l6,"19":-l6})}F{3a(o.4o)}v.1p.1j=0}}}}E rv(x){if(o.f4||x){if(o.kz){P.ge(o.io)}F{if(o.ak!=o.f4){P.ge(o.6f[o.ak])}}}}E qg(x){B 1I="dR";if(x){if(x.K(".rZ")>0){1I="1E"}F if(x.K(".LR")>0){1I="3W"}F if(x.K("w")==0&&x.K("s")==1){1I=o.ws}F if(x.K(\'5c.aD/\')>-1||x.K(\'pL.be/\')>-1){if(1H(Bw)==\'E\'){1I="5c";if(v.A7==1){B y=\'iL://3O.5c.aD/vi/\'+qY(x)+\'/\';Bk(y+\'BA.iP\',E(z){z>100?v.2b=y+\'BA.iP\':v.2b=y+\'YK.iP\';if(o.1y){o.1y[o.3i][\'2b\']=v.2b}v.3m==1||o.1z?\'\':aC(v.2b,o.2b,v.gI)})}}F{1m("No BI")}}F if(v.dv==1&&x.K(\'dv.aD/\')>-1){1I="dv"}F if(v.YM==1&&x.K(\'YN.r\')>-1){1I="rt"}F if(v.BJ==1){if(1H(BK)==\'E\'){BK(x)?1I="6T":\'\'}}}o.sN=1I=="5c"||1I=="dv"||1I=="rt";o.4L=1I=="dR"||1I=="1E"||1I=="3W"||1I==o.ws;I 1I}E Bk(17,Bs){B 3O=1u Ml();3O.9D=E(){Bs(G.1b)};3O.3B=17}E Bc(x){o.2w=qg(x);if(o.4L){P=1u FS(x,o.4o,J)}if(o.sN){P=2j("1u vg"+o.2w[0].Bj()+o.2w.59(1)+"(x,o.4o);")}if(o.2w=="6T"){P=1u ZF(x)}o.Q?o.Q.Gx():\'\';sO()}G.Bl=E(){sO()};E sO(){if(L(v.1l)){B t=0;if(o.3v&&v.cI==1&&!o.1z){t=o.3v.bB().t}1w(E(){o.V.4t(t,v.1l)},100)}}E pK(){if(P){P.4y();P=28;gV="7K"}if(3q){3q.4y();3q=28;3q=1F;o.e2.5Q();o.3q=28;o.e2=28}};G.4y=E(){pK()};G.ZH=E(){42=[];pK()};G.6V=E(x,y,z){6V(x,y,z)};G.aC=E(x){aC(x,o.2b,v.gI)};G.2z=E(x){if(P){iC=J;ra=J;if(o.5l){o.3Z.2z()}F{P.2z(x);v.gT==1?o.V.hJ():\'\'}if(L(3q)){3q.2z()}if(o.7U){if(o.4L){if(o.an>0&&!o.7U.ZJ()){o.7U.8f()}}F{o.pb=[];o.Q.i9("dK")}}if(o.4L&&v.p6>-1&&!o.uk&&!o.1g.4E){if(o.an>0){P.Ly()}}iH()}F{1w(G.2z,4l)}};E iH(){if(v.Cg>0&&42.S>1){if(4t()==0||v.Ck==1){2C(o.pg);o.pg=1w(Ci,v.Cg*2i)}}}E Ci(){if(o.1t&&(4t()==0||v.Ck==1)&&4b()==0&&!o.gM){if(P){if(P.8N()==0&&7Y!=42.S-1){5S(\'6V Cm\')}}}}G.Cn=E(1d){if(o.3q){if(v.2f.Cp==1){if(o.ue[o.3q]>2){I}}if(1d){1d.b5();1A.1d?1A.1d.6J=H:\'\'}B 1C=P;P.uh(H,o.3q);3q.uh(J,o.4o);P=3q;3q=1C;P.2z();3q.2z();js("2f")}};G.B8=E(){P.3B(17)};G.A9=E(){v.5o==1?o.5o.2U("1j"):\'\';o.t9=H};G.k9=E(){if(v.1p.wF){v.1p.wF=J;if(o.Q){o.Q.yg(1);o.Q.sB()}}o.t9=J};G.BP=E(){if(o.3q&&o.e2){o.e2.k8()}};G.hR=E(){if(o.4L&&o.5A){o.jt=H;P.5A()}};G.dM=E(){if(o.4L&&o.9s){P.9s()}};G.qK=E(){if(v.gU==1&&L(v.ZP)){if(L(o.gU)){o.gU.1n()}F{if(1H(C3)==\'E\'){o.gU=1u C3()}}}iG();if(P){kj(0);P.qK()}};G.ch=E(){o.gU?o.gU.1j():\'\';P?P.ch():\'\'};G.iG=E(x){iG(x)};E iG(x){if(v.ZS==1&&1Y(v.cj)){if(L(o.cj)){o.cj.1n(x)}F{if(1H(AV)==\'E\'){o.cj=1u AV()}}}}G.3e=E(x){if(o.5l){o.3Z.3e()}F{P?P.3e(x):1m("ZT")}if(L(o.3q)){3q.3e()}};G.rV=E(){ra=H;o.V.3X(0,J);L(o.2b)?o.V.7S():\'\';6V(\'x\')};G.8A=E(){P?P.8A():\'\'};G.3X=E(x){if(P){if(o.5l){o.3Z.3X(x)}F{P.3X(x);if(v.2f.on==1){if(3q){3q.3X(x)}}}}};G.5j=E(){if(P){P.5j();o.5l?o.3Z.5j():\'\';1m("5z")}if(v.2f.on==1&&v.2f.gG==1){if(3q){3q.5j()}}};G.6B=E(){if(P){P.6B();o.5l?o.3Z.6B():\'\';1m("ae")}if(v.2f.on==1&&v.2f.gG==1){if(3q){3q.6B()}}};G.4i=E(x){P?P.4i(x):\'\';if(v.2f.on==1){if(v.2f.gG==1&&3q&&!o.KH){3q.4i(x)}}if(o.5l){o.3Z.4i(x)}};G.mq=E(){I P?P.mq():J};G.6o=E(){I P?P.6o():J};G.7O=E(){I gV};G.7K=E(){I iC};G.18=E(){B x=0;if(P){x=4b();if(o.5l){B y=o.3Z.4b();y?x=y:\'\'}F{if(4t()>0&&x!=4t()){o.AS=x+0.Zs}}I x}F{I 0}};G.1l=E(){B x=0;if(P){x=4t();x==0&&L(v.1l)?x=v.1l*1:\'\';if(o.5l){B y=o.3Z.4t();y?x=y:\'\'}}I x};G.8N=E(){I P?P.8N():0};G.gW=E(){o.3I.gW=o.3I.gW?J:H;O(o.4o,{"2V":(o.3I.gW?"3x(-1)":"3x(1)")})};G.ZB=E(){sa()};G.rT=E(){if(o.4L){P.4Q()}};G.AB=E(x,y){if(x==\'1K\'){if(y==1){dz(v.1f.1K/100)}if(y==2){dz(-v.1f.1K/100)}if(y==3){o.P.iy()}}F{if(o.4L){if(!o.aJ[x]){if(x==\'se\'){o.aJ[x]=0}F{o.aJ[x]=1}}if(y==1){o.aJ[x]+=v.1f[x]/100}if(y==2){o.aJ[x]-=v.1f[x]/100}if(y==3){if(x==\'se\'){o.aJ[x]=0}F{o.aJ[x]=1}}!o.iA?o.iA=[]:\'\';o.iA[x]=x+\'(\'+2R(o.aJ[x]*100)+\'%) \';B cf=\'\';U(B i in o.iA){cf+=o.iA[i]}O(P.ax(),{\'5w\':cf});o.Q.oZ(x)}}};G.1K=E(x){dz(x)};E dz(x){if(7B(x).K(":")>0){B y=x.2u(":");B z0=o.2T/o.4m;B z1=o.P.3J();if(z1.X>0){z0=z1.X/z1.1b}B z=y[0]/y[1];if(z0!=z){if(o.4L){P.gg()}B w2=o.4m*z;B x2=w2/o.2T;B h2=o.2T/z;B y2=h2/o.4m;if(x2<1){o.3I.x0=o.3I.x=4d(x2);o.3I.y=1}F{o.3I.x=1;o.3I.y0=o.3I.y=4d(y2)}ix();o.kV=x}}F{o.3I.x+=4d(x);o.3I.y+=4d(x);ix()}if(v.1N.Zp==1){if(!o.so){if(o.3I.x>0||o.3I.y>1){sg(o.4o,\'o.Zi\');o.so=H}}sn()}o.Q?o.Q.oZ(\'1K\'):\'\';sm()};G.iy=E(){if(o.4L){P.gg()}o.3I.x=o.3I.x0;o.3I.y=o.3I.y0;ix();o.kV=28;sn();sm()};G.eD=E(){ix()};E ix(){O(o.4o,{"2V":"3x("+o.3I.x+") 3H("+o.3I.y+")"});o.Q?o.Q.oZ(\'1K\'):\'\'}E sm(){if(o.5h&&v.Ij==1){3A.8d("vz",o.3I.x);3A.8d("I9",o.3I.y)}}E sn(){if(o.so&&v.1N.Zv!=1){if(o.3I.x==1&&o.3I.y==1){O(o.4o,{"1c":0,"19":0})}}};G.gf=E(x,y){P.gf(x,y)};G.de=E(){I de()};E de(){I 42?(42.S>0?(42[7Y]?42[7Y]:\'\'):\'\'):\'\'};G.vb=E(){I 42.S};G.ax=E(){I P?P.ax():J};G.6h=E(){if(o.4L){P.6h()}};G.td=E(){P.td()};E su(){B 56=gY(v.sA+\'?17=\'+42[7Y]);56.9D=E(){if(G.gX==4&&G.7O==4r){if(G.eK){v.1G=G.eK;o.V.bd(\'1G\')}}};56.eS()}};B FS=E(17,1L,2f){B Z=1U(v.gl==1?"wU":"gR");B aP;B tG=0;B 1E;B 4k=J;B vC=J;B jQ=0;B us=J;B 9Z=J;B h1=-1;B m5=-1;B 3W;B 6L=J;B ws;B uD=J;B 6C=J;o.5L=J;B 8S=0;B 9T=J;B ib=0;B 2x;B 13i;B qN=J;B jS=-1;B ca=-1;B vH;B vl;B a5;B i7;B ZA;B mV;B L8=\'gR/uX; Zz="Zy.Zx, Zw.40.2"\';B ay=J;O(Z,{\'1q\':\'nd\',\'X\':\'100%\',\'1b\':\'100%\',\'3L-lc\':\'vK\',\'4S\':"5w 0.2s 3g",\'91-1b\':\'2A\',\'5t-1b\':\'1O\',\'91-X\':\'2A\',\'5t-X\':\'1O\'});gg();if(o.1g.7M&&v.3m==1&&v.u1==1){if(!o.1z&&v.7t){3V(Z,{\'l7\':1})}F{o.3t=H;o.Q?o.Q.5j():\'\';3V(Z,{\'3t\':1,\'l7\':1,\'3m\':1})}}F{if(v.sr==1&&o.1g.2e){if(v.LU!=1&&o.1g.7M&&v.1V!=1){}F{3V(Z,{\'l7\':1})}}if(!o.1g.tv){3V(Z,{\'4Q\':(v.4Q==1?\'8p\':\'1O\')})}}if(v.Zu==1){3V(Z,{"Zt":"LT","Zr":"LT"})}17=gF(17);3V(Z,{\'3B\':17,\'x-3C-5A\':\'GF\',\'uA\':\'H\'});if(v.2b&&v.Zq==1){3V(Z,{"2b":v.2b})}if(v.Zo!=1){3V(Z,{\'uA\':\'H\'})}if(v.Zn==1){3V(Z,{\'2f\':\'J\'})}if(2f){Z.3m=H;if(v.2f.gG!=1||v.3m==1){Z.3t=H}F{Z.1J=1Y(v.2f.1J)?v.2f.1J:v.1J}}if(v.Zm==1){3V(Z,{\'Zl\':\'Zk\'})}uq();if(v.Zj==1){B dV=1U("eC");3V(dV,{"GL":"no","GJ":"H","GI":"H","3B":""});O(dV,{"1q":"2B","X":"100%","1b":"100%","2K":0});1L.1Q(dV);B LS=1A.7W(E(){if(dV.l8.22.gX==="My"){1A.43(LS);O(dV.uP.3z,{"2O":0,"2M":0});dV.uP.3z.1Q(Z)}},100)}F{1L.1Q(Z)}if(!L(17)){17=\'\'}B iF=J;if(o.1g.tv){if(17.K("ZC")>0){iF=H}}if(o.1g.6W){if(17.K("ZO")>0||(v.LX==1&&v.dP==1)){iF=H}}if(o.1g.4E){if(17.K("rY")>0){iF=H}}o.1g.6W?Lu():\'\';if(17.K(".LR")>0){6C=H;if(!o.3W){if(1H LQ!=="1F"){o.3W=1u LQ()}F{6C=J}}if(L(o.3W)){if(!L(1A.LE)){o.3W.ri()}F{tc()}}}F if(((2G.1E==1&&v.s0!=1)||17.K(".rZ")>0)&&!iF&&(o.hK.K("8D")!=-1||L(1A.5Z))){4k=H;vC=H;2X{if(L(1A.5Z)){if(!5Z.LP()||(o.1g.6W&&v.ZW==1&&!o.1g.4E)||(o.1g.4E&&v.rY==1)||(o.1g.r7&&v.ZV==1)){1m(\'8D ZU \',5Z.LP());4k=J}F{if(v.4Q==1||v.3m==1||v.LO==1||2f){d2(J)}}}F{4k=J}}2D(2x){4k=J}}F if(17.K("w")==0&&17.K("s")==1&&v.ZR==1){9T=H;uH()}if(o.1g.tv&&v.3m==1&&!4k&&!6C&&!9T){1w(E(){o.V.dD()},100)}if(v.7U==1){L(o.7U)?o.7U.aq():\'\';o.7U=1u ZQ()};G.td=E(){tc()};E tc(){6C=H;if(tM()){if(v.4Q==1||v.3m==1||v.LM==1){mA(J)}}F{6C=J;1m("ZN hO M3")}}E mA(x){if(o.3W&&!6L){o.3W.hM(x,Z,17,2f);L(1A.LE)?6L=H:\'\'}}E d2(x){1m("8D");if(o.41.S>1){v.9x=0;v.LL=H}F{v.LL?v.9x=1:\'\'}if(o.aV.S>1){v.cH=0;v.LK=H}F{v.LK?v.cH=1:\'\'}o.a5=J;h1=-1;a5=[];o.3p?o.3p.LJ():\'\';B sZ=J;if(v.7t&&v.LI==1){sZ=H;v.LI=0}aP={M4:(v.LH==1&&!2f),ZE:(v.4Q==1||v.3m==1||2f||x)&&!sZ,gQ:60,rB:60,ZM:J};if(v.LF>0){aP.ZL={7f:{LV:v.LF*2i}}}if(v.LN>0){aP.ZK={7f:{LV:v.LN*2i}}}if(v.ZI==1){aP.ZG=H}if(v.dP==1){B ks=[\'wv\',\'pr\',\'ck\'];B pQ=[\'aD.ZD.hX\',\'aD.Zg.YU\',\'47.w3.Zf\'];B dj={};U(B i=0;i<ks.S;i++){if(v[\'dP\'+ks[i]]==1){dj[pQ[i]]={};if(1Y(v[\'dP\'+ks[i]+\'l\'])){dj[pQ[i]].YQ=uU(v[\'dP\'+ks[i]+\'l\'])}if(1Y(v[\'dP\'+ks[i]+\'s\'])){dj[pQ[i]].YP=uU(v[\'dP\'+ks[i]+\'s\'])}}}aP.YO=H;aP.YL=dj}if(v.M6==1){aP[\'YJ\']=E(56,17){56.YH=H}}if(L(v.6P)){if(L(v.6P.gQ)){if(v.6P.gQ>gS){v.6P.gQ=gS}v.6P.rB=v.6P.gQ}if(L(v.6P.Md)){v.6P.rB=v.6P.gQ=v.6P.Md}if(1H v.6P=="3L"){U(B 1a in v.6P){if(v.6P[1a].6p().K(\'2j:\')==0){v.6P[1a]=2j(v.6P[1a].1i(5))}aP[1a]=v.6P[1a]}}}js("Yy",1E);1E=1u 5Z(aP);js("1E",1E,1);1E.LZ(17);1E.YG(Z);1E.on(5Z.7p.YF,E(){1m("8D YE")});1E.on(5Z.7p.YD,E(1d,26){!2f?o.V.dD():\'\'});1E.on(5Z.7p.YC,E(1d,26){if(!2f&&v.9x==1&&ag()>1){L7();pJ();o.Q?o.Q.i3(o.3h):\'\'}});1E.on(5Z.7p.YB,E(1d,26){pJ()});1E.on(5Z.7p.YA,E(1d,26){pJ()});1E.on(5Z.7p.Yz,E(1d,26){if(!2f){if(26.iX.5L!=o.5L){o.5L=26.iX.5L;o.Q.4N()}o.5L=26.iX.5L;if(o.5L){1m("YR");o.Mb=17.K("?wb")>-1;if(Z.1l>0&&Z.d7>0){if(Z.1l-Z.d7<10){if(o.iR>0){if(o.iR==Z.d7&&o.Ma==Z.1l){o.qW++;if(o.qW>2){o.qW=0;o.iR=-1;1E.9V();d2(H);8y()}}F{o.iR=-1}}F{o.iR=Z.d7;o.Ma=Z.1l}}}}}if(v.9x==1){o.3h=1E.mP;o.Q?o.Q.i3(o.3h):\'\'}mO()});1E.on(5Z.7p.YS,E(1d,26){if(L(26.iU)){!2f?js("Z5",26.iU.Ze):\'\';if(v.eh==1){if(!o.eh){if(1H M9!=="1F"){o.eh=1u M9()}}o.eh?o.eh.Go(26.iU):\'\'}}if(h1>-1){1E.LA=h1;h1=-1}2C(o.gM);us=H;M2()});1E.on(5Z.7p.Zc,E(1d,26){js("Zb",26,1)});1E.on(5Z.7p.Z9,E(1d,26){if(!2f&&v.cH==1){1w(tn,4l)}});1E.on(5Z.7p.Z8,E(1d,26){if(!2f&&v.cH==1){tV()}});1E.Z7=J;if(v.Z6==1){1E.on(5Z.7p.YV,E(1d,26){if(1H(26)=="3L"){if(26.iU.1I==\'1X\'){B fu=26.iU.17;if(fu){B st=1E.Mr;if(o.4X){o.3p.vA(st+\'bW\'+fu)}F{!a5[st]?a5[st]=[]:\'\';a5[st].2Y(fu)}}}}});1E.on(5Z.7p.Z2,E(1d,26){B x=1E.Z1;B y=\'\';U(B i=0;i<x.S;i++){y+=(y!=\'\'?\',\':\'\')+\'[\'+x[i].6l+\']1E\'+i;x[i].7f?o.qq=x[i].6l:\'\'}3l("1X",y)})}1E.on(5Z.7p.YZ,E(1d,26){v.1m==1?9L.1m(26):\'\';js(26.1I+\'5Z\',26,0,H);o.vf=26;if(26.hc){if(26.1I=="YY"){1m("8D hc vR 2x");if(v.pP==1&&4b()==0){vn()}F{2x=26.iX+\' (\'+26.1I+\')\';o.2c>0||2f||v.5L==1||9T?\'\':o.2c=4b();1E.9V();if(!2f){o.hc=H;o.P.5S()}}}F{B nx=J;if(26.1I=="YW"){if(v.ZX==1&&o.P.vb()>0){nx=H}F{1m("8D hc P 2x, h0");1E.Zh()}}F{nx=H}if(nx){2x="8D hc 2x, 9V";1E.9V();!2f?o.P.5S():\'\'}}}F{1m("8D ",26.1I,26.iX,(26.pu?26.pu.vQ:\'\'));js("10R",(26.pu?26.pu.vQ:\'\'));if(8S>0){8S=2;vE()}}});9Z=H}E uU(x){if(x){U(B j=1;j<11;j++){if(v["M5"+j]){x=x.1R("{"+j+"}",v["M5"+j])}}}I x}E pJ(){if(!2f&&v.9x==1&&ag()>1){if(o.3h!=1E.mP){o.3h=1E.mP;o.Q?o.Q.i3(o.3h):\'\';1m("8D 11g "+o.3h)}if(1Y(v.cg)&&o.3h>0){B fq=v.cg.2u(",");U(B k=0;k<fq.S;k++){if(o.2r[o.3h].K(fq[k])>-1){1m(\'10S 4Y\');1E.gi=o.3h-1;o.3h--;1h}}}if(v.aj!=1&&n8()){v.gh="eI";tC(m5>-1?m5:1E.gi);1m("10Y")}}}E uH(){if(L(1A.LY)){if(tM()){if(!L(o.ws)){o.ws=1u 10V()}ws=1u LY(Z,17,2h(v.11l,{M4:H}));uD=H}F{9T=J;1m("hO M3")}}}E M2(){vk()};G.6h=E(){vk()};E vk(){if(v.K4&&o.Q){if(Z.ci.S>0){if(v.6h==1){Z.ci[Z.ci.S-1].g3="MC"}F{Z.ci[Z.ci.S-1].g3="3b"}if(!o.6h){o.6h=H;o.Q.4N()}}F{if(o.6h){o.6h=J;o.Q.4N()}}}}E vn(){1m("11G");!2f&&o.1t?o.V.3e():\'\';o.V.7S();8S=1;vE(o.1t)}E vE(x){if(8S>0){2C(vH);vH=1w(M0,v.M1*2i)}}E M0(){if(8S>0){1m("11F");if(4k){if(8S==1){1E.LZ(17)}if(8S==2){1E.9V();d2(H);Z.1t()}}F{3V(Z,{\'3B\':17})}}}Z.1v(\'11E\',LB);Z.1v(\'2x\',vu);Z.1v(\'7K\',8y);Z.1v(\'1t\',aa);Z.1v(\'3R\',g6);Z.1v(\'Mx\',bI);Z.1v(\'kd\',kc);Z.1v(\'mj\',kb);Z.1v(\'Mw\',dg);Z.1v(\'MA\',ee);Z.1v(\'8s\',9P);Z.1v(\'MB\',aw);Z.1v(\'11D\',Lb);Z.1v(\'Mj\',v2);Z.1v(\'L1\',uM);if(v.LX==1&&o.1g.6W){if(1Y(v.11A)){if(1Y(v.11z)){Z.1v(\'Is\',uO)}}}if(o.1g.7M){Z.1v("11x",j1,J);Z.1v(\'LC\',Lk)}E Lk(){if(v.lQ!=1){Z.dZ("Q")}}E j1(){if(Z.11o){o.V.hk()}}E LB(){if(!4k&&!6C){!2f?o.V.dD():\'\'}}E vu(){if(!4k&&!6C){if(Z.2x){B x=Z.2x.vQ;2x=Z.2x.aS;if(2x==\'\'){if(x==1){2x="Lt"}if(x==2){2x="vR"}if(x==3){2x="hB"}if(x==4){2x="hO ob"}}1m("ir: ",2x)}if(vC&&v.pP==1&&4b()==0){2x=1F;vn()}if(2x!=1F||o.1g.2e){5S()}}}E 5S(){!2f?o.P.5S():\'\'}E 8y(){if(!2f){o.P.8y()}F{if(v.2f.9E==1){Z.d7=0;Z.1t()}}}E aa(){if(!o.1z&&v.7t){1m(\'Lh 1t\');3R();o.V.2z();I}if(4k&&8S>0){}F{if(!2f){B b9=o.V.8V()&&o.q4!=1;if(b9||ca==-1){B x=J;if(4k){if(L(o.1V)||L(o.5Y)){if(b9){}F{1m(\'3R i1\');3R();x=H}}}if(!x){o.P.aa()}}}}}E g6(){if(!ay){1m("11w");if(o.1t&&o.hi&&!Z.7K&&v.Lg==1&&!o.9q){1m("Lg");h5()}F{!2f&&!o.Lf&&Z.6I?o.P.g6():\'\'}}}E bI(){!2f?o.P.bI():\'\';if(ca>-1){if(4b()>ca){3R();ca=-1}}}E kc(){!2f?o.P.kc():\'\'}E kb(){!2f?o.P.kb():\'\'}E dg(){if(2f){mW()}F{o.P.dg();tX();if(4k&&8S>0){8S=0;1m("11v up");1E.La();h5();o.Q.2z()}if(L(v.9O)){2n()}mV?Ls():\'\';1w(Le,4l)}}E Lj(){if(Z.C.1c=="-11u"||Z.qb<-2i){ch()}}E Le(){if(Z){if(Z.cY&&o.6k.S==0&&v.11t!=0){B at=Z.cY;U(i=0;i<at.S;i++){B x=o.P.tk((at[i].7q?at[i].7q+\' (\':\'\')+at[i].Ld+(at[i].7q?\')\':\'\'),i);if(x==v.bO){o.6v=o.a4=i}o.6k[i]=x}o.Q.o9(o.a4)}}if(o.a4>0){h3(o.a4,1)}};G.9O=E(){I(Z.mS/Z.gn)};E mW(){if(Z.gn>0){O(1L,{"1b":1L.2a/(Z.mS/Z.gn)-2R(v.2f.2K)})}F{if(tG<20){1w(mW,100);tG++}}}E tX(){if(v.oB==1){43(o.tJ);o.tJ=7W(tI,100);tI()}}E tI(){if(Z){if(Z.gn>0){o.V.Lc(Z.mS/Z.gn);43(o.tJ)}}}E aw(){!2f&&!9T?o.P.aw():\'\'}E ee(){!2f?o.P.ee():\'\'}E 9P(){if(4k&&8S>0){}F{!2f?o.P.9P():\'\'}}E Lb(){o.V.tL()}E tM(){B pD=1A.L9=1A.L9||1A.11q;B ij=1A.L2=1A.L2||1A.11p;B pF=pD&&1H pD.pF===\'E\'&&pD.pF(L8);B FR=!ij||ij.tN&&1H ij.tN.10Q===\'E\'&&1H ij.tN.5Q===\'E\';I pF&&FR}B ts="<7D C=\'1B:0.5\'>";E L7(){if(!2f&&v.9x==1){B x=1E.3S;B q=-1;o.2r=[];if(x.S>1){if(L(v.4f)){if(v.4f==\'5t\'){q=x.S-1}if(v.4f.K(\'ih:\')==0){q=v.4f.1i(4)*1;q>=x.S?q=x.S-1:\'\'}}U(B i=0;i<x.S;i++){if(L(x[i].1b)){B y=o.P.L6(x[i],v.L5);if(o.2r.K(y)>-1||v.10P==1){if(L(x[i].aM)){B yi=o.2r.K(y);yi>-1?o.2r[yi]+=" "+ts+" &fF;"+2R(x[yi].aM/2i)+\' \'+2L(\'ik\')+\'</7D>\':\'\';o.2r[i]=y+" "+ts+" &fF;"+2R(x[i].aM/2i)+\' \'+2L(\'ik\')+\'</7D>\'}}F{o.2r[i]=y}if(L(x[i].L4)){o.a6[i]=x[i].L4[0]}}F if(L(x[i].6l)){o.2r[i]=x[i].6l}F{o.2r[i]=i}if(L(v.4f)&&q==-1){if(v.4f==o.2r[i]){q=i}}if(L(o.4f)){if(o.4f==o.2r[i]){q=i}}}if(v.aj==1){o.2r[x.S]=2L("2A")}F{q==-1?q=x.S-1:\'\'}if(v.L3==1||q>-1){if(v.gh=="5O"||(!o.1z&&v.4Q==0)){1E.tQ=q}F{if(v.gh=="eI"){1E.gi=q}}o.3h=q}F{if(v.aj==1){o.3h=1E.3S.S-1}F{o.3h=1E.10s}}if(v.Li>0){1E.mX=x.S-v.Li*1-1}mO()}if(1E.3S[o.3h]){o.aM=2h(1E.3S[o.3h].aM,0)}o.Q?o.Q.4N():\'\'}}E mO(){if(v.cH==1){tn();tV()}}E tn(){if(!2f&&v.cH==1){B x=1E.cY;o.6k=[];B 2J;B 1T=-1;if(x.S>1){U(B i=0;i<x.S;i++){2J=J;if(L(x[i].hb)&&o.a6.S>0){if(x[i].hb!=o.a6[o.3h]){U(B j=0;j<o.a6.S;j++){if(o.a6[j]==x[i].hb){2J=H}}}}if(!2J){o.6k[i]=(L(x[i].6l)?o.P.tk(x[i].6l,i):i)+(v.10r==1&&L(x[i].a7)?\' (\'+x[i].a7+\')\':\'\');if(L(v.bO)){if(v.bO==o.6k[i]){1T=i}}}}}}if(1T>-1){o.6v=1T;1E.n5=1T}}E tV(){if(!2f){B x=1E.cY;B y=1E.n5;if(y>-1){if(L(x[y].hb)){if(o.a6.S>0){if(o.a6[o.3h]!=x[y].hb){U(B i=0;i<x.S;i++){if(x[i].6l==x[y].6l&&x[i].hb==o.a6[o.3h]){1E.n5=i;y=i;1h}}}}}o.6v=y;1m("8D 10q",o.6v);o.Q.o9(o.6v)}}};G.h3=E(x,y){h3(x,y)};E h3(x,y){if(Z.cY.S>1){Z.cY[x].uB=H;Z.cY[y==1?0:o.a4].uB=J;o.a4=x;y!=1?Z.d7=o.P.18():\'\'}}E 4b(){if(6C){I 6L?o.3W.18():0}F{B x=Z.d7;if(L(v.h4)){x=x*v.h4}I x}};E 4t(){B x=Z.1l;if(!x&&o.qP){x=o.qP}if(x==10p){v.5L=1;x=4b()+10;if(o.cR){x<o.cR?x=o.cR:\'\'}o.cR=x}if(6C&&6L){x=o.3W.1l()}if(L(v.h4)){x=x*v.h4}if(L(v.4z)){if(7r([v.4z],\'-\')){x=x+v.4z*1}F{x=v.4z}}I!uw(x)?x:0}G.2z=E(x){if(x=="ay"){ay=J}B p=H;if(4k&&!us){if(!9Z){d2(H)}1E.La()}if(6C&&!6L){mA(H);p=J}if(9T){if(!uD){uH()}ws.1t();p=J}Lj();p?h5():\'\'};B 10o;E h5(){if(17!="1O"&&Z){B pp=Z.1t();if(pp!==1F){pp.cV(E(){1m("10m");if(!o.3t){if(Z.3t){1m("10l");Z.3t=J}}ib=0}).2D(E(2x){B em=2x.aS;1m("10a",em);if(em.K(\'df\')==-1&&em.K(\'10h by\')==-1){if(v.u1==1&&L(Z)&&o.1t){1m(\'10g\',o.1t);o.V.5j();2X{Z.1J=0}2D(e){};B ud=Z.1t();if(ud){ud.cV(E(){}).2D(E(e){1m("10f",e.aS);if(o.1g.tv&&(4k||6C)){}F{o.Q.3e();o.V.7S();js("10e")}})}}F{if(!o.ds){o.Q.3e();o.V.7S()}}}F{if(em.K(\'dY 10c\')>0||em.K(\'Lt\')>0){if(o.1t){if(ib<5){1m("10t",ib);1w(h5,10k);ib++}F{}}}}})}}}G.qK=E(){if(o.5Y||o.1V){if(o.9W){dM()}if(!o.jt&&o.1g.2e&&o.1g.3C){if(!Z.3t){Z.3t=H;qN=H}O(Z,{"1q":"2B","19":-4p,"1c":-4p});ca=4b();if(!9T){Z.1t()}if(ca==0&&o.2c>0){i7=o.2c}}}};G.ch=E(){ch()};E ch(){if(!o.jt&&(o.1g.2e||o.1g.3C)){O(Z,{"1q":"nd","19":0,"1c":0});if(L(v.9O)){2n()}if(qN){!o.3t?Z.3t=J:\'\';qN=J}if(i7>0){o.2c=i7;i7=0}ca=-1}};G.3e=E(x){if(x=="ay"){ay=H}1m(\'6I\');3R()};E 3R(){if(9T){ws.3R()}F{Z.3R()}};G.8A=E(){!Z.6I?3e():h5()};G.3X=E(x){if(L(v.h4)){x=x*(1/v.h4)}if(6C&&6L){o.3W.3K(x)}F{if(4k){if(v.10u==1&&x>0&&n8()&&v.aj==1){h1=1E.gi;1E.LA=0}}Z.d7=x}};G.5j=E(){Z.3t=H};G.6B=E(){Z.3t=J;if(o.2w=="1E"&&o.1g.4E&&v.1V==1){if(!L(o.Lz)){ay=H;1m("4E ae");Z.3R();1w(E(){Z.1t();ay=J},10);o.Lz=H}}};G.4i=E(x){Z.1J=x};G.Ly=E(){if(o.Lw!=Z){B df;B 9B;if(o.m8[Z]){df=o.m8[Z];9B=o.ul[Z]}F{1A.p4=1A.p4||1A.10G;if(L(1A.p4)){2X{9B=1u p4();df=9B.10O(Z);o.m8[Z]=df;o.ul[Z]=9B}2D(e){1m(e)}}}if(9B){B jT=9B.10N();jT.jT.5r=v.p6;df.Lx(jT);jT.Lx(9B.10M);o.uk=H;o.Lw=Z}}};G.mq=E(){I!Z.6I};G.6o=E(){I v.5L==1||9T?H:o.5L};G.ax=E(){I Z};G.uj=E(){3V(Z,{\'Q\':\'1\'});I H};G.4Q=E(){3V(Z,{\'4Q\':\'8p\'});if(4k&&!9Z){d2(J)}if(6C&&!6L){mA(J)}};G.7O=E(){B 7i="8w";if(Z.6I){7i="6I"}if(Z.7K){7i="7K"}I 7i};G.uh=E(x,y){2f=x;y.1Q(Z);1L=y;if(x){if(v.2f.gG!=1){Z.3t=H}F{if(!o.3t){Z.3t=J}}mW();if(o.2r.S>0&&v.aj==1){if(4k){jS=o.3h;1E.mX=0;1E.gi=0}}}F{if(!o.3t&&v.2f.gG!=1){Z.3t=J}Z.1J=1Y(v.2f.1J)?v.2f.1J:v.1J;tX();if(o.2r.S>0&&v.aj==1){if(4k){1E.mX=-1;if(jS>-1){jS<1E.3S.S?1E.tQ=jS:\'\'}}}}};G.18=E(){I 4b()};G.1l=E(){I 4t()};G.8N=E(){B x=0;if(Z.8Q){if(Z.8Q.S>0){B y=4b();U(B i=0;i<Z.8Q.S;i++){if((y>=Z.8Q.1z(i)||y>=Z.8Q.1z(i)-100)&&y<=Z.8Q.4z(i)){x=Z.8Q.4z(i)}}x==0?x=Z.8Q.4z(Z.8Q.S-1):\'\'}}if(L(v.4z)){B ed=v.4z;if(7r([ed],\'-\')){ed=4t()}x>ed?x=ed:\'\'}I x};G.2A=E(){I n8()};E n8(){B x=J;if(4k){if(9Z){x=1E.10L}}F if(6C){if(6L){x=o.3W.2A()}}I x}G.3J=E(){I{"X":Z.mS,"1b":Z.gn}};G.3B=E(x){if(x){1m("3B");x=x.1R(/\\(5R\\)/g,2E.5R());x=gF(x);17=x;o.9c!=2?o.9c=J:\'\';if(6C){if(6L){o.3W.df(x)}}F if(4k){4k&&1E?1E.9V():\'\';d2(o.1z||o.3m);ux()}F{3V(Z,{\'3B\':x,\'3m\':0});uq();3R()}}};E gF(x){if(x){B y=x.K(\':10K:\');if(y>0){o.gF=x.1i(y+6);x=x.1i(0,y)}}I x}E uq(){if(o.1g.6W&&Z){B y=Z.ci;if(y){U(B i=0;i<y.S;i++){y[i].g3="10J"}}y=Z.cY;if(y){U(i=0;i<y.S;i++){y[i].uB=(i==0?1:0)}}}ux();if(v.uG==1){1H Lv!=="1F"?Lv(17,Z,1L):\'\'}}E Lu(){if(o.2w=="1E"&&4k){}F{if(1A.10F){mV=H;Ll()}}}E Ls(){mV=J}E Ll(e){o.5A=H;1m("5A");!2f?o.V.ia():\'\';Z.1v(\'10E\',E(1d){o.p5=Z.10D;if(o.2w=="1E"){1m("5A",o.p5);if(o.p5&&jQ==0&&4k){o.2c=4b();1E.9V();Z.3B=17;Z.uA=J;Z.1t();4k=J;jQ=6N.gc()}if(!o.p5&&6N.gc()-jQ>2i&&!4k){o.2c=4b();d2(H);Z.1t();4k=H;jQ=0}}})}G.5A=E(){Z.10C()};G.9s=E(){dM()};E ux(){if(o.1g.3C){if(L(Z.10B)&&!o.1g.7M){o.9s=H}if(22.10A&&!Z.10y){o.9s=H}}}E dM(){if(o.1g.6W){if(Z.10x==="mk-in-mk"){Z.Lp("bC");o.9W=J}F{Z.Lp("mk-in-mk");o.9W=H}}F{if(!22.ZZ){2j(\'Z.Yw().cV(p => {o.9W = H;}).2D(2x => {o.9W = J;});\')}F{2j(\'22.X6().cV(ok =>{o.9W = J;}).2D(2x => {});\')}}};E v2(){o.9W=H};E uM(){o.9W=J};E uO(e){if(1H Mg!=="1F"){!o.mm?o.mm=1u Mg():\'\';o.mm.Go(Z,e)}}G.Mh=E(x){if(6L){o.3W.tu(x)}};G.Mo=E(x){if(6L){if(Z.8Q.S>0){o.3W.WH(x)}}};G.WG=E(x){if(o.ws){o.ws.Mn(ws,x,-1)}};G.WF=E(x){if(o.ws){o.ws.Mn(ws,-1,x)}};G.Mp=E(x){m5=x*1;tC(x)};E tC(x){if(9Z){B y=2R(x);if(y>=1E.3S.S){if(v.aj==1){y=-1;1E.mX=-1}F{y=1E.3S.S-1}}if(v.gh=="eI"){1w(9P,4l);1E.gi=y}if(v.gh=="5O"){1m("8D 5O WE "+y);1E.tQ=y}if(y==-1){o.3h=1E.mP}mO()}};G.mJ=E(){I 1E};G.mG=E(){I 6L?o.3W.WD():J};G.ag=E(){I ag()};E ag(){B x=0;if(9Z){if(1E.3S){x=1E.3S.S}}I x}G.d8=E(){I d8()};G.gg=E(){gg()};E gg(){if(Z){if(v.n2==1||v.6q==1){if(v.WC==1||v.6q==1){O(Z,{\'3L-lc\':\'6q\'})}F{O(Z,{\'3L-lc\':\'ve\'})}}F{O(Z,{\'3L-lc\':\'vK\'})}}}G.5q=E(){2n()};E 2n(){if(v.9O){3l(\'1K\',7B(v.9O).1R(\'/\',\':\'))}}E d8(){B x=0;if(6L){x=o.3W.3S()}I x}G.Mv=E(x){if(9Z){1E.n5=2R(x)}};G.gf=E(x,y){if(y=="1E"&&9Z&&vl){vl.Wp(x)}if(y=="Mq"&&9Z){if(a5[x]&&o.3p){U(B i=0;i<a5[x].S;i++){o.3p.vA(a5[x][i])}}1w(E(){1E.Mr=x*1},4l)}if(y=="3W"&&6L){o.3W.Wx(x)}};G.ge=E(x){if(x){Z.Ww=x}};G.vw=E(){B x=Z.gb;B y=[];U(B i=0;i<x.S;i++){if(x[i].g9.mw()==\'8G\'){x[i].5G("dY",vp);y.2Y(x[i])}}U(B i=0;i<y.S;i++){Z.3n(y[i])}U(B i=0;i<Z.ci.S;i++){Z.ci[i].g3=\'3b\'}o.vt=J};G.Mt=E(x,y,z){if(x!=\'\'){if(x.K(\' or \')>0){B xx=x.2u(\' or \');x=xx[0]}B 8G=22.1U(\'8G\');8G.7d(\'3B\',x);8G.7d(\'7q\',y);8G.7d(\'Wv\',\'vr\');8G.7d(\'g3\',\'MC\');if(z){8G.7d(\'7f\',\'\')}Z.1Q(8G);8G.1v("dY",vp)}};E vp(e){if(e.4c.7q&&o.3p){U(B i=0;i<o.3c.S;i++){if(o.3c[i]==e.4c.7q){o.3p.9l(i)}}}};G.jW=E(){I 2x?2x:\'\'};G.4y=E(){43(o.Wu);4k&&1E?1E.9V():\'\';6C&&6L?o.3W.Wt():\'\';9T&&ws?ws.2J():\'\';Z.5G(\'2x\',vu);Z.5G(\'7K\',8y);Z.5G(\'1t\',aa);Z.5G(\'3R\',g6);Z.5G(\'Mx\',bI);Z.5G(\'kd\',kc);Z.5G(\'mj\',kb);Z.5G(\'Mw\',dg);Z.5G(\'MA\',ee);Z.5G(\'8s\',9P);Z.5G(\'MB\',aw);Z.5G(\'Mj\',v2);Z.5G(\'L1\',uM);Z.5G(\'Is\',uO);Z.3B=\'\';if(1L.g9=="K1"){1L.uP.3z.3n(Z)}F{1L.3n(Z)}Z=28}};B Ie=E(){B b=[];B hG=[];B 5C=[];B 8s=J;B oU;B 8c=J;B 1f;B W;if(o.4R){o.4R.1j();o.4R=28}B nE;o.6f=[0.25,0.5,0.75,1,1.25,1.5,2];if(v.1f.Wq==1&&L(v.1f.k0)){v.1f.k0=v.1f.k0.1R(/\\n/ig,\'\');o.6f=v.1f.k0.2u(",")}o.f4=7r(o.6f,1,H);o.ak==3?o.ak=o.f4:\'\';U(B i in o.6a){if(o.6a.2v(i)){!L(v.1f[i])?v.1f[i]=5:\'\';o[\'6M\'+i]=[\'+ \'+v.1f[i]+\'%\',\'&Wz; \'+v.1f[i]+\'%\',(o.6a[i]*100+\'%\')]}}if(v.1p.e8==1&&o.1g.4E&&v.h7==1){v.1p.1j=0}B nM=J;B 9t=0;B nR=0;B hn=J;B A6=H;B jq;B bg=1u yJ();B 1f;B 5k=[];B uY=J;B uL=J;B jE=0;B cK=[];if(v.hL.1q=="Q-2q"){v.hL.1q="Q"}U(B y in v){if(v.2v(y)){if(y.K("dq")==0&&v[y]){!L(v[y].uW)?v[y].uW=v[y].5k:v[y].5k=v[y].uW;if(5k[v[y].5k]){v[y].5k+=v[y].5k}5k[v[y].5k]=y;if(v.hL.1q!="Q"){if(v[y].1q=="Q-2q"){cK.2Y([y,v[y].5k]);uY=H}F{if(v[y].1q=="Q"||v[y].1q==1F){uY?uL=H:\'\'}}}jE<v[y].5k?jE=v[y].5k:\'\'}}}if(uL){cK.KZ(E(a,b){I a[1]-b[1]});U(B i=0;i<cK.S;i++){5k[v[cK[i][0]].5k]=28;v[cK[i][0]].5k=jE+1;jE++;5k[v[cK[i][0]].5k]=cK[i][0]}}o.dn=v.1p.1j==1&&v.1p.Jg==1;if(o.dn){o.1p=1U("29");o.1S.1Q(o.1p);O(o.1p,{\'1q\':\'2B\',\'19\':0,\'1c\':0,\'X\':\'100%\',\'1b\':\'100%\',\'4S\':\'1c 0.3s 5f-4A\',\'4C-3o\':\'1O\'})}B 7x=1U("29");if(o.dn){o.1p.1Q(7x)}F{o.1S.1Q(7x)}B bt;if(v.1p.WJ==1){bt=1u yJ(H)}O(7x,{\'1q\':\'2B\',\'19\':0,\'2N\':0,\'X\':\'100%\',\'1b\':v.1p.h});7x.fC=E(){!o.1g.2e?o.V.Hw():\'\'};if(v.wf==1){3a(bg.c());3a(7x)}U(B i=1;i<5k.S;i++){if(5k[i]){B y=5k[i];if(y){B 1e=v[y].1e;B WV=v[y].1j;if(o.1g.2e){if(1e=="1J"&&v[y].8j=="5m"){}F{if(1e=="1J"&&v.X2==1&&o.1g.2e){v[y].iO=0}F{if(1e=="1J"||(1e=="1Z"&&v.X1)){v[y].on=0}}}if(1e=="ba"){v[y].X0==1?v[y].on=0:\'\'}}F{if(1e=="ba"){v[y].WZ==1?v[y].on=0:\'\'}}if(v[y].1j==1){if(v[y].Gf==1&&L(v[y].nG)){2G[v[y].nG]?v[y].on=0:\'\'}if(v[y].Gj==1&&L(v[y].ns)){!2G[v[y].ns]?v[y].on=0:\'\'}}if(v.wf==1){v[y].on=0}if(v[y].on==1){if(1e=="2F"||1e=="1J"){b[y]=1u J6(y,1e);b[y].2n(b[y].s("w"))}F{b[y]=1u K6(y)}hG.2Y(y);if(b[y].g("1e")=="1G"){if(b[y].s("1D")==\'\'){if(b[y].s("B")!=\'\'){if(!L(v[b[y].s("B")])){b[y].1T("2g",J)}}F{b[y].1T("2g",J)}}}if(b[y].g("1e")=="3U"){B lu=b[y].s("3f");if(lu){if(lu.K("2U:")==0&&lu.K(",0/1")>0){B z=lu.2u(",");3l(z[0].1i(4))==0?b[y].d3(0):\'\'}if(7r([lu],"3d")){o.hm=H}}}b[y].1T("1K",b[y].s("1K"))}}}}if(L(v.1f)){if(1H(9K)==\'E\'){1f=1u 9K("1f");v.1f.7c==1?1f.1n():1f.1j()}F{o.WY=H}}if(L(v.W)){if(1H(9K)==\'E\'){W=1u 9K("W");if(L(o.W)){W.zU(o.W);if(v.W.na==0||!L(v.W.na)){v.W.7c==0?W.1j():\'\'}F{W.1n()}if(v.W.HB==1){W.1n()}}F{W.1j(1)}jR()}}oS();s5();2n(H);4J();An();A6=J;E HJ(R){B x=0;B WX=J;if(R){if(R.g("1e")==\'2F\'){x=5C.19+R.s("4j")+R.g("X")/2;if(5C.gC!=28){}F{5C.gC=[]}}F{if(5C.gC!=28){B ce=R.g("X")+R.s("4u")+R.s("4j");if(hD(R)){ce=0}if(R.s("3b")==1&&!R.g("1n")){ce=0}if(R.s("aT")>0){ce=0}x=bg.g("w")-v.1p.jf*1-ce+R.g("X")/2+R.s("4j");B i=0;5C.2q-=ce;U(i=0;i<5C.gC.S;i++){B c4=b[5C.gC[i]];if(c4.s("aT")>0){O(c4.c(),{"19":(c4.g("x0")-ce)})}F{O(c4.c(),{"19":(c4.g("x")-ce)})}c4.1T("x0",c4.g("x"))}5C.gC.2Y(R.g("1a"));R.1T(\'fV\',1)}F{if(R.s("3b")==1&&!R.g("1n")&&!R.g("fT")){if(R.g("1e")=="1J"){if(R.s("1j")==1&&R.s("iO")==1&&hn){9t+=R.g("X")+R.s("4j")+R.s("4u");hn=J}}}F{if(R.s("aT")>0){x=5C.19+R.s("4j")+R.s("4u")}F{B 2J=J;if(R.g("1e")=="1J"){if(R.s("1j")==1&&R.s("iO")==1&&!R.g("fT")){if(!o.ec&&!o.9F){2J=H;hn=J}F{if(!hn){9t-=R.g("X")+R.s("4j")+R.s("4u");hn=H}}}}if(hD(R)){2J=H}if(!2J){5C.19+=R.g("X")/2+R.s("4j");x=5C.19;5C.19+=R.g("X")/2+R.s("4u")}F{x=5C.19}}}}}}I x};G.Hu=E(){oS();if(W&&v.W.7c&&!o.1z){W.1n()}};G.HC=E(x){if(W){W.2H(x)}};G.GT=E(){oS()};E oS(){if(o.hm){1H HF==\'E\'?o.3d=1u HF():\'\'}}E A8(R){B X=o.1Z&&v.1p.lT==0?o.bb:o.2T;B 1b=o.4m;B bF=0;if(R!=bg){bF=X/2+R.s("4j")-R.s("4u")}B dL=1b/2;B rs=R.g("X");B oE=R.g("1b");B p=R.s("1q");if(p.K("8v")>-1){bF=o.2T/2+R.s("4j")-R.s("4u")}if(p.K("1c")==0){dL=oE/2+(R.s("HI")*o.4m/100)}if(p.K("2N")==0){dL=o.4m-(R==bg?oE:oE/2)-(R.s("HG")*o.4m/100)}if(p.K("2q")>-1){bF=o.2T-rs/2+R.s("4j")-R.s("4u")-(R.s("HE")*o.2T/100)}if(p.K("19")>-1){bF=rs/2+R.s("4j")-(R.s("1I")=="1D"?0:R.s("4u"))+(R.s("iQ")*o.2T/100)}if(p.K("9u")>-1){dL=-o.pH/2-(R.s("HG")*o.pH/100)+(R.s("HI")*o.pH/100);bF=(p=="9u"?-1:1)*o.zx/2+(R.s("iQ")*o.zx/100)+R.s("4j")-R.s("4u")}if(p.K("Q")>-1){B cx=HJ(R);bF=(bg?(bg.c()?5v(bg.c().j5):0):0)+cx;if(p=="Q-2q"){bF+=9t}if(v.1p.1q=="1c"){dL=v.1p.h/2-(v.dW<0?v.dW:0)}F{dL=1b-v.1p.h/2}}I{x:bF,y:dL+R.s("8x")-R.s("e4")}}E I7(){o.6H?o.6H.2n():\'\'}E 2n(az){B w=o.1Z&&v.1p.lT==0?o.bb:o.2T;B h=o.4m;if(v.1p.WU==1){v.1p.HL=1Y(v.1p.HK)&&o.96?v.1p.HK:v.1p.rG;v.1p.jf=o.2T*v.1p.HL/100}F{v.1p.jf=v.1p.rG}O(bg.c(),{\'1c\':(v.1p.1q=="1c"?0:o.4m-v.1p.h)-v.dW});bg.1T("y0",(o.4m-v.1p.h-v.dW));if(v.1p.lT==0&&bg){O(bg.c(),{\'X\':w,\'19\':0,\'2M-19\':0});bg.1T("w",w);if(o.1Z){O(bg.c(),{\'19\':\'50%\',\'2M-19\':-w/2})}}5C={"19":v.1p.jf*1,"2q":(bg.g("w")-v.1p.jf*1)};B rD=J;if(!bg.g("1n")){bg.1T("2g",H);rD=H}B 1a;U(B i=0;i<hG.S;i++){1a=hG[i];if(b[1a]){B cc=A8(b[1a]);if(cc){if(b[1a].s("6m")=="1q"){if(L(o.7P[1a])){if(b[1a].g("x0")==cc.x&&b[1a].g("y0")==cc.y){3v}F{o.7P[1a].XY(b[1a].g("x0"),cc.x,b[1a].g("y0"),cc.y)}}}b[1a].1T("x0",cc.x);b[1a].1T("y0",cc.y);if(b[1a].s("3b")==1&&!b[1a].g("1n")&&!az){zq(b[1a])}F{O(b[1a].c(),{"1q":"2B","19":b[1a].g("x0"),"1c":b[1a].g("y0")})}}}}if(rD){bg.1T("2g",J)}9t=0;U(1a in b){if(b.2v(1a)){if(b[1a].s("1q")=="Q-2q"&&b[1a].g("1e")!="2F"&&9t>-1){9t=5C.2q-5C.19}if(b[1a].g("1e")=="2F"&&bg){B dw;B ml=b[1a].s("4j")+b[1a].s("iQ")*o.2T/100;B mr=b[1a].s("4u")+b[1a].s("HE")*o.2T/100;if(b[1a].s("WL")==1){if(b[1a].s("WS")==1){dw=(o.2T*b[1a].s("w")/100)-ml-mr}F{dw=b[1a].s("w")}}F{if(b[1a].s("1q").K("Q")>-1){dw=5C.2q-5C.19-ml-mr;O(b[1a].c(),{"19":(5v(bg.c().j5)+5C.19+ml+dw/2)});9t=-1}F{dw=bg.g("w")-ml-mr;if(bg.c()){O(b[1a].c(),{"19":(5v(bg.c().j5)+ml+dw/2)})}}}b[1a].1T("x0",b[1a].g("x"));b[1a].2n(dw)}}}if(1f){jy(1f)}if(W){jy(W)}if(nM||o.1Z||nR!=9t){4J()}}E zq(b){B 19=0;B 1c=0;if(b.s("1q").K("2q")>-1&&b.s("1q").K("Q")==-1){19=o.2T+b.g("X")+10}if(b.s("1q").K("19")>-1){19=-b.g("X")-10}if(b.s("1q").K("1c")>-1){1c=-b.g("1b")*2}if(b.s("1q").K("2N")>-1||b.s("1q").K("Q")>-1){1c=o.4m+b.g("1b")+b.g("X")+10}if(19>0){O(b.c(),{"19":19})}if(1c>0){O(b.c(),{"1c":1c})}}E jy(x){B 1c=-4p;x.jz();B y=o.4m-v.1p.h*(x.s("1q").K("1c")>-1?1:2);if(x==W&&v.tD==1){y=o.4m}B nC=(o.1g.2e&&o.4m<WR&&L(x.s("Hr"))?x.s("Hr"):x.s("rr"))*1;B jb=y-(o.1Z&&!o.1g.2e?100+nC:nC)-(x==W&&nC==0?x.s("8x"):0);jb<100?jb=100:\'\';O(x.c(),{\'5t-1b\':jb});x.co()?O(x.co(),{\'5t-1b\':jb}):\'\';if(x.g("1n")){1c=o.4m/2-x.g("1b")/2+x.s("8x")-x.s("e4");if(x.s("1q").K("1c")>-1){1c=x.s("8x")-x.s("e4")}if(x.s("1q").K("2N")>-1){1c=o.4m-(v.1p.1q!=\'1c\'?v.1p.h:0)-x.g("1b")+x.s("8x")-x.s("e4")}1c<0?1c=0:\'\'}if(x.g("1a")=="1f"&&o.cA){B Hc=o.2T-x.g("X")-x.s("4u");if(o.cA>Hc){O(x.c(),{"1q":"2B","2q":x.s("4u"),"19":"2A","1c":1c})}F{O(x.c(),{"1q":"2B","19":o.cA,"2q":"2A","1c":(o.jv<1c?o.jv:1c)})}}F{if(x.s("1q").K("2q")>-1){O(x.c(),{"1q":"2B","2q":x.s("4u")-x.s("nA"),"19":"2A","1c":1c})}F if(x.s("1q").K("19")>-1){O(x.c(),{"1q":"2B","19":x.s("4j"),"2q":"2A","1c":1c})}F{if(x.g("1a")=="W"&&x.s("3F")==1){O(x.c(),{"1q":"2B","19":o.2T/2-x.g("X")/2+x.s("4j")/2-x.s("4u")/2,"1c":1c})}F{B l=o.2T/2-x.g("X")/2+x.s("4j")-x.s("4u");O(x.c(),{"1q":"2B","19":(l>0?l:0),"1c":1c})}}}x.aN()};G.fL=E(1a){B R=b[1a];B a=R.g("1e");if(a){B d=1u 6N();o.an=d.9C();if(a&&a!=""){5g(R);a=="3R"?o.Hd=1:\'\';a=="1t"?o.Hd=0:\'\'}}lL()};G.sD=E(z,x,y){U(B 1a in b){if(b.2v(1a)){if(b[1a].s(z)==x){b[1a].1T(y?"5i":"3a")}}}};G.sq=E(x,s){B y=7g(s,x);I y};G.Hj=E(){nh()};E nh(){if(o.3t&&v.He==1){o.V.6B();v.He=0}if(v.1N.on==1&&v.1N.2P==1&&v.1N.sG==1){7z(\'1t\',1)}js("Hf")}E t0(){if(v.1N.on==1&&v.1N.2P==1&&v.1N.sG==1){7z(\'1t\',0)}js("Hg")}E 5g(R,1I){o.ds=H;nE=R;B a=R.g("1e");if(a=="1t"){o.V.2z();nh()}F{if(a=="3R"){o.nw=0;o.V.3e();t0()}if(a=="2J"){o.V.nt()}}if(a=="Hh"){o.V.3X(0,J)}if(a=="1Z"){!o.5l?o.V.aE():\'\'}F{if(a=="Hb"){o.V.8z()}}if(a=="2F"){B ld=o.P.1l();B lt=R.g("2o")*ld;if(v.4M>0){ld-=v.4M*1;lt=R.g("2o")*ld+v.4M*1}if(v.j8>0){if(v.j8/ld<=1-R.g("2o")){I}}js(a,lt);o.V.3X(lt,H);if(o.3v){o.3v.sL(lt,ld);o.2c>0?o.2c=1F:\'\'}js("ma",lt)}if(a=="1J"){B x=R.g("2o");x<0.VY?x=0:\'\';x>1?x=1:\'\';if(R.s("8j")=="5m"){x=4d(x*o.6f.59(-1)[0]).yt(1);o.V.9R(x,1)}F if(R.s("8j")=="yC"){o.P.Hi(x)}F{if(o.5h&&v.tF==1){3A.8d("tP",x);if(R.g("2o")>0||o.1g.7M||v.mM==0){3A.sP("kx")}F{3A.8d("kx",1)}}o.V.4i(x)}}if(a=="5z"){if(o.5h&&!o.1g.7M&&v.mM==1){3A.8d("kx",1)}o.V.5j();if(v.1N.2P==1&&v.1N.Hk==1){7z(\'5z\',0)}}F{if(a=="ae"){if(o.5h){3A.sP("kx")}o.V.6B();if(v.1N.2P==1&&v.1N.Hk==1){7z(\'5z\',1)}}}if(a.K("18")==0){R.VU()?R.jm():R.On()}if(a=="ro"){o.P.xJ()}if(a=="1K+"){o.P.dz(0.1)}if(a=="1K-"){o.P.dz(-0.1)}if(a=="1K"){o.P.dz(0)}if(a=="5L"){3l("y7");R.1T("pa",1);R.1T("fU",1)}if(a=="3d"){js("3d");rW()}if(a=="1f"){o.cA=1F;if(1f){if(!1f.g("1n")){1f.1n()}F{1f.1j()}}}if(a=="W"){if(o.hC==a){I}o.Q.jV()}if(a=="5O"){o.Q.aW()}if(a=="eQ"){o.Q.dC()}if(a=="3U"){if(R.s("ew")==1&&R.s("3f")!=""){B x=4U(R.s("3f"));if(o.hC==a+x){I}if(x.K(\'{18}\')>-1){x=x.1R(\'{18}\',(L(o.3v)?o.3v.bB().t:o.P.18()))}if(x.K(\'{3j}\')>-1){x=x.1R(\'{3j}\',o.P.de())}if(x.K(\'{1G}\')>-1){x=x.1R(\'{1G}\',v.1G.1R(/,/ig," "))}if(x=="5A"){o.P.hR()}if(x=="e3"){o.aG?o.aG.2H():\'\'}if(x.K(\'7N\')==0){if(R.s("7N")>0){o.V.3X(o.d9?o.d9.VT():R.s("7N"))}}if(x.K(\'VQ\')==0){if(o.d9){o.d9.VO()}}if(x=="VN"){o.V.3X(R.s("iQ")*o.P.1l()/100);!o.1t?o.V.2z():\'\'}R.s("Hp")==1?o.V.3e():\'\';B y=x.2u(",");if(x.K("2U:")==0){B z=x.1i(4).2u(";");U(B i=0;i<z.S;i++){y=z[i].2u(",");if(y.S>1){if(y[0]==\'3K\'){if(v.1N.2P==1&&v.1N.VJ==1){7z(\'3K\',y[1]>0?1:0)}}3l(y[0],y[1],R);js("ma",y[1]);y[1]==\'0/1\'||y[1]==\'1/0\'?sl():\'\'}F{if(y[0]=="HM"){B ss=3l(y[0]);if(ss){if(ss.K("26")>-1){if(v.W0==1){B 3O=22.1U(\'3O\');3O.7d(\'3B\',ss);O(3O,{1q:"sW",2q:(L(v.nk)?v.nk:20),2N:(L(v.nk)?v.nk:20),X:0,4S:"X 0.5s dh-Wj(.75,-0.5,0,1.75)"});3O.C.4T=If;22.3z.1Q(3O);1w(E(){O(3O,{X:(L(v.Ig)?v.Ig:4r)})},1);3O.fC=E(){G.3M.3n(G)}}if(v.Wf==1){B a=1U("a");a.9H=ss;a.7a=y[0]+".iP";a.2o()}}}F{1m(y[0]+" 2x")}}F{3l(y[0],1F,R);if(y[0]=="1t"){nh()}if(y[0]=="3R"){t0()}}}}}F{if(x.K("js:")==0){if(x.K("(")>0&&x.K(")")>0){2j(x.1i(3))}F{2j(y[0].1i(3)+\'(\'+(L(y[1])?\'"\'+y[1]+\'"\':\'\')+(L(y[2])?\',"\'+y[2]+\'"\':\'\')+\')\')}}if(x.K("1d:")==0){t6(x.1i(6),o.P.18())}if(x.K("3d:")==0&&o.3d){o.3d.2U(x.1i(6))}if(x.K("t7:")==0&&o.5o){3l("t7",x.1i(7))}if(x.K("3T")==0||x.K("/")==0||x.K("?")==0||x.K("17:")==0){x.K("17:")==0?x=x.1i(4):\'\';1A.2H(x,R.s("Ih"))}if(x.K("7a")==0){o.V.jl()}if(x=="2U:9s"){o.P.dM()}}if(x.K("1f#")>-1){if(1f){B si=x.1i(9).2u(",");if(1f.g("1n")&&1f.g("2H")==si[0]){o.cA=1F;o.jv=1F;1f.1j()}F{o.cA=R.g("x")-R.g("X")/2;o.jv=R.g("y")+R.g("h");U(B i=0;i<si.S;i++){i==0?1f.1n():\'\';1f.2H(si[i])}W?W.Il():\'\'}}}if(x.K("1f:")>-1&&v.1f.W3==1){if(!o.4R){o.4R=1u Wb()}if(v.1f.hv==1){if(1I=="6K"){o.4R.1n(x)}F{o.4R.k8(x)}}F{if(!1I){o.4R.k8(x)}}}if(x=="Km"){o.V.gv();o.ym=0;R.1T("3a");B bl=7g("3f","4q");if(bl){bl.1T("3a")}}if(x=="4q"){R.6w("OK");R.s("jO")?1A.8W.9H=4U(R.s("jO")):\'\'}}}};G.1G=E(t){B y=J;U(B x in b){if(b.2v(x)){if(b[x].g("1e")=="1G"){if(b[x].s("B")==t||t=="1G"){if(b[x].s("1j")==1&&b[x].s("xs")==1&&o.1t){y=H}if(v[t]==\'\'||y){b[x].1T("2g",J)}F{b[x].1T("2g",H)}b[x].6w(v[t])}}}}rU()};G.Im=E(){rU()};G.sB=E(){U(B x in b){if(b.2v(x)){if(b[x].g("1e")=="3U"){if(b[x].s("1I")=="1D"){b[x].9d()}}}}};E rU(){U(B x in b){if(b.2v(x)){if(b[x].g("1e")=="3U"){if(b[x].s("1I")=="1D"){b[x].Ju(H)}}}}}E rW(){if(L(o.3d)){o.3d.gu()}}G.Io=E(){rW()};G.Mm=E(){if(v.1G!=\'\'){U(B x in b){if(b.2v(x)){if(b[x].g("1e")=="1G"){B y=J;if(!b[x].g("1n")){y=H;b[x].1T("2g",H)}b[x].6w(v.1G);if(y){b[x].1T("2g",J)}}}}}};G.rX=E(){s5()};E s5(){if(v.9f){if(1H(v.9f)=="3L"){U(B x in v.9f){if(v.9f.2v(x)){jC(x,v.9f[x])}}}}};G.Ip=E(y,z){jC(y,z)};G.s7=E(x){if(b[x]){b[x].x8()}};G.Ii=E(){U(B x in b){if(b.2v(x)){if(b[x].g("xQ")){b[x].x8()}}}};E jC(y,z){if(y){U(B x in b){if(b.2v(x)){if(b[x].g("xQ")){if(b[x].s("51")==y){if((!b[x].g("1n")||b[x].s("3b")==1)&&!hD(b[x])){b[x].1T("J3");b[x].1T("2g",H)}b[x].jC(z)}}}}}};G.5q=E(){2n()};G.tr=E(){2n();I7()};G.s9=E(){2n(H)};G.nY=E(){jy(1f)};G.jz=E(){jy(W)};G.2z=E(){U(B x in b){if(b.2v(x)){if(b[x].g("1e")=="1t"){b[x].On()}if(b[x].s("pp")==1){b[x].yu(1)}}}o.cj?o.cj.1j():\'\';sj();if(o.6H){o.6H.2z()}o.1t=H;4J(3)};G.3e=E(){U(B x in b){if(b.2v(x)){if(b[x].g("1e")=="3R"||b[x].g("1e")=="2J"){b[x].jm()}if(b[x].s("pp")==1){b[x].yu(0)}}}if(W){if(!o.es&&v.W.KY==1&&!W.4P()){W.1n()}}o.1t=J;G.8M();4J();if(v.1p.1j==1&&v.1p.hI==1){cd(H)}if(o.P.18()>0){B y=7g("1e","5L");if(y){y.1T("pa",0.5);y.1T("fU",0)}}if(o.6H){o.6H.3e()}};G.5j=E(){U(B x in b){if(b.2v(x)){if(b[x].g("1e")=="5z"){b[x].On()}G.4i(0)}}4J(3)};G.6B=E(){U(B x in b){if(b.2v(x)){if(b[x].g("1e")=="ae"){b[x].jm()}}}if(v.1J<0.1){v.1J=0.5;o.V.4i(v.1J)}F{G.4i(v.1J)}4J(3)};G.4i=E(1J,y){U(B x in b){if(b.2v(x)){if(b[x].g("1e")=="1J"){if(!b[x].s("8j")||b[x].s("8j")=="1J"){b[x].6X(1J,1,(y=="no"?y:H))}}if(b[x].g("1e")=="5z"){b[x].yj(1J)}}}4J(3)};G.aE=E(){B bl=7g("1e","1Z");if(bl){bl.On();bl.1T("1K",bl.s("1K"))}4J();nM?1w(4J,4l):\'\';if(o.1Z&&o.JK){if(o.1g.jx||o.1g.tv){1w(2n,10)}}hE();sc()};G.8z=E(){B bl=7g("1e","1Z");if(bl){bl.jm()}2n();43(o.iW);4J();sc()};E sc(){if(o.cA){o.cA=1F;o.jv=1F;1f.1j()}}G.8y=E(){U(B x in b){if(b.2v(x)){if(b[x].g("1e")=="1t"){b[x].wz()}}}};G.uV=E(){4J()};G.HU=E(){sj()};E sj(){if(W){if(W.g("1n")&&v.W.f7==1){o.Q.hq()}}}E z8(){if(o.1g.2e){o.4s=H;2C(o.HY);o.HY=1w(E(){o.4s=J},4l)}}E 4J(hr){if(hr==3){z8()}U(B x in b){if(b.2v(x)){if(b[x].g("1e")!="ba"){cC(b[x])}}}cC(bg);if(nR!=9t){nR=9t;2n()}if(o.dn){hH(!o.gq&&!o.4s&&!o.1Z&&o.1t&&v.1p.e8!=1&&!o.5l)}};E iV(){B 1n=8c&&v.1p.je==1;if(v.1p.1j==1){if(!o.1t&&v.1p.hI==1){1n=J}}if(1n){U(B x in b){if(b.2v(x)){if(b[x].g("1e")!="ba"){cC(b[x],J)}}}O(o.1S,{"6R":"7f"});o.jr=H;cC(bg,J);if(bg.g("1n")){k9()}hH(J)}if(o.uJ){2n(H);o.uJ=J}}E cd(){if(o.1g.2e&&o.4s){I}B 1j=o.1t&&v.1p.je==1&&!o.3G;if(o.f5&&v.1p.W9==1){1j=J}if(!o.1t&&v.1p.1j==1&&v.1p.hI==1){if(o.4s&&v.1p.HS==1&&!o.1g.2e){}F{1j=H}}B nL;if(W){if(W.g("2H?")){nL=H}}if(1f){if(1f.g("1n")){nL=H}if(1f.g("1n")&&o.nN){1j=J}}if(nL&&v.1p.W8==1){B m=v.1p.W6;if(m==1&&o.1g.2e){I}F{if(m==0||!L(m)){I}}}if(o.5l){1j=J}if(1j){U(B x in b){if(b.2v(x)){if(b[x].g("1e")!="ba"){cC(b[x],H)}}}cC(bg,H);if(!bg.g("1n")){8c=H;o.P.A9();if(o.1t){O(o.1S,{"6R":"1O"});o.jr=J}}hH(H)}}E hE(){if(v.1p.je==1){if(v.1p.e8==1&&!o.1Z&&!o.bs){}F{43(o.iW);o.iW=7W(cd,((v.1p.8i>0?v.1p.8i:v.1p.iJ)*2i))}}}E cC(R,dl){B 1j=J;B 1n=J;B bP=J;if(v.1p.1j==1){if((!o.gq&&!o.4s&&!o.1Z&&o.1t&&v.1p.e8!=1&&!o.5l)||(o.1Z&&8c&&!o.jr&&v.1p.W5!=1)||(o.V.gp()&&o.7K&&!o.4s)){1j=H;1n=J;bP=H}F{1j=J;1n=H}if(L(dl)&&!o.5l){1j=dl;1n=!1j}if(o.dn&&(R.s("1q").K("Q")==0||R.s("1e")=="2F")){1j=J;1n=H}if(v.1p.hI==1&&!o.1t){if(o.4s&&v.1p.HS==1&&!o.1g.2e){}F{1j=H;1n=J;bP=J}}if(v.1p.W4==1&&!o.ds){1j=H;1n=J;bP=H}if(v.1p.X4==1&&!o.8p&&o.1t){1j=J;1n=H}}F{if(R.s("1j")!=1){1n=H}}if(1n&&!o.jr){O(o.1S,{"6R":"7f"});o.jr=H}B a=R.g("1e");if(a=="3U"&&R.s("1q").K("Q")==-1||R.s("HT")==1){1j=J;1n=H}if(o.5l){if(a=="2F"){if(o.P.1l()==-1){1j=H;1n=J}}}B Ac=J;B hp=hD(R);if(R.s("1j")==1){if(R.s("KS")==1){if(bP||dl||(o.1t&&!o.4s)){!bP&&!dl?\'\':hp=H}}if(R.s("HT")==1){if(!bP&&!dl){hp=H}}if(R.s("Wo")==1){if(o.1t&&!o.4s){hp=H}}if(R.s("I4")==1||R.s("I2")==1||R.s("Gr")==1){nM=H}}if(hp){1j=H;1n=J}F{!1j?1n=H:\'\'}if(R.s("1e")=="1J"){if(R.s("1j")==1&&R.s("iO")==1&&!R.g("fT")){1j=H;1n=J;if(!bP&&(o.9F||o.ec)&&!dl&&R.s("eO")!=1){1j=J;1n=H}F{Ac=H}}}if(o.9q||(!o.1z&&v.1p.1j==1&&v.1p.o5==1)||(!o.8p&&v.1p.1j==1&&v.1p.Gt==1)||(!o.1Z&&v.1p.1j==1&&v.1p.X5==1)){if((o.9q&&R.g("1a")=="rh"&&R.s("G7")!=1)||dO(R.s("1q"),["2N","Q"])){1j=H;1n=J}if(v.1p.e8==1&&!o.1Z){1j=J;1n=H}}if(1f){if(1f.g("1n")&&v.1f.7c!=1){bP=J;dl=J}}if(W&&o.2I){if(v.W.XO==1){if(o.2I.nQ()){I}}}if(a=="3d"){if(L(o.3d)){if(o.3d.4P()){1j=H;1n=J;R.1T("6m","1O")}}}if(a=="W"||a=="5O"||a=="eQ"||R.s("HX")==1){if(W){if(W.4P()&&R.s("HX")!=0){1j=H;1n=J;R.1T("6m","1O")}}F{1j=H;1n=J}}if(o.Y5==1){1j=H;1n=J}if(Ac){B cc=A8(R);if(cc){cc.y>0?R.1T("y0",cc.y):\'\';O(R.c(),{"1q":"2B","1c":R.g("y0")})}}if(1j){8I(R,(A6?H:J))}if(1n){G8(R)}if(R==bg){if(!1j&&1n){k9();5i(7x);bt?bt.1T("1B",bt.s("a")):\'\';8c=J;jq==0?js("ui",1):\'\';jq=1;o.6r&&o.ao?o.6r.1n():\'\'}if(1j&&!1n&&!o.5l){o.P.A9();3a(7x);bt?bt.1T("1B",0):\'\';8c=H;jq==1?js("ui",0):\'\';jq=0;o.6r&&o.ao?o.6r.1j():\'\'}if(1f){if(1f.tb()){if(!1f.g("1n")){1n&&!1j?1f.1n():\'\'}F{!1n&&1j?1f.1j(2):\'\'}}}if(W){if(v.W.7c==1&&!W.4P()){if(1n||o.9q){if(v.W.I0==1&&o.1Z){}F{if(!W.g("1n")){if(v.W.I1==1){!o.1t&&!o.es?W.1n():\'\'}F{W.1n()}}}}F{if(1j&&W.g("1n")){W.1j()}}}}}};E hD(R){B x=J;B a=R.g("1e");if(R.s("1j")==1){if(R.s("xs")==1){o.1t||o.es?x=H:\'\'}if(R.s("hI")==1){!o.1t&&!o.es?x=H:\'\'}if(R.s("Y4")==1){o.7K?x=H:\'\'}if(R.s("fX")==1){x=H}F{if(R.s("Y3")==1){if(o.1g.gx){R.1T("fX",1);x=H}}if(R.s("Y2")==1){if(o.1g.2e){R.1T("fX",1);x=H}}}if(R.s("I2")==1){if(o.2T>R.s("I3")){R.1T("eO",1);x=H}F{R.1T("eO",0)}}if(R.s("Y1")==1&&!8s){x=H;o.oX=1}if(R.s("XZ")==1&&!o.9c){x=H}if(R.s("XX")==1&&o.9c){x=H}if(R.s("XW")==1&&8s){x=H;o.oX=1}if(R.s("I4")==1){if(o.2T<=R.s("I5")){R.1T("eO",1);x=H}F{R.1T("eO",0)}}if(R.s("XU")==1){o.1z?x=H:\'\'}B t=o.P.18();B d=o.P.1l();if(R.s("KL")==1&&R.s("H9")>0){if(t>=R.s("H9")){x=H}}if(R.s("KM")==1&&R.s("Gw")>0){if(t<R.s("Gw")){x=H}}if(R.s("KN")==1&&R.s("H8")>0){if(t<d-R.s("H8")||d==0){x=H}}if(R.s("XR")==1){if(W){if(!W.bX()){x=H}}}if(R.s("XQ")==1){if(o.1z||!o.3v||o.P.6o()){if(R.s("o5")!=1){x=H}}if(o.3v){if(o.3v.bB().t==0){x=H}}}if(R.s("o5")==1){!o.1z?x=H:\'\'}if(R.s("mZ")>0){x=H}if(R.s("Gf")==1){if(L(R.s("nG"))){2G[R.s("nG")]?x=H:\'\'}}if(R.s("Y0")==1){if(!L(R.s("9f"))){x=H}}if(R.s("Gj")==1){if(L(R.s("ns"))){!2G[R.s("ns")]?x=H:\'\'}}if(R.s("Ym")==1&&o.1g.4E){!o.1z||o.ne?x=H:\'\'}if(R.s("Yu")==1){!o.P.7K()?x=H:\'\'}if(R.s("Yr")==1){!o.P.6o()?x=H:\'\'}if(R.s("Yo")==1){!o.4s?x=H:\'\'}if(R.s("Yn")==1){!o.1Z?x=H:\'\'}if(R.s("Gr")==1){o.1Z?x=H:\'\'}if(R.s("Yc")==1){!o.3t?x=H:\'\'}if(R.s("Yk")==1){o.P.6o()&&o.P.de().K("?wb")==-1?x=H:\'\'}if(R.s("Jz")==1){5F(o.2b)?x=H:\'\'}if(R.s("Gt")==1){!o.8p?x=H:\'\'}if(R.s("Yj")==1){o.8p?x=H:\'\'}if(R.s("Yi")==1){o.nr?x=H:\'\'}if(R.s("Yg")==1){!o.nr?x=H:\'\'}if(R.s("It")==1){if(R.g("k6")){x=H}}if(R.s("Ye")==1){!o.ab?x=H:\'\'}if(R.s("Xs")==1){o.ab?x=H:\'\'}if(R.s("XM")==1){if(v.4Q==1&&v.eu==1){if(o.2w=="5c"&&!L(v.2b)&&v.A7==0){if(!o.1z||o.P.7O()=="7K"){if(v.2b==\'\'){}F{x=H}}}}}}if(a=="3U"){B lu=R.s("3f");if(lu){if(lu=="2U:5A"||lu=="5A"){if(!o.5A&&!o.jt&&!o.Xp){x=H}}if(lu=="2U:9s"){if(!o.9s||(!o.1z&&v.4Q==0)){x=H}}if(lu=="2U:FZ"){x=H;if(L(o.3p)){if(o.3p.FT()&&o.1W&&o.4X){x=J}}}if(lu=="2U:G0"){if(!o.nr){x=H}}if(lu.K("6h")>-1){if(!o.6h){x=H}}if(7r([lu],"7N")&&!7r([lu],"js:")&&R.s("fX")!=1){B sk=J;if(L(v.7N)){if(!o.d9){1H G3==\'E\'?o.d9=1u G3():\'\'}if(o.d9){sk=o.d9.zg(R)}}!sk?x=H:\'\'}}}if(a=="W"||a=="5O"||a=="eQ"){if(W){if(W.4P()){x=H}}F{x=H}}if(a=="1f"){if(1f){if(1f.4P()){x=H;o.2w!=\'1E\'?R.1T("6m","1O"):\'\'}}F{x=H}}if(R.g("1I")=="1D"){if(R.g("S")==0){x=H}}if(R.g("1f#")){if(!R.g("1T#4G")){x=H}}if(R.s("3Z")==1){B cb=bL("Xo"+v.id);if((o.P.1l()==0&&o.P.18()==0)||!o.4L||!5F(cb)||!o.Xn){x=H}}if(R.s("xS")==1){!x?R.1T("xS",1):\'\'}if(a=="1l"){if(o.P.6o()&&R.s("Xl")!=1){x=H}}if(R.g("1a")=="rh"){if(o.9q&&o.1g.bm&&R.s("G7")!=1){x=H}}I x}E 8I(R,yZ){if(R.g("1n")){if(o.bs||R.s("6m")=="1O"||yZ){R.1T("2g",J)}F{Gu(R)}R.1T("1n",J)}};E G8(R){if(!R.g("1n")){if(R.s("6m")=="1O"||o.bs){R.1T("2g",H);if(o.bs){R.1T("1B",1)}if(R.g("1e")=="1J"){if(o.iM){zq(R)}}}F{Gb(R)}if(R.s("1e")=="1J"){o.Q.4i(o.3t?0:v.1J)}if(R.s("1e")=="2F"){o.V.zs()}R.1T("1n",H)}};E Gu(R){zy(R.g("1a"));B 5U="hX|";B 5x="0|";B 1j=1;B a=R.s("6m");if(R.s("Gv")==1){5U=\'\';5x=\'\'}B p=R.s("1q");B eD=R.g("3x");1Y(R.s("nB"))?p=R.s("nB"):\'\';dO(p,[\'2N\'])&&o.dn?p="":\'\';if(a=="1K"){5U+="1K|";5x+="0|"}if(a=="1q"){if(p.K("2q")>-1&&p.K("Q")==-1){5U+="x|";5x+=5v(o.2T+R.g("X")/2*eD)+"|"}if(p.K("19")>-1){5U+="x|";5x+=5v(-R.g("X")/2)*eD+"|"}if(p.K("1c")>-1){5U+="y|";5x+=(-R.g("1b")/2)*eD+"|"}if(dO(p,["2N","Q","9u"])){5U+="y|";if(R.g("1e")=="2F"||R.g("1e")=="1J"){5x+=5v(o.4m+R.s("h")+(R.s("h")<20?20-R.s("h"):0))+"|"}F{5x+=5v(o.4m+R.g("1b")/2)+"|"}}if(p=="8v"){5U+="1K|";5x+="0|"}}B m=1u 5a({"mc":R,"me":R.g("1a"),"1I":5U.1i(0,5U.S-1),"to":5x.1i(0,5x.S-1),"1j":1j})};E Gb(R){zy(R.g("1a"));B 5U="";B 5x="";B a=R.s("6m");B p=R.s("1q");1Y(R.s("nB"))?p=R.s("nB"):\'\';if(R.g("1B")!=1&&R.s("Gv")!=1){5U="hX|";5x=(R.g("1a")==\'bg\'?v.1p.a:"1")+"|"}if(a=="1K"){if(R.g("3x")!=R.s("1K")){5U+="1K|";5x+=R.s("1K")+"|"}}if(a=="1q"){if(p=="8v"){if(R.g("3x")!=R.s("1K")){5U+="1K|";5x+=R.s("1K")+"|"}}F{if(p.K("Q")>-1||p=="2N"){if(R.g("y")!=R.g("y0")){5U+="y|";5x+=R.g("y0")+"|"}}F{5U+="x|y|";5x+=R.g("x0")+"|"+R.g("y0")+"|"}}}if(5U!=""&&5x!=""){B m=1u 5a({mc:R,me:R.g("1a"),1I:5U.1i(0,5U.S-1),to:5x.1i(0,5x.S-1),1n:1})}F{R.1T("2g",H)}};G.kw=E(1a,1I,yZ){B 5q=J;B 2J=J;B R=b[1a];B 1e=R.g("1e");B 3f=R.s("3f");if(1I=="6K"){if(o.iM){if(1e=="1J"||1e=="5z"||1e=="ae"){if(!R.g("fT")){o.9F=H;o.ec=H;5q=H;4J();if(v.hL.GQ==1){B bl=7g("1e","2F");if(bl){3a(bl.c())}}}}}if(1f&&v.1f.hv==1&&((1e=="1f"||3f.K("GS")==0)||3f.K("1f:")==0)){2C(o.hu);if(!1f.g("1n")||nE!=R){5g(R,1I);o.hC=1e+3f;1w(E(){o.hC=28},4l)}}if(W&&v.W.hv==1&&1e=="W"){2C(o.yY);if(!W.g("1n")||nE!=R){5g(R,1I);o.hC=1e;1w(E(){o.hC=28},4l)}}}if(1I=="4A"){if(o.iM){if(1e=="1J"||1e=="5z"||1e=="ae"){o.9F=J;o.ec=H;1w(E(){if(!o.9F){o.ec=J;U(B x in b){if(b.2v(x)){if(!8c){if(b[x].g("1e")=="1J"&&!b[x].g("fT")){8I(b[x]);2n()}}if(b[x].g("1e")=="2F"){if(v.hL.GQ==1){5i(b[x].c())}}}}}},4l)}}if(1e=="2F"){o.V.6X(1)}if(v.1f.hv==1&&((1e=="1f"||3f.K("GS")==0)||3f.K("1f:")==0)){2C(o.hu);o.hu=1w(E(){if(!o.3G){bH(1)}},(v.1f.hy>0?v.1f.hy*2i:2i))}if(W&&v.W.hv==1&&1e=="W"){2C(o.yY);o.yY=1w(E(){if(!o.3G){W.g("1n")?W.1j(1):\'\'}},(v.W.hy>0?v.W.hy*2i:2i))}}if(5q){1w(2n,10)}};G.o8=E(){if(o.5N&&!o.1Z&&!o.bs){o.V.5N(J);o.5N=J}if(o.2b){if(v.oI>-1&&5F(o.2b)){O(o.2b,{1B:v.oG})}}if(o.1t&&v.GX==1&&v.Xi!=0){o.V.3e()}if(v.1p.8i>0){2C(o.GV);o.GV=1w(4J,v.1p.8i*2i)}F{4J()}};G.HZ=E(){if(o.2b){if(v.oI>-1&&5F(o.2b)){O(o.2b,{1B:v.oI})}}if(!o.1t&&v.GX==1){o.V.2z()}2n();4J();hH(J)};G.g8=E(bG,bR){B y;U(B x in b){if(b.2v(x)){y=b[x].g("1e");if(y=="2F"||y=="1J"){b[x].g8(bG,bR)}}}};G.qR=E(){if(v.1p.1j==1){if(v.1p.e8==1&&!o.1Z){I}if((!o.4s||o.1g.2e)&&o.P.7O()=="8w"){o.4s=H;4J(3);z8()}if(v.1p.je==1){iV();hE()}hH(J)}};G.g4=E(bG,bR){U(B x in b){if(b.2v(x)){if(b[x].g("1e")=="2F"||b[x].g("1e")=="1J"){b[x].g4(bG,bR)}}}};G.lW=E(18,1l,GY){U(B x in b){if(b.2v(x)){if(b[x].g("1e")=="2F"){b[x].6X(18,1l,GY)}if(b[x].g("1e")=="18"){oY(b[x],18,1l)}if(b[x].s("JW")==1){b[x].xJ()}if(b[x].s("JU")==1){b[x].JD(18,1l)}if(b[x].s("KP")==1){if(b[x].s("3f")=="KO"||b[x].s("3f")=="aM"){1H GR==\'E\'?GR(b[x]):\'\'}if(b[x].s("KT")==1&&!b[x].g("1n")&&8c){}F{if(b[x].g("1n")==hD(b[x])){4J();2n()}}}}}};E hH(x){if(v.1p.1j==1){x?bH():\'\';if(o.dn){if(!o.1t&&v.1p.hI==1){x=H}if(x&&!o.zd){O(o.1p,{"1c":bg.h()})}if(!x&&o.zd){O(o.1p,{"1c":0})}o.zd=x}}}E k9(){8c=J;o.P.k9();if(o.wM){o.wM=J;2n();1w(2n,ef)}}E oY(x,18,1l){if(v.4M>0){18-=v.4M*1;1l-=v.4M*1}B y=4b(18);if(x.s("Kc")=="1"){y=4b(1l-18)}if(x.s("Xd")=="1"){if(x.s("Xc")=="1"){y=y+(1l>0?\' \'+2L(x.s("Xb"))+\' \'+4b(1l):\'\')}F{18==0?y=4b(1l):\'\'}}x.6w(y)}G.Ae=E(18,1l){B x=7g("1e","2F");if(x){x.KC(18,1l)}};G.kW=E(y){if(o.P.1l()>0){B x=7g("1e","2F");if(x){x.kW(y)}}};G.9m=E(){if(!8s){if(v.gl==1){2C(oU);oU=1w(9m,4l)}F{9m()}}};E 9m(){if(!8s){js("Xa");8s=H;B x=7g("1e","ba");if(x){x.JG();if(v.H5==1&&o.1t){2C(o.H1);o.H1=1w(H3,(v.H2>0?v.H2:1)*2i)}}o.oX?4J():\'\'}}E H3(){if(o.1t&&8s){o.V.7S()}}G.H4=E(y){U(B x in b){if(x==y){b[x].1T("3a")}}};G.8M=E(){2C(oU);if(8s){js("8Q");B x=7g("1e","ba");if(x){x.jY();if(v.H5==1&&o.1t){o.V.hJ()}}8s=J;o.oX?4J():\'\'}};G.ke=E(){B x=7g("3f","1J 6U");if(x){x.1T("5i");x.6w(2L(\'1J\')+\' \'+(o.3t?0:2E.qB(v.1J*100))+\'%\');2C(o.ke);o.ke=1w(H6,2i)}};E H6(){B x=7g("3f","1J 6U");if(x){x.6w(\'\');x.1T("3a");2C(o.ke)}}G.3X=E(18,1l){if(v.4M>0){18-=v.4M*1;1l-=v.4M*1}U(B x in b){if(b.2v(x)){if(b[x].s("on")==1){if(b[x].g("1e")=="2F"){1l>0?b[x].1T("2o",18/1l):\'\';b[x].KD()}if(b[x].g("1e")=="18"){oY(b[x],18,1l)}if(b[x].g("1e")=="5L"){b[x].1T("pa",0.5);b[x].1T("fU",0)}}}}};G.4t=E(18,1l){U(B x in b){if(b.2v(x)){if(b[x].g("1e")=="1l"){if(v.4M>0){1l-=v.4M*1}b[x].6w(4b(1l))}if(b[x].g("1e")=="2F"){b[x].6X(18,1l);b[x].IR(1l)}if(b[x].g("1e")=="18"){oY(b[x],18,1l)}}}};G.9K=E(){if(!o.4R){1f.g("1n")?1f.1j():1f.1n()}};G.cO=E(){if(1f){if(o.4R){I o.4R.5F()||1f.g("1n")}F{I 1f.g("1n")?H:J}}F{I J}};G.oZ=E(x){if(1f){1f.6a(x)}};G.bH=E(){bH()};G.Xq=E(x){if(1f){1f.GO(x)}};G.HN=E(){if(1f){1f.kf()}};G.I8=E(x){if(1f){I 1f.Gy(x)}};E bH(x){if(1f){1f.g("1n")?1f.1j(x):\'\'}o.4R?o.4R.1j():\'\'};G.hq=E(){if(W){if(W.g("1n")){W.1j(1)}F{W.1n()}}};G.jV=E(x){if(W){if(W.g("1n")&&x!=1){x!=2?W.1j():\'\'}F{1w(E(){W.1n()},100)}}};G.jM=E(){if(W){I W.g("1n")?H:J}F{I J}};G.Gz=E(x){if(W){W.g("1n")?W.1j(x):\'\'}};G.cz=E(x){I W?W.g(x):\'\'};G.6y=E(x){if(W){W.zU(x)}};G.GA=E(x){if(W){W.GB(x)}};G.aW=E(){if(W){W.aW()}};G.oa=E(){if(W){W.oa()}};G.jR=E(){jR()};E jR(){U(B x in b){if(b.2v(x)){if(b[x].g("1e")=="5O"){O(b[x].c(),{"1B":(!W.bX()?0.5:1)})}if(b[x].g("1e")=="eQ"){O(b[x].c(),{"1B":(!W.hU()?0.5:1)})}}}}G.bX=E(){if(W){I W.bX()}F{I J}};G.hU=E(){if(W){I W.hU()}F{I J}};G.hF=E(){if(W){I W.hF()}F{I J}};G.od=E(){if(W){W.od()}};G.dC=E(){if(W){W.dC()}};G.zY=E(x){if(x&&W){W.cm(x)}};G.GC=E(x){if(x&&W){W.og(x)}};G.GE=E(x){if(x&&W){O(W.co(),{"Xt":"1O","2O-2q":W.s("7k")});bL(x).1Q(W.co());3a(W.c())}};G.XB=E(){};G.Ai=E(x){if(1f){1f.6j();1f.g("1n")?1w(E(){1f.1j()},4r):\'\'}};G.i3=E(){if(1f){1f.6j()}if(o.4R){o.4R.eH()}};G.ia=E(x){if(1f){1f.hR()}2n();4J()};G.i9=E(x){if(1f){1f.i2(x);1f.g("1n")?1f.1j():\'\'}if(o.4R){o.4R.eH()}if(o.yN&&x=="7b"){W.xn()}x=="5m"?An():\'\'};E An(){if(o.kz){B x=4d(o.io/o.6f.59(-1)[0],1).yt(2);U(B i in b){if(b.2v(i)){if(b[i].s("8j")=="5m"&&o.io){b[i].6X(x,1)}if(b[i].s("3f")=="2U:5m,1.0"){b[i].yj(x)}}}}}G.o9=E(x){if(1f){1f.i2("7b")}if(o.4R){o.4R.eH()}if(o.yN){W.xn()}};G.b3=E(){if(1f){1f.9l();1f.g("1n")?1w(E(){1f.1j()},4r):\'\'}if(o.4R){o.4R.eH()}if(o.5l&&o.4L){o.3Z.a8()}};G.wQ=E(){o.4R?o.4R.1j():\'\';if(1f){1f.wQ()}};G.im=E(ih,2g,7T){U(B x in b){if(b.2v(x)){if(b[x].g("1e")=="1f"){if(b[x].s("fx")==1){b[x].Jo()}}if(b[x].g("II")=="1f#"+ih){b[x].1T("1T#4G",2g);if(b[x].g("1I")=="1D"){if(7T){b[x].6w(wP(7T))}}F{if(v.1f[\'1f\'+ih+\'1e\']=="1X"){if(7T==2L("7e")){b[x].d3(0)}F{b[x].d3(1)}}2n()}cC(b[x])}}}};G.Gx=E(){if(1f){1f.6j();1f.i2("7b");1f.i2("7a")}};G.ko=E(){B x=7g("1e","2F");if(x){x.ko()}};G.5q=E(){2n();if(8c){o.wM=H}};G.yg=E(x){if(!8c||x==1){2n();4J()}F{v.1p.wF=H}};G.wL=E(){B b=7g("1I","O");if(b){b.Jf()}};G.4N=E(){4J();2n();4J();if(o.9q){3a(7x)}F{!8c?5i(7x):\'\'}};G.In=E(1d){if(1A.fc==v.id&&v.1N.on==1){B x=1d.GN;B y=J;if(x==1F){x=1d.Iq}if(L(o.1V)||L(o.8J)||o.ym==1){I J}if(o.1t&&v.1N.i1==1){y=H}if(((v.1N.9r==1&&x==32)||(v.1N.XA==1&&x==13)||(v.1N.k==1&&x==75))&&(o.6i||o.4s||y)){if(v.1N.2P==1){7z(\'1t\',o.1t?0:1)}o.V.8A();1d.9a();I J}!v.1N.mz?v.1N.mz=0.2:\'\';!v.1N.1K?v.1N.1K=5:\'\';if(v.1N.GH==1&&(o.6i||y)){if(o.P.1l()>0){U(B i=48;i<58;i++){if(x==i){o.V.3X((o.P.1l()*(x-48)*10)/100,H)}}}}if((x==39||(v.1N.l==1&&x==76))&&(o.6i||y)){m0(v.1N.xj)}if((x==37||(v.1N.j==1&&x==74))&&(o.6i||y)){lY(v.1N.xj)}if(x==38&&(o.6i||y)){m0(v.1N.xg)}if(x==40&&(o.6i||y)){lY(v.1N.xg)}if(x==Xy&&(o.6i||y)){m0(v.1N.GM)}if(x==Xx&&(o.6i||y)){lY(v.1N.GM)}}};E 7g(y,z){U(B x in b){if(b.2v(x)){if(b[x].s(y)==z){I b[x]}}}}E m0(x){if(x=="5O"){if(o.W){o.Q.aW()}F{x="3K"}}if(x=="3K"){if(o.P.1l()>0){B sk=o.P.18()+4d(v.1N.3K);if(sk<o.P.1l()){o.V.3X(sk,H);js("ma",sk)}}}if(x=="1J"){o.V.4i(4d(v.1J)+4d(v.1N.mz));1d.9a()}if(x=="1K"){o.P.1K(v.1N.1K/100);1d.9a()}if(v.1N.2P==1){7z(x,1)}}E lY(x){if(x=="5O"){if(o.W){o.Q.dC()}F{x="3K"}}if(x=="3K"){if(o.P.1l()>0&&o.1z){B sk=o.P.18()-v.1N.3K>=0?o.P.18()-v.1N.3K:0;o.V.3X(sk,H);js("ma",sk)}}if(x=="1J"){o.V.4i(4d(v.1J)-4d(v.1N.mz));1d.9a()}if(x=="1K"){o.P.1K(-v.1N.1K/100);1d.9a()}if(v.1N.2P==1){7z(x,0)}};G.HR=E(1d){if(1A.fc==v.id){B x=1d.GN;if(x==1F){x=1d.Iq}if(x==57){if(v.1m==1){}}if(o.1Z&&x==27){o.V.8z()}if(L(o.1V)||L(o.8J)){I J}if(v.1N.on==1){if(v.1N.f==1&&x==70&&v.gl!=1&&(o.6i||o.4s)){if(v.1N.2P==1){7z(\'1Z\',o.1Z?0:1)}o.1Z?o.V.8z():o.V.aE()}if(v.1N.s==1&&x==83&&(o.6i||o.4s)){if(o.3p){if(v.1N.2P==1){7z(\'1X\',o.4X?0:1)}3l("K5")}}if(v.1N.m==1&&x==77&&(o.6i||o.4s)){if(v.1N.2P==1){7z(\'5z\',o.3t?1:0)}o.3t?o.V.6B():o.V.5j()}}}};G.4y=E(){43(o.iW);U(B x in o){if(x.K("Y")==0&&x.K("LW")>-1){43(o[x])}}U(B i=0;i<hG.S;i++){B 1a=hG[i];if(b[1a]){b[1a].4y()}}if(1f){1f.4y()}if(W){W.4y()}bg.4y();bt?bt.4y():\'\';if(7x.3M==o.1S){o.1S.3n(7x)}F{o.1p?o.1p.3n(7x):\'\'}};G.iV=E(){iV()};G.cd=E(x){cd();x?\'\':4J()};G.hE=E(){hE()};G.f6=E(){I 8c}};B K6=E(1a){B i;B C=[];B w;B h;B yh=0;B bg;B oh;B 9g;B pS=0;B 4G=H;B Iv=J;B 3x=1;B 3H=1;B 2y;B k7;B 2S;B 8X;B 1e;B aA=\'\';B x0;B y0;B on;B 6K=J;B db=J;B jI=0;B 14N;B 14Q=0;B fV=0;B KV=0;B fS=0;B qi=J;B Jt=J;B k6=J;B 3b=J;B jD;B fx;B rl;B xC=J;B yI=J;C=cM(C,fM.R);C=cM(C,v[1a]);B V=[C.1e];1e=V[0];L(C.K8)?V[1]=C.K8:\'\';L(C.Ka)?V[1]=C.Ka:\'\';L(C.1G)?C.1D=C.1G:\'\';if(1Y(C.Kb)){o.96?C.1K=C.Kb:\'\'}if(1e=="3d"){o.hm=H}if(L(C.3f)){if(C.1I=="1D"&&C.3f!=\'\'){if(L(v[C.3f+\'1D\'])){C.1D=v[C.3f+\'1D\']}}if(C.3f.K("1f#")==0){aA=C.3f;if(C.2S==\'\'&&aA.K(",")==-1){C.2S=2L(v.1f[\'1f\'+aA.1i(9)+\'1e\'])}}if(C.3f.K("6h")>-1){v.K4=H}if(C.3f.K("3d:")>-1){o.hm=H}if(C.3f=="14D"){C.14S=1u 14R(C)}}B 7o=C.2S?C.2S.2u("///"):[];if(C.Kf==1){C.1I="1D";C.1D=jX(0)+(V.S>1?\'///\'+jX(1):\'\');if(1Y(C.a3)){C.1o=C.a3}}C.it=[];C.il=[];B yF=0;B 2P=1u aB();B 1r=1u aB();B f0=1u aB();B 14E=1u aB();B k5=0;B bS;if(C.1I=="1D"){if(C.51){if(L(v[C.51+\'1D\'])){C.1D=v[C.51+\'1D\']}}if(L(C.1D)){2P[0]=4U(C.1D);C.pW=C.1D.S;B vZ=[\'/\',\'|\',\'-\'];vZ.K(C.1D.1i(-1))>-1?C.yB=C.1D.1i(-1):\'\';vZ.K(C.1D.1i(0,1))>-1?C.yx=C.1D.1i(0,1):\'\';if(1e=="18"||1e=="1l"){if(C.1D.K(\'0:\')==0){C.pT=H}if(C.1D.2u(":").S==3){C.Jv=H}F{if(C.1D.K(\'cQ:cQ\')>-1){C.Jw=H}}if(C.mQ==1){v.mQ=1}}if(C.Kc==1&&C.1D.K("-")==0){C.Jx=H}if(C.1D.K("///")>0&&(1e=="3U"||C.Kf==1)){C.fK=C.1D.2u("///");C.1D=2P[0]=C.fK[0]}}if(v.vY==1){1w(9d,100);1w(9d,4l);1w(9d,2i)}}F{if(L(C.1r)){2P[0]=C.1r;if(2P[0].K("///")>0&&2P[0].K("ll")==-1){2P=C.1r.2u("///")}if(L(C.qy)){2P[1]=C.qy}if(C.JA==1){if(1Y(C.Kg)){2P.2Y(C.Kg);k5=2P.S-1}}}}if(1e=="3U"){if(C.14G==1&&L(C.jO)){C.xI=C.3f}}B Y=1U("29");B sp=C.1q;if(sp.K(\'9u\')>-1){o.9u?o.9u.1Q(Y):1w(E(){o.9u.1Q(Y)},100);o.JK=H}F{if(o.dn&&((dO(sp,["2N"])&&C.14O!=1)||(dO(sp,["Y"])))){o.1p.1Q(Y)}F{o.1S.1Q(Y)}if(1e=="ba"&&C.14L==1){Y.C.4T=mR}}if(C.JU==1){C.j7=1u 14H(C,Y)}B oh=1U("29");Y.1Q(oh);B eL=1U("29");O(eL,{"1q":"2B","19":0,"1c":0});Y.1Q(eL);O(Y,{"1q":"2B","19":0,"1c":0,"1B":1,"ei":"oN","mB":"ku"});if(1Y(C.51)){3V(Y,{"id":(v.id+"3P"+"dq"+C.51)})}if(C.JW==1||C.Iz==1){O(eL,{"4S":"2V 0.2s 3g"})}if(2P.S>0){U(i=0;i<2P.S;i++){1r[i]=1U("29");O(1r[i],{"1q":"2B","1c":0,"19":0,"aL":"1O","1B":C.a,"4S":"1B 0.1s 3g"});if(C.fY>C.1K){O(1r[i],{"4S":"1B 0.1s 3g,2V 0.1s 3g"})}if(C.1I=="fn"&&C.3B!=\'\'){if(1Y(C.51)){3V(1r[i],{"id":(v.id+"3P"+"Y"+"3P"+C.51+"3P"+"1r")});if(v[C.51+\'3B\']){C.3B=v[C.51+\'3B\']}}if(dO(C.3B,[".wj",".iP",".13f","ll",".g1"])){C.3B.K("//")==-1&&C.3B.K("ll")==-1?C.3B=\'//\'+C.3B:\'\';B z=1U("3O");C.9j=1;z.1v("dY",xW);z.3B=C.3B;1r[i].1Q(z);C.w=1r[i].2a;C.h=1r[i].2Q;if(C.JX>0){O(z,{1b:C.JX})}}}if(C.1I=="1D"){O(1r[i],{"1o":(C.1o),"ei":C.cW*2h(v.7A,1),"zN":eq(C.3Q),"lr-gt":C.iI+\'px\',"2O":"0 cS 0 cS","bK-9r":"eg"});if(o.96){if(1Y(C.JY)){O(1r[i],{"ei":C.JY*2h(v.7A,1),})}}if(C.2o==1){if(C.1D.K("<a ")>-1||1a=="dc"){O(1r[i],{"aL":"2A"})}}if(C.JZ==1){O(1r[i],{"3Q-dI":"JZ"})}if(C.mh>0){O(1r[i],{"3Q-dI":C.mh})}if(C.K0){O(1r[i],{"mB":C.K0+"em"})}2P[i]==\'5L\'?2P[i]=2L("5L"):\'\';1r[i].1P=wD(2P[i]);1w(yH,100);C.w=1r[i].2a;C.h=1r[i].2Q;if(1Y(C.51)){3V(1r[i],{"id":(v.id+"r9"+C.51+"12M")})}}if(C.1I=="O"){o.1z?1w(wh,4r):\'\'}B 9e=2P[i].6p();if(9e.K(\'B:\')==0){9e=2h(1A[9e.1i(4)],\'\')}B mt=9e.K(\'<2l\')>-1||9e.K(\'<12L\')>-1;if(C.1I=="2l"&&(9e.K(\'<g>\')>-1||mt)){if(1e=="5z"||1e=="3U"){9e=9e.1R(/jc/g,\'jc\'+v.id+1a)}if(9e.K(\'4C\')>-1){bM(1r[i])}1r[i].1P=(!mt?"<2l X=\'20\' 1b=\'20\' 4h:4e=\'3T://4g.w3.47/7C/4e\' 4h=\'3T://4g.w3.47/4p/2l\'>":\'\')+9e+(!mt?"</2l>":\'\');1r[i].2a>20?C.w=1r[i].2a:\'\';1r[i].2Q>20?C.h=1r[i].2Q:\'\';O(1r[i],{"X":C.w,"1b":C.h});if(C.a3!=-1){fk(1r,C.a3)}if(1Y(C.51)){3V(1r[i],{"id":(v.id+"r9"+C.51+"mu"+i)})}}eL.1Q(1r[i]);if(C.3f=="e3"){if(1H iB!=="1F"&&L(1A.iE)){!o.aG?o.aG=1u iB(1r[i]):\'\'}}i>0?1j(1r[i]):\'\'}aK();rl?xW():\'\';if(C.3f=="3Z"){C.3Z=1;C.1j=1;o.3Z?1r[0].1P=o.3Z.dH(C.a3!=-1?C.a3:\'#3y\'):\'\';if(o.1g.2e){1r[0].Kl=yD;1r[0].12K=5u;1r[0].xm=yr}F{1r[0].lJ=6b;1r[0].lF=5u;1r[0].lC=ey}}F{if((bg.2a*C.1K<35||bg.2Q*C.1K<35)&&C.1I!=\'1D\'){xV();bM(9g)}F{bM(bg);if(C.fp==1){aK();bM(bg)}}}if(1e=="3U"){B lu=\'\';if(C.ew==1&&L(C.3f)){lu=C.3f;if(lu.K("2U:")==0){if(lu==\'2U:1t\'&&C.jO==\'2U:3R\'){C.pp=1}B 1C=lu.1i(4).2u(",");if(1C.S==2){B yo=1C[1].2u("/");if(yo.S==2){1C[0]==\'hd\'?1C[0]="4f":\'\';if(v[1C[0]]==yo[1]){C.a=1;O(1r[0],{"1B":C.a})}}}}if(lu=="Km"||lu=="4q"){o.V.hW();Y.C.4T=mR;o.ym=1}}if((C.1j==1&&(C.KL==1||C.KM==1||C.KN==1))||lu.K("7N")==0||lu=="KO"||lu=="aM"){C.KP=1;if(7r([C.1q],"Y")||C.KS==1){C.KT=1}}if(lu.K("7N")==0){Y.C.4T=mR}}U(B sf in C){xa(sf)}if(1e=="1f"&&C.fx==1){fx=1u 12z(Y,bg,C)}if(C.2o==0){g0(Y)}if(C.9j==1){1j(bg)}if(C.2y==1){pj()}if(C.1q.K("2q")>-1){fV=1}if(C.1q.K("1c")>-1){KV=1}if(C.1q.K("2N")>-1){fS=1;1e=="3U"&&1Y(C.3f)?Y.C.4T=mR:\'\'}if(C.1q.K("Y")>-1){fS=1}2n();B t=\'\';if(C.bu!=0){t+="ro("+C.bu+"yV)"}if(C.12y==1){t+=" 3x(-1)"}if(C.12P==1){t+=" 3H(-1)"}if(t!=\'\'){O(eL,{"2V":t})}if(1e=="ba"){jY()}B 1C=[];B i;if(1e=="W"){1C=[\'di\',\'KX\',\'na\',\'KY\',\'yb\',\'o7\'];U(i=0;i<1C.S;i++){if(L(C[1C[i]])&&!L(v.W[1C[i]])){v.W[1C[i]]=C[1C[i]]}}}if(1e=="1G"){1C=[\'n4\',\'ya\',\'yq\'];U(i=0;i<1C.S;i++){if(L(C[1C[i]])&&!L(2G[1C[i]])){v[1C[i]]=C[1C[i]]}}}C.py==1?9y():\'\';if(1e=="3U"&&C.on==0){3a(Y)}if(C.1j==1&&C.mZ>0){1w(Kx,C.mZ*2i)}}E Kx(){C.mZ=-1;o.Q.4N()}E xV(){if(9g){9g.3M.3n(9g)}9g=1U(C.fp==1?"dH":"29");O(9g,{"1q":"2B","1c":0,"19":0,"X":C.1I=="fn"?bg.2a:(bg.2a>35?bg.2a:35)*C.KF,"1b":C.1I=="fn"?bg.2Q:(bg.2Q>35?bg.2Q:35)*C.zM});C=4I(C,\'kg\',\'kg\');Y.1Q(9g)}E bM(x){if(1e.K("18")==0&&V.S==1){C.2o=0}if(1e=="3U"&&C.ew==0){C.2o=0}if(C.2o==1){yI=C.fp==1&&x==bg;if(C.fp==1&&1Y(C.fm)){3V(x,{"fm-7q":C.fm})}if(C.lE==1){O(x,{"6R":"4C"})}O(x,{"aL":"2A"});if(o.1g.2e){x.1v("db",E(e){yr(e)},{5H:J});x.1v("g5",E(e){yD(e)},{5H:J});x.1v("g7",E(e){Kr(e)},{5H:J})}x.fC=8R;if(v.1p.ju==1||C.ju==1){O(x,{"2k-1o":"#nX","1B":0.5})}}F{O(x,{"6R":"7f"})}if(!o.1g.2e){x.lJ=6b;x.lF=5u}x.IK=fE;x.IB=fD;if(C.3b==1||C.2y==1){x.lC=ey}}E yr(e){js("139"+1a);e.b5();db=H}E yD(e){C.Ks==1?6b():\'\';e.b5()}E Kr(e){e.b5();e.9a();C.Ks==1?5u():\'\';if(!db){8R(e)}db=J}E aK(){if(bg){bg.3M.3n(bg)}bg=1U(yI?"dH":"29");O(bg,{"1q":"2B","1c":0,"19":0});if(1Y(C.51)){3V(bg,{"id":(v.id+"r9"+C.51+"138")})}w=C.w;h=C.h;C.fN=-1;C.b9=-1;C=4I(C,\'2M\',\'2M\');C=4I(C,\'9Y\',\'9Y\');if(C.aZ&&o.96){if(C.aZ!=\'0 0 0 0\'){C=4I(C,\'9Y\',\'aZ\')}}if(C.1I=="1D"){w=1r[yF].2a;h=1r[yF].2Q;if(C.yE>0){w<C.yE?w=C.yE:\'\'}}C=4I(C,\'fA\',\'fA\');C=4I(C,\'Kv\',\'Kv\');if(1Y(C.51)&&L(v.3U)&&C.1e=="3U"){if(1H(v.3U)==\'3L\'){U(B i=0;i<8k.6G(v.3U).S;i++){if(v.3U[i][C.51]){if(v.3U[i][C.51]=="7e"){C.on=0}F{B 1C=v.3U[i][C.51].2u(":");if(1C[0]=="2M-19"){if(1C[1].K("%")>0){C.iQ=2R(1C[1])}F{C.4j=2R(1C[1])}}}}}}}C.h=h;C.w=w;if(C.bg==1){h=h+C.bz+C.b8;w=w+C.6Y+C.7k;C.h=h;C.w=w;if(C.1I=="1D"){C.lI=1r[0].2Q}}F{C.4v=0}O(bg,{"X":(C.Ko==1?Kw:w),"1b":h,"Al":(C.qO*h)/2,"4S":"2k .1s 3g, 1B .2s, 2V .1s 3g"+(1Y(C.a9)?\', 5w .1s 3g\':\'\')});92(C.4B,C.4v);if(C.1I=="fn"){O(bg,{"X":w,"1b":h,"Al":(C.qO*h/C.1K)/2,})}if(C.J1==1){yO(bg,C.4B,C.J0,C.IZ)}if(C.lH==1){O(bg,{"2K":2h(C.IJ,1)+"px 6x "+C.lG})}if(C.7Q==1){O(bg,{\'dS-5w\':\'7Q(9h)\'})}oh.1Q(bg);if(C.7x==1){O(1r[0],{\'2k\':4x(2h(C.12Y,\'3Y\'),2h(C.12W,0.5),1r[0]),\'2K-6E\':2h(C.12U,0),\'2O\':yz(2h(C.14C,0))})}}E 92(x,y){!1Y(x)?x=C.4B:\'\';!1Y(y)?y=C.4v:\'\';O(bg,{"2k":(C.yw==1?"3g-4D("+(C.12a==1?"to 2q,":\'\')+4x(x,y)+","+4x(C.12u,y)+")":4x(x,y,bg))})}E 2n(){B fN=(-bg.2Q/2);B b9=(-bg.2a/2);if(fN!=C.fN||b9!=C.b9){O(bg,{"1c":(-bg.2Q/2),"19":(-bg.2a/2)});C.fN=fN;C.b9=b9}if(9g){B x=C.1I=="fn"?bg.2a:(bg.2a>35?bg.2a:35);B y=C.1I=="fn"?bg.2Q:(bg.2Q>35?bg.2Q:35);O(9g,{"1c":(-y/2)+C.IV-C.J2,"19":(-x/2)+C.124-C.11Z})}U(B i=0;i<2P.S;i++){B it=C.1I=="2l"?2E.4a(2R(1r[i].C.1b))/2:2E.4a(1r[i].2Q)/2;B il=C.1I=="2l"?2R(1r[i].C.X)/2:1r[i].2a/2;if(it!=C.it[i]||il!=C.il[i]){O(1r[i],{"1c":-it,"19":-il});if(bg){O(1r[i],{"1c":(5v(1r[i].C.1c)+C.bz/2-C.b8/2+C.11W/2+C.11V/2),"19":(5v(1r[i].C.19)+C.6Y/2-C.7k/2+C.11T/2+C.12t/2)})}C.it[i]=it;C.il[i]=il}}}E 6b(){B i;6K=H;if(C.f0==1){if(on&&L(C.qy)){i=1}F{i=0}if(bS&&f0.S>2){i=2}if(f0[i]){rd();1n(1r[f0[i]])}}if(C.bg==1){if(1Y(C.8O)||1Y(C.7n)){92(C.8O,C.7n)}if(1Y(C.a9)){O(bg,{"5w":"f8("+C.a9+")"})}}if(C.7J>-1&&!Iv){U(i=0;i<2P.S;i++){if(1r[i].C.5W!="3b"){O(1r[i],{"1B":C.7J})}}}if(C.qX!=-1){fk(1r,C.qX)}if(C.Iz==1){jI+=45;jp(1r[0],jI)}if(C.fY>C.1K&&C.fY>-1){1K(C.fY)}if(1e=="1f"&&o.Q.cO()){}F{if(C.2y==1&&C.py!=1){B x=7o.S>1&&!on?7o[1]:7o[0];if(x){if(x.K(\'B:\')==0){2S.1P=1A[x.1i(4)];9y()}}1n(2y);O(2y,{"1B":1})}}if(1e=="5z"){o.V.5N(H);o.5N=H}o.f5=H;o.Q.kw(1a,"6K")}E 5u(){fD();6K=J;B i;if(C.f0==1){if(on&&L(C.qy)){i=1}F{i=0}if(bS&&f0.S>2){i=2}rd();1n(1r[i])}if(C.bg==1){if(1Y(C.8O)||1Y(C.7n)){92(C.4B,C.4v)}if(1Y(C.a9)){O(bg,{"5w":"f8(1)"})}}if(C.7J>-1){U(i=0;i<2P.S;i++){if(1r[i].C.5W!="3b"){O(1r[i],{"1B":C.a})}}}if(C.fY>-1){1K(C.1K)}if(C.qX!=-1){fk(1r,(C.a3==-1?\'#3y\':C.a3))}if(1e=="5z"&&!o.1Z){o.V.5N(J);o.5N=J}xy();o.f5=J;o.Q?o.Q.kw(1a,"4A"):\'\'}E xy(){if(C.2y==1&&C.py!=1){1j(2y);O(2y,{"1B":0})}}E 8R(e){e?e.6J=H:\'\';if(!qi){o.Q.fL(1a);if(1e=="3U"){jw()}xy();if(C.12k==1){jI-=30;jp(1r[0],jI)}k6=H;if(C.It==1||(1a=="rh"&&C.1j==1&&C.xs==1)){o.Q.4N()}}};G.IA=E(){8R()};E fE(){if(1Y(C.xp)){1K(C.xp)}if(1Y(C.xH)){fk(1r,C.xH)}}E fD(){if(1Y(C.xp)){1K(C.1K)}if(1Y(C.xH)){fk(1r,r8(C.a3,\'3y\'))}}E jw(){if(2P){if(2P.S>1){if(on==H){1n(1r[0]);1j(1r[1])}F{1n(1r[1]);1j(1r[0])}}if(C.2y==1&&7o.S>1){2S.1P=o.ni+(on==H?7o[0]:7o[1])+o.jd;9y()}}if(L(C.xI)){if(on==H){C.3f=C.xI}F{C.3f=C.jO}}jZ();on=!on;if(C.3f){if(C.3f.K(",0/1")>-1){js(C.3f,on?1:0)}}if(C.bg==1&&L(C.y5)){if(C.y5!=-1){if(on){C.IC=C.4B;C.4B=C.y5}F{C.4B=C.IC}aK();bM(bg);2n();if(C.1I=="1D"){9d()}F{1K(C.1K)}}}}E jZ(){if(L(C.fK)){if(C.fK.S>1){if(on==H){6w(C.fK[0])}F{6w(C.fK[1])}}}}E wz(1d){1d.6J=H;o.Q.fL(1a)}E rd(){U(B i=0;i<2P.S;i++){if(1r[i].C.5W!="3b"){O(1r[i],{"1B":C.a});1j(1r[i])}}}E yH(1D){if(1r[0]){if(1r[0].2a>o.2T-C.4j-C.4u-C.6Y-C.7k){if(C.xX==1){if(!1D){1D=1r[0].1P}1r[0].1P=\'<xX>\'+1D+\'</xX>\'}F{O(1r[0],{"bK-9r":"hV"})}O(1r[0],{"X":o.2T-C.4j-C.4u-C.6Y-C.7k})}}}E xW(){if(bg){rl=J;C.9j=0;1j(bg);if(1r[0]){C.w=1r[0].2a*C.1K;C.h=1r[0].2Q*C.1K;1K(C.1K)}C.8N=0;aK();xV();bM(9g);1n(bg);2n();o.Q.5q();if(!5F(Y)){3a(Y)}}F{rl=H}}E IU(1d){1d.6J=H}E ey(){if(!o.1g.2e&&!o.f5){6b()}9y()}E 1K(x){if(x>0){O(bg,{"2V":"1K("+x+")"});U(i=0;i<2P.S;i++){O(1r[i],{"2V":"1K("+x+")"})}if(C.j7){C.j7.1K(x)}3x=x;3H=x}}E pj(){2y=1U("29");O(2y,{\'1q\':\'2B\',\'19\':0,\'1c\':0,\'1b\':\'2A\',"1B":0,"4S":"1B 0.1s 3g"});k7=1U("29");C=4I(C,\'kr\',\'kr\');C=4I(C,\'ID\',\'ID\');O(k7,{\'1q\':\'2B\',\'19\':0,\'1c\':0,\'X\':\'100%\',\'1b\':30,\'2k-1o\':C.lq,\'1B\':C.ly,\'2K-6E\':C.xu});2S=1U("29");O(2S,{\'1q\':\'2B\',\'19\':C.xf,\'1c\':C.qn,\'1o\':C.xY,\'3Q-er\':eq(C.xT),\'3Q-3J\':C.xz*2h(v.7A,1),"lr-gt":C.xr+\'px\',"2F-1b":"1"});if(C.2S){if(C.2S.K("B:")==0){C.IF=H}}if(!C.IF){O(2S,{\'bK-9r\':\'eg\'})}if(C.fy==1){8X=1U("29");8X.1P=\'<2l X="9h" 1b="xA" xB="0 0 8 6" 8P="1.1" 4h="3T://4g.w3.47/4p/2l" 4h:4e="3T://4g.w3.47/7C/4e"><fB id="KQ" 3D="1O" 6q="#\'+C.lq.1R("#","")+\'" 6q-KI="KK" 8r="0 0 8 0 4 6"></fB></2l>\'}if(C.py==1){O(2y,{"1B":1});bM(2y)}F{g0(2y)}Y.1Q(2y);2S.1P=o.ni+(C.2S==\'\'?2L(1e):7o[0])+o.jd;2y.1Q(k7);2y.1Q(2S);if(C.fy==1){2y.1Q(8X);B xL=o.xP?\'-9h\':\'-xA\';B ps=C.12f;if(!L(ps)){ps=\'\'}B tp=ps.K("1c")>-1;if(tp){jp(8X,\'-12d\')}O(8X,{\'1q\':\'2B\',\'2q\':(ps.K("2q")>-1?10*C.1K:\'2A\'),\'19\':(ps.K("19")>-1?10*C.1K:(ps==\'\'||ps==\'1c\'?\'50%\':\'2A\')),\'2M-19\':(ps==\'\'||ps==\'1c\'?\'-FV\':0),\'2N\':(tp?\'2A\':xL),\'1c\':(tp?xL:\'2A\'),\'1B\':C.ly})}9y()}E 9y(){if(C.2y==1){O(2y,{"1c":(fS==1?-h-2y.2Q+3:-2y.2Q/2)+C.13e-C.14e,"19":(fV==1?-2S.2a:(fS==1?-w/2:+2S.2a))-(fS==1?0:2S.2a/2+5)+C.14c-C.14b,"1b":C.qn+2S.2Q+C.xK,"X":C.xf+2S.2a+C.KW});O(k7,{\'1b\':2y.2Q});2y.C.4T="2i"}}G.c=E(){I Y};G.s=E(x){if(1e=="3U"){xa(x)}I C[x]};G.ss=E(x,x2){I L(C[x])?C[x][x2]:J};G.g=E(x){cT(x){1k"X":I w;1h;1k"1b":I h;1h;1k"h":I 2h(C.lI,h);1h;1k"x":I 5v(Y.C.19);1h;1k"y":I 5v(Y.C.1c);1h;1k"1B":I Y.C.1B?Y.C.1B:1;1h;1k"1n":I 4G;1h;1k"3x":I 3x;1h;1k"3H":I 3H;1h;1k"1e":I 1e;1h;1k"II":I aA;1h;1k"k6":I k6;1h;1k"1I":I C.1I;1h;1k"S":I C.pW?C.pW:0;1h;1k"1a":I 1a;1h;1k"x0":I x0;1h;1k"y0":I y0;1h;1k"6K":I 6K;1h;1k"1f#":I aA.K("1f#")==0;1h;1k"1f:":I aA.K("1f:")==0;1h;1k"xQ":I 1e=="3U"&&C.1I=="1D";1h;1k"1T#4G":I xC;1h;7f:I J}};G.1T=E(k,x){cT(k){1k"1n":6K?5u():\'\';4G=x;1h;1k"2g":J4(x);1h;1k"5i":5i(Y);1h;1k"3a":3a(Y);1h;1k"J3":C.3b=0;1h;1k"xS":if(C.IL>0&&C.3b!=1&&!jD){2C(jD);jD=1w(E(){3a(Y);(C.14a!=1?C.3b=1:\'\');jD=1F},C.IL*2i)}1h;1k"1K":1K(x);1h;1k"148":O(Y,{"2V":"1K(0)"});1h;1k"3x":O(Y,{"2V":"3x("+x+")"});3x=x;1h;1k"3H":O(Y,{"2V":"3H("+x+")"});3H=x;1h;1k"1B":O(Y,{"1B":x});1h;1k"pa":O(1r[0],{"1B":x});1h;1k"fU":O(1r[0],{"5w":"fU("+x+")"});1h;1k"19":O(Y,{"19":x});1h;1k"1c":O(Y,{"1c":x});1h;1k"X":O(Y,{"X":x});1h;1k"1b":O(Y,{"1b":x});1h;1k"wn":C.wn=x;1h;1k"fV":fV=x;1h;1k"1T#4G":xC=x;1h;1k"x":O(Y,{"19":x});1h;1k"y":O(Y,{"1c":x});1h;1k"6m":C.6m=x;1h;1k"7N":C.7N=x;1h;1k"x0":x0=x;1h;1k"y0":y0=x;1h;1k"fX":C.fX=x;1h;7f:I J}};E J4(x){if(x&&o.1g.2e){qi=H;1w(Js,ef)}if(!x){if(r5()&&bS){1j(1r[k5]);1n(1r[0]);bS=J}}if(C.9j==1){x?1n(Y):1j(Y)}F{if(1a=="142"||1a=="140"){x?1n(Y):1j(Y)}F{O(Y,{"2g":(x?"4q":"1O")})}4G=x;x?1n(Y):\'\'}if(x&&C.qf){C.qf=J;1w(9d,100)}}E Js(){qi=J}G.6w=E(x,y){if(aA!=\'\'&&(C.1D==\'x\'||C.1D==\'1x\')){x=x+\'x\'}if(y){x=C.1D+x}6w(x);!5F(Y)?C.qf=H:\'\'};B y6;G.jC=E(x){if(y6!=x){C.9f=x;6w(x);!5F(Y)?C.qf=H:\'\';o.Q?o.Q.5q():\'\'}y6=x};G.xJ=E(){jp(eL,pS);pS+=20};E jp(x,y){O(x,{"2V":"ro("+y+"yV)"+(x==1r[0]&&!Jt&&3x!=1?\' 1K(\'+3x+\')\':\'\')})};G.Ju=E(x){if(C.1D.K("{1G")>-1){6w(C.1D)}};G.jw=E(){jw()};G.yu=E(x){on=x==0;jZ()};E 6w(1D){if(C.1I=="1D"){if(L(1D)){if(C.Jv){if(1D.S==4){1D=(C.pT?\'0:0\':\'cQ:0\')+1D}if(1D.S==5){1D=(C.pT?\'0:\':\'cQ:\')+1D}if(1D.S==7){1D=(C.pT?\'\':\'0\')+1D}}if(C.Jw){if(1D.S==4){1D=\'0\'+1D}}C.pW=1D.S}1D=(C.yx?C.yx+(C.Jx?\'\':\' \'):\'\')+1D+(C.yB?\' \'+C.yB:\'\');B Jq=1r[0].2a+(C.bg==1?C.bz+C.b8:0);B Jy=1r[0].2Q+(C.bg==1?C.bz+C.b8:0);1r[0].1P=o.ni+(1e=="3U"?wD(1D):1D)+o.jd;if(C.14s==1){1r[0].1P+=\'<7D C="2g:bC-4q;X:eZ"></7D><7D C="2K-1c: cS 6x \'+3r(C.1o)+\';2K-19: cS 6x ez;2K-2q: cS 6x ez;1q: 2B;2q:cS;1c: 50%;2M-1c: -4w;"></7D>\'}if(1e=="1G"){O(1r[0],{"X":"2A","bK-9r":"eg"});yH(1D)}C.w=1r[0].2a+(C.bg==1?C.7k+C.6Y:0);C.h=1r[0].2Q+(C.bg==1?C.bz+C.b8:0);if(Jq!=C.w||Jy!=C.h||(C.w>0&&yh==0)){9d()}if(1r[0].2a>0){yh=C.w}F{aA!=\'\'?1j(1r[0]):\'\';if(1D!=\'\'){1w(9d,10)}}}}G.9d=E(){9d()};E r5(){I!o.P.6o()&&C.JA==1}E 9d(){if(C.1I=="1D"){if(1r[0]){if(1r[0].2a>0){aA!=\'\'?1n(1r[0]):\'\';w=C.w=1r[0].2a;h=C.h=1r[0].2Q;aK();bM(bg);2n();if(o.Q){if(7r([C.1q],"Y")){o.Q.yg()}F{o.Q.5q()}}}}}}G.yj=E(x){if(C.JB==1){B n=4;if(1a=="14t"){if(o.1g.2e){I}}F{n=8}B y=\'jc\';B z=[];U(B i=1;i<n;i++){z[i]=bL(y.aF(v.id,1a,\'14h\',i))}if(z[1]){U(B i=1;i<n;i++){z[i]?1j(z[i]):\'\'}if(n==4){U(B i=1;i<n;i++){x>(i/n)&&z[i]?1n(z[i]):\'\'}}F{U(B i=n;i>0;i--){if(x*1+(1/n)>=(i/n)&&z[i]){1n(z[i]);1h}}}}}};G.On=E(){if(!on){if(2P){if(2P.S>1&&V.S>1){1j(1r[0]);1n(1r[1])}}if(V.S>1){1e=V[1];if(C.2y==1){2S.1P=jX(1);9y()}}if(r5()&&bS){1j(1r[k5]);bS=J}if(C.pp==1){jw(1)}jZ();on=H}};E jX(x){I o.ni+(C.2S==\'\'?2L(V[x]):(7o.S>1?7o[x]:7o[0]))+o.jd}G.d3=E(x){d3(x)};G.JD=E(x,y){if(C.j7){C.j7.eH(x,y)}};E d3(x){B y=\'jc\';B z=bL(y.aF(v.id,1a,\'13x\'));if(z){O(z,{"4S":"2V 0.1s 5f-4A"});if(x==1){z.C.2V=\'JE(0, 0)\'}F{z.C.2V=\'JE(-JF, 0)\'}}F{if(x==1){C.a=1}F{C.a=0.5}}on=x==1;if(C.2y==1&&7o.S>1){2S.1P=(on?7o[0]:7o[1])}O(1r[0],{"1B":C.a})};G.jm=E(){if(on){if(2P){if(2P.S>1&&V.S>1){1n(1r[0]);1j(1r[1]);O(1r[0],{"1B":C.a})}}1e=V[0];if(V.S>1){if(C.2y==1){2S.1P=jX(0);9y()}}jZ();on=J;bS=J}};G.wz=E(){if(r5()){rd();1n(1r[k5]);bS=H}};G.JG=E(){B 2J=J;if(C.1j==1){if(C.Jz==1){if(5F(o.2b)){2J=H}}if(C.13q==1&&!o.1Z){2J=H}if(C.13o==1&&o.1Z){2J=H}}if(!2J){5i(Y);B fP=Y.9i("*");U(B i=fP.S;i--;){O(fP[i],{"6m-1t-7i":"13g"})}4G=H}};G.jY=E(){jY()};E jY(){3a(Y);B fP=Y.9i("*");U(B i=fP.S;i--;){O(fP[i],{"6m-1t-7i":"6I"})}4G=J}G.4y=E(){if(2P.S>0){U(i=0;i<2P.S;i++){if(1r[i].3M==Y){Y.3n(1r[i])}1r[i]=28}}if(bg){bg.dZ("fC");bg.dZ("lJ");bg.dZ("lF");bg.3M.3n(bg);bg=28}if(C.1q.K(\'9u\')>-1){if(Y.3M==o.9u){o.9u.3n(Y)}}F{if(Y.3M==o.1S){o.1S.3n(Y)}F{if(o.1p){if(Y.3M==o.1p){o.1p.3n(Y)}}}}if(2y){if(2y.3M==Y){Y.3n(2y)}}Y=28};G.Jo=E(){fx?fx.k8():\'\'};G.Jf=E(){wh()};E wh(){Jn(2P[0],C.1o,1r[0])}E wD(x){B z=x+\'\';if(x.K(\'{\')>-1){if(x.K(\'{18}\')>-1&&L(o.3v)){x=x.1R(\'{18}\',fW(o.3v.bB().t))}if(x.K(\'{1G\')>-1){B y=o.cB?o.cB:(v.1G?v.1G:\'\');if(x.K(\'{d5}\')>-1&&o.Q){x=x.1R(\'{d5}\',o.Q.cz(\'d5\'))}if(o.d4&&o.Q){y=o.Q.cz(\'d4\')}x=x.1R(\'{1G}\',y);if(o.d4&&!o.Q){1w(6w,100,z)}}if(x.K(\'{1D\')>-1){U(B i=1;i<6;i++){if(x.K(\'{1D\'+i+\'}\')>-1){if(L(v[\'1D\'+i])){x=x.1R(\'{1D\'+i+\'}\',v[\'1D\'+i])}F{x=x.1R(\'{1D\'+i+\'}\',\'\')}}}}if(x.K(\'{5O}\')>-1){o.jL=1a;if(o.Q){x=x.1R(\'{5O}\',o.Q.cz(\'J9\'))}}}I x}G.x8=E(){6w(C.1D)};E xa(sf){if(1Y(C[sf+\'3P\'+\'B\'])){B x=v[C[sf+\'3P\'+\'B\']];if(1Y(x)){if(1H(x)=="4O"){C[sf]=x}}}}E fk(1r,6D){U(B i=0;i<1r.S;i++){rj(1r[i],6D)}if(C.3f=="3Z"){if(o.3Z){o.3Z.13J(1r[0],6D)}}}};B J6=E(1a,1e){B i;B C=[];B w;B h;B bg;B 4G=H;B x0;B y0;B 3x=1;B 3H=1;B fI=0;B 7X=0;B 13I;B 3G;B rp;B 6K;B 6I;B 2o;B 3w;B 7G;B KB;B Kn;B yv;B KE;B 2y;B 2S;B 8X;B fO;B wy;o.IW=-1;B qD;B 6K;B wW;U(i in fM.R){C[i]=fM.R[i]}B 1e=v[1a].1e;B 1I=v[1a].1I;U(i in fM[1e]){C[i]=fM[1e][i]}U(i in v[1a]){C[i]=v[1a][i]}C.w=2R(C.w);C.h=2R(C.h);C=4I(C,\'2M\',\'2M\');C=4I(C,\'9Y\',\'9Y\');if(o.96){if(C.Je>0){C.w=2R(C.Je)}if(C.aZ){if(C.aZ!=\'0 0 0 0\'){C=4I(C,\'9Y\',\'aZ\')}}}B Y=1U("29");if(v.1p.Jg==1&&v.1p.1j==1){o.1p.1Q(Y)}F{o.1S.1Q(Y)}1e=="2F"?o.9u=Y:\'\';B 8l=J;if(C.8j){if(C.8j!=\'1J\'){8l=H}}O(Y,{"1q":"2B","1c":0,"19":0,"1B":1,"ei":"oN","mB":"ku"});if(C.Jh==1){Y.C.4T=C.5k}aK();B 8b=1U("29");O(8b,{"1q":"2B","2N":2E.4a(-C.h/2),"19":2E.4a(-C.w/2)});if(C.7h>0&&C.Ix==1){O(8b,{"2K-6E":C.7h*C.h/2,"1b":C.h,"5J":"3b","4C-3o":"1O"})}if(1Y(C.51)){3V(Y,{"id":(v.id+"r9"+C.51)})}Y.1Q(8b);if(1e==\'2F\'&&v.wJ==1){Kz()}if(C.2y==1){pj()}B 9S=1U("29");iD(0,9S,0.3,(C.4D==1?"3g-4D("+(C.zS==1?"to 19,":\'\')+3r(C.Ji)+", "+3r(C.p8)+")":3r(C.p8)),C.w,C.13H);if(C.Ja==1&&L(C.pY)){B iv=1U("29");iv.1P=C.pY.1R(/\\#J8/g,3r(C.p8));9S.1Q(iv);O(iv,{"1q":"2B","2N":-2E.4a(C.h/2),"19":0,"4C-3o":"1O"});O(9S,{"5J":"3b","2k":"1O"});B x=["Jj","fB","fr","pG","fG"];U(B y=0;y<x.S;y++){B z=iv.Jk("2l "+x[y]);if(z.S>0){U(B y2=0;y2<z.S;y2++){z[y2].C.6q=3r(C.p8)}}}}8b.1Q(9S);B VH=[];B dy=1U("29");B zZ=(C.4D==1?"3g-4D("+(C.zS==1?"to 19,":\'\')+3r(C.Mf)+", "+3r(C.Jm)+")":C.Jm);iD(1,dy,C.Jl,zZ,0,C.Pn);8b.1Q(dy);if(C.7J>0){B eA=1U("29");iD(2,eA,C.Jd,C.PD,0,C.7J);8b.1Q(eA)}B 7v=1U("29");B zQ=(C.4D==1?"3g-4D("+(C.zS==1?"to 19,":\'\')+3r(C.Jc)+", "+3r(C.1o)+")":C.1o);iD(3,7v,C.Jb,zQ,0,C.a);if(C.Ja==1&&L(C.pY)){B pU=1U("29");pU.1P=C.pY.1R(/\\#J8/g,3r(C.1o));O(pU,{"1q":"2B","2N":-2E.4a(C.h/2),"19":0,"4C-3o":"1O"});O(7v,{"5J":"3b","2k":"1O"});7v.1Q(pU)}if(C.5r==1){B cs=1U("29");C=4I(C,\'A3\',\'A3\');C=4I(C,\'z4\',\'z4\');O(cs,{"1q":"2B","2N":C.h/2,"19":0,"4C-3o":"1O","3Q-3J":C.J7*2h(v.7A,1),"1o":C.5n,"2F-1b":"100%","2O-1c":C.OZ,"2O-2N":C.Pd,"2O-19":C.Ph,"2O-2q":C.Pc,"2M-1c":C.P5,"2M-2N":C.Pa,"2M-19":C.P9,"2M-2q":C.Pm,"2K-6E":(C.JC+"px"),"2g":"1O"});if(C.Jr==1){O(cs,{"2k":3r(C.Jp)})}7v.1Q(cs);B kR=J;B Ql=J}o.pH=C.h;8b.1Q(7v);if(C.am==1){B 8r=[];B pM;if(1H IH!=="1F"){B 62=1u IH(Y,8r,w,C,zQ,zZ)}}if(C.3w==1){if(C.fh.6p().K(\'<2l\')==-1){C.fh==\'\'?C.fh="<2l X=\'20\' 1b=\'20\'><g><fG ry=\'5\' rx=\'5\' cy=\'10\' cx=\'10\' 6q=\'#hQ\'/></g></2l>":\'\'}3w=1U("29");3w.1P=C.fh.6p();C=4I(C,\'IG\',\'IG\');O(3w,{"1q":"2B","1c":-10+C.Qk-C.Qi,"19":-2i,"4C-3o":"1O","1b":20,"X":C.fi,"1B":C.wI,"4S":"2V 0.1s 3g, 1B 0.1s 3g"});if(C.kT==1||C.yp==1){O(3w,{"2V":"1K(0)"})}F{if(C.qd!=1){O(3w,{"2V":"1K("+C.qd+")"})}}if(C.Qh==1){O(3w,{"5w":"OJ-ar(4w 4w cS 5p(0, 0, 0, .7))"})}Y.1Q(3w);if(C.zl!=-1){rj(3w,C.zl)}C.IY=3w.2a;if(C.7G==1){7G=3w.Qf(H);Y.1Q(7G);if(C.yT&&C.yT!=-1){rj(7G,C.yT)}}}if(C.bu!=0){O(Y,{"2V":"ro("+C.bu+"yV)"})}if(C.3b==1){1j(Y);4G=J}if(1e=="1J"&&!8l){if(C.1j==1&&C.iO==1){o.iM=H;C.3b=H}F{o.iM=J}}C.aT=0;if(C.bu!=0){C.iK=2E.Lo(C.bu);if(C.iK>45&&C.iK<135){C.aT=90}if(C.iK>PW&&C.iK<IE){C.aT=IS}}if(8l){C.8j?o[\'2F\'+\'3P\'+C.8j]=C.8j:\'\';w=C.w;C.8j=="5m"?6X(1,o.6f.59(-1)[0],"no"):\'\';if(C.8j=="yC"){B pv=v.1J;v.2f?(v.2f.1J?pv=v.2f.1J:\'\'):\'\';6X(pv,1,"no")}}E iD(n,x,y,z,Iy,Iw){O(x,{"1q":"2B","2N":0,"19":0,"X":Iy,"1b":(C[\'h\'+n]>0?C[\'h\'+n]:C.h),"2k":z?(z.K("3g")>-1?z:3r(z)):\'\',"2K-6E":(C.Ix==1?1:C.7h*C.h/2),"1B":Iw,"4C-3o":"1O","4S":"2V 0.2s 5f-in-4A"})}E aK(){bg=1U(C.fp==1?"dH":"29");C=4I(C,\'fA\',\'fA\');B lI=C.h+C.bz+C.b8;B Iu=C.w+C.6Y+C.7k;if(C.bg==1){}F{C.4v=0}C=4I(C,\'kg\',\'kg\');if(v.1p.ju==1||C.ju==1){C.4B=\'#nX\';C.bg=1;C.4v=0.5}O(bg,{"1q":"2B","1c":0,"19":0,"X":Iu,"1b":lI*C.zM,"Al":(C.qO*lI)/2,"2k":4x(C.4B,C.4v),"aL":"2A","4S":"1B .1s 3g, 2k .1s 3g"});if(C.7Q==1){O(bg,{\'dS-5w\':\'7Q(9h)\'})}if(C.lH==1){O(bg,{"2K":2h(C.IJ,1)+"px 6x #"+C.lG})}if(C.2o==1){if(C.lE==1){O(bg,{"6R":"4C"})}if(!o.1g.2e||v.gx==1){bg.fC=8R;bg.IB=fD;bg.IK=fE;bg.lC=ey}if(C.fp==1&&1Y(C.fm)){3V(bg,{"fm-7q":C.fm})}}F{O(bg,{"6R":"7f"})}if(!o.1g.2e){bg.lJ=6b;bg.lC=ey;bg.lF=5u}if(o.1g.zF&&C.2o==1){bg.1v("g5",E(1d){1d.6J=H;if(!L(1d.5V)&&1d.8m.S>0){1d.5V=1d.8m[0].lp;1d.9U=1d.8m[0].mo}o.vS=H;qD=1d;6b(1d);fE(1d)},{5H:J});bg.1v("g7",E(1d){1d.6J=H;o.3G=J;1w(E(){o.vS=J},4r);5u(1d);fD(qD)},{5H:J});bg.1v("2o",E(1d){1d.6J=H});bg.1v("db",E(1d){if(!L(1d.5V)&&1d.8m.S>0){1d.5V=1d.8m[0].lp;1d.9U=1d.8m[0].mo}qD=1d;o.3G=H;ey(1d);if(o.1g.zF){fE(1d)}},{5H:J})}O(bg,{"19":2E.qB(-C.w/2-C.6Y)});O(bg,{"1c":2E.qB(-C.h/2-C.bz+C.IV-C.J2)});if(C.J1==1){yO(bg,C.4B,C.J0,C.IZ)}Y.1Q(bg)}E 2n(X){if(X!=w){w=X;o.zx=w;B bo=w/9S.2a;O(bg,{"X":(w+C.6Y+C.7k),"19":-w/2-C.6Y,});O(8b,{"19":-w/2});O(9S,{"X":w});O(8b,{"X":w});B xx=dy.2a*bo;if(xx>9S.2a){xx=9S.2a}O(dy,{"X":xx});B wp=7v.2a*bo;O(7v,{"X":wp});dU(wp);if(1e=="2F"){KJ()}if(C.am==1){if(62){B p=62.IQ(w,wp);kn(p)}F{kn(0)}}if(o.6r){o.6r.2n()}}}E kn(p){if(p>0){1j(8b);pM=H}F{if(pM){1n(8b);pM=J}}}E dU(x,y){if(C.3w==1){B bV=C.IY/2;if(x<bV&&C.fi!=20){x=bV}if(x>w-bV&&C.fi!=20){x=w-bV}B x2=x-w/2-bV+C.Nj-C.Nk;if(x2>w/2-bV){x2=w/2-bV}if(y==2){7G?O(7G,{"19":x2}):\'\'}F{O(3w,{"19":x2})}}}E pV(x){O((x==2?7G:3w),{"2V":"1K("+C.qd+")"})}E 6b(1d){o.Q.kw(1a,"6K");if(C.bg==1){if(C.7n!=-1){B m=1u 5a({"mc":bg,"1I":"7s","to":C.7n,"18":0.1,"me":(1a+"bg")})}if(1Y(C.8O)){O(bg,{"2k-1o":C.8O})}}if(1Y(C.Ag)){O(7v,{"2k-1o":C.Ag})}if(C.3w==1){if(C.IX==1&&L(C.zT)){if(C.qC==1&&3G){}F{3w.1P="<2l X=\'"+C.fi+"\' 1b=\'20\' 4h:4e=\'3T://4g.w3.47/7C/4e\' 4h=\'3T://4g.w3.47/4p/2l\'>"+C.zT.6p()+"</2l>"}}if(C.kT==1){if(C.yp==1&&!o.1z){}F{pV()}}F{if(C.pk!=-1){B m2=1u 5a({"mc":3w,"1I":"7s","to":C.pk,"18":0.1,"me":(1a+"3w")})}}if(7G){pV(2);dU(7u(1d.5V)-7X,2)}}if(C.2y==1&&(o.P.1l()>0||1e=="1J"||8l)){ki()}if(C.fj>0){O(bg,{"2V":"3H("+((C.fj-1)/5+1)+")"});wV(C.fj)}if(C.3w==1&&C.ye==1){dU(7u(1d.5V)-7X)}if(1e=="1J"){o.V.5N(H);o.5N=H}6K=H;o.f5=H}E wV(x){O(9S,{"2V":"3H("+x+")"});O(dy,{"2V":"3H("+x+")"});eA?O(eA,{"2V":"3H("+x+")"}):\'\';O(7v,{"2V":"3H("+x+")"})}E 5u(){if(!rp){if(C.7J>0){O(eA,{"X":0})}if(1Y(C.Ag)){O(7v,{"2k-1o":C.1o})}if(C.bg==1){if(C.7n!=-1){B m=1u 5a({"mc":bg,"1I":"7s","to":C.4v,"18":0.1,"me":(1a+"bg")})}if(1Y(C.8O)){O(bg,{"2k-1o":C.4B})}}if(C.3w==1){if(C.IX==1&&L(C.zT)){if(C.qC==1&&3G){}F{3w.1P="<2l X=\'"+C.fi+"\' 1b=\'20\' 4h:4e=\'3T://4g.w3.47/7C/4e\' 4h=\'3T://4g.w3.47/4p/2l\'>"+C.fh.6p()+"</2l>"}}if(C.kT==1){O(3w,{"2V":"1K(0)"})}F{if(C.pk!=-1){B m2=1u 5a({"mc":3w,"1I":"7s","to":C.wI,"18":0.1,"me":(1a+"3w")})}}if(7G){O(7G,{"2V":"1K(0)"})}}if(C.fj>0){O(bg,{"2V":"3H(1)"});wV(1)}if(1e=="1J"&&!o.1Z){o.V.5N(J);o.5N=J}o.Q.kw(1a,"4A")}if(C.am==1&&62){62.4A()}if(C.2y==1&&(o.P.1l()>0||1e=="1J")){pC()}if(o.rk&&1e=="2F"){o.th.1j();o.IW=-1}6K=J;o.f5=J}E 8R(1d){1d.6J=H}E IU(1d){1d.6J=H}E fD(1d){if(1e=="1J"){if(o.9F){rp=H;2C(wW);wW=1w(E(){rp=J;5u()},2i)}}wk();o.3G=J;if(C.3w==1){if(C.qC==1&&L(C.xk)){3w.1P="<2l X=\'20\' 1b=\'20\' 4h:4e=\'3T://4g.w3.47/7C/4e\' 4h=\'3T://4g.w3.47/4p/2l\'>"+C.fh.6p()+"</2l>"}}cZ(1d.5V,1d.9U);o.Q.fL(1a);o.Q.g4(1d.5V,1d.9U);x5();1d.6J=H}E fE(1d){3G=H;if(C.3w==1){if(C.qC==1&&L(C.xk)){3w.1P="<2l X=\'20\' 1b=\'20\' 4h:4e=\'3T://4g.w3.47/7C/4e\' 4h=\'3T://4g.w3.47/4p/2l\'>"+C.xk.6p()+"</2l>"}}fI=7u(lM(bg));7X=7u(ha(bg));cZ(1d.5V,1d.9U);if(C.wm==1){if(C.IP==1&&o.1t){6I=H;o.P.3e(\'ay\')}}6X(2o,1,"no")}E cZ(e9,ej){B x;e9=7u(e9);ej=7u(ej);B IT=2E.5t(22.rn.bD,22.3z.bD);B IM=2E.5t(22.rn.ep,22.3z.ep);if(o.1g.2e){}F{ej=ej+IM;e9=e9+IT}if(C.aT>0){x=ej-fI-C.7k;2o=x/w;if(C.aT==IS){x=ej-fI-C.6Y;2o=x/w;2o=(2o-1)*-1}}F{x=e9-7X-C.6Y;2o=x/w;if(C.bu>134&&C.bu<Ns){x=e9-7X-C.7k;2o=x/w;2o=(2o-1)*-1}}2o>1?2o=1:\'\';2o<0?2o=0:\'\'}G.IR=E(){if(62){B p=62.IQ(w);kn(p)}};G.ko=E(){if(62){B p=62.eH(w);kn(p)}};E wk(){3G=J;x5()}E x5(){if(C.wm==1){if(C.IP==1&&6I){6I=J;o.P.2z(\'ay\')}}}E ey(1d){7X=7u(ha(bg));if(C.7J>0){B 3N=7u(1d.5V)-7X;O(eA,{"X":3N});if(C.am==1){62?62.Nh(3N):\'\'}}if(C.2y==1&&(o.P.1l()>0||1e=="1J"||8l)){ki();fI=lM(bg);cZ(1d.5V,1d.9U);if(1e=="2F"){if(v.N1==1){if(o.P.6o()&&o.P.de().K("?wb")>0){2S.1P=\'- \'+fW((1-2o)*o.P.1l(H))}F{2S.1P=fW(2o*o.P.1l())}}F{B d=o.P.1l();if(v.4M>0){d=d-v.4M*1}B 8C=\'\';if(C.am==1&&62){8C=62.2y(2o*d);8C!=\'\'?8C=8C+\'<br>\':\'\'}if(o.eh&&o.IO){2S.1P=o.eh.Tm(o.IO+2o*d*2i)}F{2S.1P=8C+fW(2o*d)}}}if(1e=="1J"||8l){2S.1P=yA(2o)}9y(1d)}if(o.rk&&1e=="2F"&&o.th){wy=1d;if(!fO||v.IN!=1){wA()}if(v.IN==1){2C(fO);fO=1w(wA,50)}}if(C.3w==1){(C.ye==1||3G)?dU(7u(1d.5V)-7X):\'\';if(7G){dU(7u(1d.5V)-7X,2)}}}E wA(){2C(fO);fO=1F;if(C.2y==0){fI=7u(lM(bg));7X=7u(ha(bg));cZ(1d.5V,1d.9U)}6K?o.th.bn(wy,w,2o,7X):\'\'}E 9y(1d,t,l){B tw=2S.2a;B 19=(-w/2+(7u(1d.5V)+22.rn.bD-7X)-tw/2)+(l?l:0);B l3=0;if(v.A1!=1){if(19+w/2+tw+10>o.2T){l3=19;19=o.2T-w/2-tw-10}if(19+o.2T/2<0){l3=19;19=-o.2T/2}}if(19>w/2-tw/2){19=w/2-tw/2}if(19<-w/2){19=-w/2}B x={"1c":(-2S.2Q-C.JH*1-C.qn-C.xK)-(C.J5==1?(C.h/2)*(C.fj>0?C.fj:1):0)+(t?t:0),"19":19};O(2y,x);if(C.fy==1){O(8X,{\'1q\':\'2B\',\'19\':2S.2a/2-4+(l3!=0?l3-19:0),\'1c\':2S.2Q-6})}}G.ki=E(e,x,t,l){ki();2S.1P=x;9y(e,t,l)};E ki(){if(!5F(2y)||2y.C.1B==0){1n(2y);O(2y,{"1B":1})}}G.pC=E(){pC()};E pC(){1j(2y);O(2y,{"1B":0})}G.c=E(){I Y};G.s=E(1a){I C[1a]};G.ss=E(x,x2){I C[x][x2]};G.g=E(x){cT(x){1k"X":I w;1h;1k"MJ":I 9S.2a;1h;1k"1b":I C.h;1h;1k"x":I 5v(Y.C.19);1h;1k"y":I 5v(Y.C.1c);1h;1k"1B":I Y.C.1B?Y.C.1B:1;1h;1k"1n":I 4G;1h;1k"3x":I 3x;1h;1k"3H":I 3H;1h;1k"1e":I 1e;1h;1k"1a":I 1a;1h;1k"x0":I x0;1h;1k"y0":I y0;1h;1k"2o":I 2o;1h;1k"fT":I 8l;1h;7f:I J}};G.1T=E(1a,x){cT(1a){1k"1n":4G=x;1h;1k"3G":3G=x;1h;1k"2g":1e=="2F"||C.1j==1?O(Y,{"5W":(x?"4G":"3b")}):O(Y,{"2g":(x?"4q":"1O")});4G=x;1h;1k"3x":O(Y,{"2V":"3x("+x+")"});3x=x;1h;1k"3H":O(Y,{"2V":"3H("+x+")"});3H=x;1h;1k"1B":O(Y,{"1B":x});1h;1k"19":O(Y,{"19":x});1h;1k"1c":O(Y,{"1c":x});1h;1k"2o":2o=x;1h;1k"eO":C.eO=x;1h;1k"X":O(Y,{"X":x});1h;1k"1b":O(Y,{"1b":x});1h;1k"wn":C.MK=x;1h;1k"x":O(Y,{"19":x});1h;1k"y":O(Y,{"1c":x});1h;1k"x0":x0=x;1h;1k"y0":y0=x;1h}};G.2n=E(x){2n(x)};G.o8=E(x){};G.g8=E(bG,bR){if(3G){if(1e=="1J"||8l||C.wm==1){cZ(bG,bR);o.Q.fL(1a)}if(1e=="1J"){o.9F=H}cZ(bG,bR);6X(2o,1,"no")}};G.g4=E(bG,bR){if(3G){wk();3G=J;cZ(bG,bR);o.Q.fL(1a);6X(2o,1,"no")}};E 6X(18,1l,x){18<0?18=0:\'\';if(v.4M>0&&1l>1){1l=1l-v.4M;18=18-v.4M}if(C.3w==1&&C.yp==1&&C.kT!=1){if(!C.JI&&18>0){pV();C.JI=H}}if(3G&&1l!=1){}F{B 3N;if(1l>0&&18>0){if(18>1l){18=1l}3N=w*(18/1l);if(3N==7v.2a){3N=-1}}F{3N=0}if(3N>=0){O(7v,{"X":3N});if(C.ye==1&&6K&&!x){}F{dU(3N)}if(C.am==1){if(62){62.c0(3N)}}}if(L(cs)){if(1l<2&&1e=="2F"){if(kR){3a(cs);kR=J}}F{if(!kR){5i(cs);kR=H}cs.1P=1e=="2F"?4b(18==0?1l:18):yA(18)}}}};G.6X=E(18,1l,x){if(1l!=Kn||18!=KE||x){6X(18,1l,x)}};G.KD=E(){2o>1?2o=1:\'\';2o<0?2o=0:\'\';O(7v,{"X":(2o*w)})};G.KC=E(18,1l){B 3N=0;if(1l>0&&18>0){3N=w*(18/1l);3N>w?3N=w:\'\';O(dy,{"X":5v(3N)});KB=1l;yv=18;if(C.am==1){if(62){62.8N(3N)}}}F{yv=0;O(dy,{"X":0})}if(C.am==1){if(62){62.8N(3N)}}};G.kW=E(x){if(C.6r==1){if(!o.6r){if(x!=0){if(1H KA!=="1F"){o.6r=1u KA(Y,C,x);o.ao=H}}}F{if((!L(x)||x==0)&&o.ao){o.6r.1j();o.ao=J}F{if(!o.ao||(L(x)&&x!=1&&x!=0)){o.6r.y7(x);o.ao=H}}}}};E Kz(){o.bn=1U("29");O(o.bn,{\'1q\':\'2B\',\'19\':0,\'1c\':0,\'X\':v.Ky,\'1b\':v.Ku,\'5J\':\'3b\',"4C-3o":"1O","2k-1o":"#g2","2K-6E":v.Kt+\'px\',"2g":"1O"});o.bn.id="O9"+v.id;if(v.Kq==1){O(o.bn,{"2K":v.Kp+"px 6x "+xq(\'1o\',v.KG)})}if(v.KR==1){O(o.bn,{"7F-ar":"hY 4w ls 5p(0,0,0,0.5)"})}o.bn.C.4T="kL";Y.1Q(o.bn)}E pj(){2y=1U("29");O(2y,{\'1q\':\'2B\',\'19\':0,\'1c\':0,\'1b\':\'2A\',"4C-3o":"1O","1B":0,"4S":"1B 0.1s 3g"});C=4I(C,\'kr\',\'kr\');2S=1U("29");O(2S,{\'1q\':\'2B\',\'2O-19\':C.xf,\'2O-2q\':C.KW,\'2O-1c\':C.qn,\'2O-2N\':C.xK-1,\'1D-8U\':\'8v\',\'1o\':C.xY,\'3Q-er\':eq(C.xT),\'3Q-3J\':C.xz*2h(v.7A,1),\'lr-gt\':C.xr+\'px\',\'2F-1b\':"1",\'2k-1o\':4x(C.lq,C.ly),\'2K-6E\':C.xu});C.KU?C.fy=C.KU:\'\';if(C.fy==1){8X=1U("29");8X.1P=\'<2l X="9h" 1b="xA" xB="0 0 8 6" 8P="1.1" 4h="3T://4g.w3.47/4p/2l" 4h:4e="3T://4g.w3.47/7C/4e"><fB id="KQ" 3D="1O" 6q="\'+3r(C.lq)+\'" 6q-KI="KK" 8r="0 0 8 0 4 6"></fB></2l>\'}Y.1Q(2y);2y.1Q(2S);if(C.fy==1){2y.1Q(8X);O(8X,{\'1B\':C.ly})}2y.C.4T="2i"};E KJ(){if(o.3v&&v.cI==1&&!o.1z&&!2o){B f=o.3v.bB();if(f.t&&f.d){o.qP=f.d;6X(f.t,f.d)}}};E yA(x){B y=2E.4a(x*100);if(1e=="1J"){if(v.p6>1&&!8l){y=y*v.p6+\'%\'}}if(8l){if(o.kz){I(8l&&1Y(C.2S)?C.2S+\'&fF;\':\'\')+4d(x*o.6f.59(-1)[0]).yt(1)}if(o.KH){I(8l&&1Y(C.2S)?C.2S+\'&fF;\':\'\')+o.yC}}I y};G.4y=E(){Y.3n(8b);if(bg){bg.dZ("fC");bg.dZ("lJ");bg.dZ("lF");bg.3M.3n(bg);bg=28}if(3w){Y.3n(3w)}if(7G){Y.3n(7G)}if(Y.3M==o.1S){o.1S.3n(Y)}F{if(o.1p){if(Y.3M==o.1p){o.1p.3n(Y)}}}Y=28}};B yJ=E(1c){B i;B C=[];B w;B h;B 4G=H;B 3x=1;B 3H=1;B x0=0;B y0=0;B bw=5R(mY,Oz);B 1e,1a="bg";B 1I="Ox";if(1c==H){C["1q"]=\'1c\';C.h=2h(v.1p.Ow,50);C.a=2h(v.1p.Ov,0.5);C.1o=2h(v.1p.Os,\'#g2\')}F{C["1q"]=v.1p.1q;U(B k in v.1p){if(v.1p.2v(k)){C[k]=v.1p[k]}}}if(C.1n==0){v.1p.h=C.h=0;C.2O=C.2M="0 0 0 0";C.4D=0}C["1K"]=1;C=4I(C,\'2M\',\'2M\');if(1Y(C.K3)&&o.96){C=4I(C,\'2M\',\'K3\')}if(C.O7==1){C.4j+=\'%\';C.4u+=\'%\'}B Y=1U("29");if(C.7Q==1&&C.4D==0){C.a<1?C.wB=C.a:C.wB=0.2;v.1p.a=C.a=1}F{C.7Q=0}O(Y,{\'1q\':\'2B\',\'19\':0,\'1c\':0,\'X\':(C.lT==1||1c?\'100%\':o.bb),\'1B\':C.a,\'4C-3o\':\'1O\',\'ei\':\'oN\',\'mB\':\'ku\'});o.1S.1Q(Y);B bg=1U("29");O(bg,{\'1b\':C.h-(C.1q!=\'1c\'?C.e4+C.8x:0),\'2g\':\'4q\',\'2M-19\':C.4j,\'2M-2q\':C.4u,\'2K-6E\':C.7h});if(C.lS>0){B lS=\'4w 6x \'+4x(2h(C.NC,\'3y\'),C.lS);if(C.ND==1){O(bg,{\'2K-1c\':lS})}F{O(bg,{\'2K\':lS})}}Y.1Q(bg);w=Y.2a;v.dW=-C.8x;if(C.4D==1||1c){if((C.1o==\'3Y\'||v.1p.9A!=\'\')&&!1c&&C.e4==0){if(C.1q!=\'1c\'){v.dW=98-C.h}B 3O=\'26:9A/wj;ll,NF+NH/T/D+NI/NM/NO==\';if(v.1p.9A.K("26:9A")>-1){3O=v.1p.9A}O(bg,{\'1b\':C.h+(C.1q!=\'1c\'?v.dW:0),\'2k\':\'17(\'+3O+\') gN-x 50% 100%\',\'2k-3J\':\'2A\'})}F{B ht=(1c?\'to 1c, \':\'to 2N, \')+4x(C.1o,0)+\', \'+4x(C.1o,1);O(bg,{\'2k\':\'-mf-3g-4D(\'+ht+\')\',\'2k\':\'-3C-3g-4D(\'+ht+\')\',\'2k\':\'-ms-3g-4D(\'+ht+\')\',\'2k\':\'-o-3g-4D(\'+ht+\')\',\'2k\':\'3g-4D(\'+ht+\')\'})}}F{if(C.7Q==1){O(Y,{\'dS-5w\':\'7Q(9h)\'});O(bg,{\'1B\':C.wB})}O(bg,{\'2k-1o\':C.1o})}if(1c){O(Y,{"4S":"1B 0.2s 5f-4A"})}G.h=E(){I C.h-(C.1q!=\'1c\'?C.8x:0)};G.c=E(){I Y};G.s=E(1a){I C[1a]};G.g=E(x){if(Y){cT(x){1k"w":Y.2a>0?w=Y.2a:\'\';I w;1h;1k"X":I Y.2a;1h;1k"1b":I Y.2Q;1h;1k"x":I 5v(Y.C.19);1h;1k"y":I 5v(Y.C.1c);1h;1k"1B":I Y.C.1B?Y.C.1B:1;1h;1k"1n":I 4G;1h;1k"3x":I 3x;1h;1k"3H":I 3H;1h;1k"1a":I 1a;1h;1k"x0":I x0;1h;1k"y0":I y0;1h;1k"bw":I 1a+bw;1h;7f:I J}}F{I J}};G.1T=E(1a,x){cT(1a){1k"1n":4G=x;1h;1k"w":w=x;1h;1k"2g":O(Y,{"2g":(x&&v.wf!=1?"4q":"1O")});4G=x;1h;1k"1K":O(Y,{"2V":"1K("+x+")"});3x=x;3H=x;1h;1k"3x":O(Y,{"2V":"3x("+x+")"});3x=x;1h;1k"3H":O(Y,{"2V":"3H("+x+")"});3H=x;1h;1k"1B":O(Y,{"1B":x});1h;1k"19":O(Y,{"19":x});1h;1k"1c":O(Y,{"1c":x});1h;1k"X":O(Y,{"X":x});1h;1k"1b":O(Y,{"1b":x});1h;1k"x":O(Y,{"19":x});1h;1k"y":O(Y,{"1c":x});1h;1k"x0":x0=x;1h;1k"y0":y0=x;1h}};G.4y=E(){o.1S.3n(Y);Y=28}};if(1H(2G)=="4O"){JV()}o.G=G;if(2G.id){if(22.gZ(2G.id)){vX()}F{22.1v(\'O6\',hP)}}F{1H JS==\'E\'?JS():\'\'}E vX(){if(L(2G.id)){if(22.gZ(2G.id)){if(!Mc(22.gZ(2G.id))||2G.4G==1){2G.NZ==1?1w(hP,50):hP()}F{1w(vX,50)}}}}E hP(){U(B i=0;i<1A.5d.S;i++){if(L(1A.5d[i])){if(1A.5d[i].2U("id")==2G.id){if(1A.5d[i].2U("8w")){1A.5d[i].2U(\'2J\')}}F{if(v.NR==1&&1A.5d[i].2U("v","3m")==1){2G.3m=0}}}}1A.5d.2Y(o.G);B 2J=J;o.v0=l2(v);2G.bp?2G.3k=2G.bp:\'\';if(L(2G.3k)){U(B i=2;i<10;i++){if(2G.3k==i&&o[\'u\'+i]!=\'\'){v=cM(v,5E.7m(hB(o[\'u\'+i])));2J=H}}}if(o.u!=\'\'&&!2J){v=cM(v,(1H o.u!="3L"?5E.7m(hB(o.u)):o.u))}if(1H(NY)!="E"){U(B 1a in 2G){if(2G.2v(1a)){if(1a.K("JR")==0||JQ(1a)){2G[1a]=28}}}}v=cM(v,2G);o.1L=22.gZ(v.id);if(v.kN==1&&v.NS==1&&1H(wc)=="E"){sH(o.1L,"R3");if(!wc()){1A.22.1v("6U",wc,{5H:J})}}F{JP()}}E JP(){B wZ=v.2b;if(v.R5==1&&L(v.2b)&&L(wZ)){v.2b!=\'\'?v.2b=wZ:\'\'}if((!L(v.3j)||v.3j==\'\')&&v.Tn==1){1m(\'5Q\');I}if(v.JO==1||v.xb==1){1A.1v(\'aS\',E(1d){B x=1F;B y;L(1d.26.18)?x=1d.26.18:\'\';L(1d.26.1J)?x=1d.26.1J:\'\';L(1d.26.JN)?y=1d.26.JN:\'\';L(1d.26.2U)?y=1d.26.2U:\'\';if(y&&1Y(v.JM)){B pm=v.JM.1R(/\\s+/ig,\'\').2u(\',\');if(pm.K(y)==-1){I}}if(v.xb==1){if(1H(JL)=="E"){JL(1d)}}if(y&&o.8K){if(L(1d.26.1T)){x=1d.26.1T}B z=3l(y,x);1A.a1.mg({1d:y,U5:z},\'*\')}})}U(B 1a in o.hK){if(o.hK.2v(1a)){o.hK[1a]!=\'\'?o.lO+=o.hK[1a]+\' \':\'\'}}1m(o.8P+\' \'+o.lO);1A.fc=v.id;o.d=8W.wN;o.hs=8W.U8;if(!v.54&&7r([o.hs],\'#1t-\')){v.54=o.hs.1i(o.hs.K(\'#1t-\')+6)}if(a1){B oz=J;2X{if(a1){if(a1.22){B oA=a1.22.9i("K1");U(B i=0;i<oA.S;i++){if(oA[i].l8===1A){o.8H=oA[i];o.ow=H;v.JT!=1?O(o.8H,{"2K":"1O"}):\'\';o.K2=o.8H.C;1m("eC")}}}F{oz=H}}}2D(eJ){oz=H}if(oz){o.ow=H;1m("Uo-kS")}}o.ow&&22.nW?o.kS=22.nW.2u(\'/\')[2]:\'\';!o.Kd?Kk():\'\';if(1H(Kj)=="E"){if(Kj()){I}}o.8K=H;Ki();B Kh=1u 6N();if(Kh.Ul()==20){if(5R(1,20)==10&&v.Uj!=0){yL(o.zi,o.zi);1w(E(){if(1A.ga){ga(\'hM\',\'UA-Ui-6\',\'2A\',{\'6l\':\'6T\',\'Ue\':H});ga(\'TW\',\'Ke\');ga(\'Ke:Tr\',[o.d]);ga(\'6T.eS\',\'1d\',{Ty:\'zX\',Tz:\'hP\',TA:o.d})}},l6)}}if(!o.1L){v.1m=1;1m(\'id "\'+v.id+\'" hO ob\');I J}o.1L.1P=\'\';O(o.1L,{\'2O\':0,\'TB-gt\':\'hV\'});o.9p=o.1L.2Q;o.9n=o.1L.2a;if(L(v.l9)&&!L(v.5b)){if(L(v.l9.5b)){v.5b=v.l9.5b}if(L(v.l9.oB)){v.oB=v.l9.oB}}if(o.1L.C.X.K("%")>-1){o.TS=o.1L.C.X}if(v.5b=="7e"||o.1L.C.1b.K("%")>-1){v.5b="%";o.nz=o.1L.C.1b;o.9p=0}if(o.9n==0){if(o.1L.C.X.K("px")>0){o.9n=2R(o.1L.C.X)}F{if(o.1L.3M.C.X.K("px")>0){o.9n=2R(o.1L.3M.C.X)}F{if(o.1L.3M.3M.C.X.K("px")>0){o.9n=2R(o.1L.3M.3M.C.X)}}}}if(7B(v.5b).K("x")>0){o.5b=v.5b.2u("x")[0]/v.5b.2u("x")[1];if(o.9p==0){o.9p=o.9n/o.5b}}F{o.5b=0}O(o.1L,{\'1q\':\'eN\',\'7F-lP\':\'zA-7F\',\'1D-8U\':\'19\',\'-3C-K9-hz\':\'1O\',\'zN\':eq(\'p3-p0\'),\'91-1b\':15,\'ei\':14*2h(v.7A,1),\'2F-1b\':\'ku\',\'GG\':\'GP\',\'1o-K7\':\'1O\'});if(v.ar==1){O(o.1L,{\'7F-ar\':\' 0 JJ TO 5p(50,50,93,.1), 0 ls JJ 5p(0,0,0,.Uv)\'})}if(o.5b>0){O(o.1L,{\'1b\':o.9p})}F{O(o.1L,{\'1b\':o.9p==0?o.nz:o.9p})}if(o.9n==0){O(o.1L,{\'X\':\'100%\'})}o.1S=1U("29");O(o.1S,{\'1q\':\'2B\',\'7F-lP\':\'zA-7F\',\'7E\':v.oP,\'1o\':\'#3y\',\'X\':\'100%\',\'1b\':\'100%\',\'19\':0,\'1c\':0,\'ei\':\'oN\',\'2F-1b\':\'ku\'});if(v.A1!=1){o.1S.C.5J=\'3b\'}if(v.V7==1){o.1S.C.7E=\'ez\'}o.O=22.1U(\'C\');o.O.1I=\'1D/O\';o.1S.1Q(o.O);o.1S.7d("id",\'Vl\'+v.id);kj(1);if(1A.Ir){B Ha=1u Ir(E(e){if(e[0].z6.S>0){U(B i=0;i<e[0].z6.S;i++){if(e[0].z6[i]==o.1S){qH()}}}});Ha.Ve(o.1L,{Vd:H})}o.eX=1U(\'eC\');3V(o.eX,{"id":"GK"+v.id,"GL":"no","1G":"GK"+v.id,"GJ":"H","GI":"H","GF-o6":"H"});O(o.eX,{\'1q\':\'2B\',\'X\':\'100%\',\'1b\':\'100%\',\'2K\':0,\'4C-3o\':\'1O\'});if(v.2K==1){if(v.V6==1){O(o.eX,{"7F-ar":"hY hY hY "+v.zC+"px "+v.8F+" V5",\'4T\':2})}F{O(o.1L,{\'2K\':v.zC+\'px 6x \'+v.8F})}}if(!22.UC(\'.Aa\')){B 1C="";if(v.GD==1){U(B i=1;i<6;i++){if(1Y(v[\'1o\'+i])){1C+=\'--UK\'+i+\':\'+4x(v[\'1o\'+i],v[\'6D\'+i+\'a\'])+\';\'}}}hN("53, 53 > *{2k:1O;2K:0;-3C-UM-5W: 3b;1q: nd;1c: 2A;19: 2A;5J:4G;GG:GP!6e;5t-X:1O!6e;eE-1e: UY;2V-V4: 8v 8v;7F-lP:zA-7F!6e;-3C-H0-H7-1o: 5p(0,0,0,0);-3C-H0-H7-1o: ez;1D-V2:0!6e;"+1C+"} 53 3O{5t-X:1O} 53 > *:6i{V0: 1O} 53,53 a,53 a:UQ,53 a:UV,53 a:ew,53 a:a0,53 a:6i{1o:#hQ;3Q-3J:100%;}53 eC{2K:0}53 eC{2g:4q!6e;5t-1b:1O!6e;2k:ez}.Aa{}53 2l{2M:0;2g:bC}53 za{2g:1O}");o.1S.7d(\'UU\',\'Aa\')}o.1S.1Q(o.eX);o.5o?o.5o.2U(\'8K\'):\'\';o.1L.UR=E Ux(e){o.ng++;if(o.ng==5){v.1m=1;1m(o.8P+\' \'+o.lO+\' \'+o.lA)}if(!e)B e=1A.1d;e.6J=H;if(e.b5)e.b5();B x=e.lp-ha(o.1S);B y=e.mo-lM(o.1S);if(v.Tl==1){if(L(v.o2)){if(4U(v.o2)!=\'\'){o.yP=v.o2;L(v.GZ)?o.gr=v.GZ:\'\';v.o2==\'1O\'?o.gr=o.d:\'\'}}}sh(x,y);I J};E sh(x,y){if(o.gr.K(o.d)==-1||v.GW==1||v.4V==1){if(!L(o.4V)){!v.nF?v.nF="3Y":\'\';!v.sC?v.sC="3y":\'\';o.4V=1U(\'29\');B 1C;B n=0;U(B i=0;i<10;i++){if((v[\'rm\'+i]==1&&v.4V==1)||i==9){if((L(v[\'rm\'+i+\'t\'])&&L(v[\'rm\'+i+\'a\'])||i==9)){1C=1U("tY");if(i==9){if(v.RL!=1){1C.vV=o.yP+(v.GU==1?" "+o.8P:\'\')}F{1h}}F{1C.vV=v[\'rm\'+i+\'t\']}if(i!=9){if(v[\'rm\'+i+\'a\'].K(",0/1")>-1||v[\'rm\'+i+\'a\'].K(",1/0")>-1){B z=v[\'rm\'+i+\'a\'].2u(\',\');1C.vV+=\' (\'+(3l(z[0].1i(4))==1?2L(\'on\'):2L(\'7e\'))+\')\'}if(v[\'rm\'+i+\'a\'].K("3d")==0){o.hm=H;!o.3d?o.Q.GT():\'\'}}1C.7d("i",i);FW(1C);1C.1v("2o",G5);o.4V.1Q(1C);n++}}}O(o.4V,{"1D-2V":"RQ","2F-1b":"1","bK-9r":"eg","2k":4x(v.nF,0.7)});if(n>1){O(o.4V,{"2O":"ls"})}o.4V.C.4T="RR";o.4V.lC=G6;o.1S.1Q(o.4V)}F{5i(o.4V)}O(o.4V,{"1q":"2B","1c":y,"19":x,"1D-8U":"19"});B zL=J;if(o.2T-x<o.4V.2a-20&&v.A1!=1){O(o.4V,{"19":x-o.4V.2a});zL=H}if(v.RS==1||zL){O(o.4V,{"1D-8U":"2q"})}o.HO=x;o.G4=y;2C(o.nb);o.nb=1w(E(){3a(o.4V)},4p)}}E G6(){2C(o.nb);o.nb=1w(E(){3a(o.4V)},4p)}E G5(e){B i=e.4c.6t("i");B y;B sb=J;if(i>0){if(i==9){o.gr!=\'\'?1A.2H(o.gr):\'\'}F{B x=v[\'rm\'+i+\'a\'];if(x){if(x.K("2U:")==0){if(x.K(",0/1")>-1||x.K(",1/0")>-1){B z=x.2u(\',\');B b=o.Q.sq(x,"3f");B u=3l(z[0].1i(4),z[1],b);js(z,u);sl();sh(o.HO,o.G4);sb=H}F{y=x.2u(",");3l(y[0].1i(4),(L(y[1])?y[1]:28))}}if(x.K("3d:")==0&&o.3d){o.3d.2U(x.1i(6))}if(x.K("js:")==0){y=x.2u(",");2j(y[0].1i(3)+\'(\'+(L(y[1])?\'"\'+y[1]+\'"\':\'\')+(L(y[2])?\',"\'+y[2]+\'"\':\'\')+\')\')}if(x.K("17:")==0){x=x.1R(/\\(17\\)/g,G2());x=x.1R(/\\(S1\\)/g,FY(L(v.FX)?v.FX:22.nW));x=x.1R(/\\(1G\\)/g,o.cB);x=x.1R(/\\(7q\\)/g,v.7q);1A.2H(x.1i(4))}}}!sb?3a(o.4V):\'\'}}E FW(x){O(x,{"2O":"FV ls","3Q-3J":(v.FU?v.FU:"55")*2h(v.7A,1)+"%","lr-gt":"0.Rm","1B":0.9,"1o":v.sC});x.1v("go",G9);x.1v("gw",G1)}E G9(e){O(e.4c,{"1B":1});O(e.4c,{"2k":4x(v.nF,0.5)})}E G1(e){O(e.4c,{"1B":0.9});O(e.4c,{"2k":"1O"})}o.1g=1u Ga();if(o.1g.4E){B sK=(v.Gl==1?\'*::-3C-P-Q-1z-Rc-dH {2g: 1O!6e;-3C-rR: 1O;}\':\'\');if(v.lQ==1&&v.Gs!=1&&(v.Gq!=1||!o.1g.7M)&&(v.Gp!=1||!o.1g.lV)){}F{if(o.1g.4E&&v.h7==1){}F{sK+=\'gR::-3C-P-Q {2g:1O !6e;}*::-3C-P-Q-Rj {2g: 1O!6e;-3C-rR: 1O;}*::7i(3C-P-Q-1t-dH){2g: 1O!6e;-3C-rR: 1O;}\'}}B 1C=22.1U(\'C\');1C.1I=\'1D/O\';1C.1Q(22.Gn(sK));o.1S.1Q(1C)}if(o.1g.Gm){v.3m==1&&v.Rl==1?v.3m=0:\'\'}if(o.5b==0){if(o.1S.2Q==15&&!o.nz&&v.L0>0){O(o.1L,{"1b":v.L0})}}if(L(v.kJ)){v.W.di=v.kJ}if(L(v.oD)){v.W.o7=v.oD}if(L(v.1z)){o.2c=v.1z}if(L(1A.Gk)&&v.RB==1){1A.Gk(gB)}F{gB()}}E gB(){1m("gB");o.V=1u Gc();if(!v.3j){v.3j="?"}if(v.pl){v.3j=v.pl+o.e1}o.Ry=kv();o.Gi=0;o.5h=Gh();if(o.5h){if(3A.5P("rP")!=28){o.rF=3A.5P("rP")}F{o.rF=kv();3A.8d("rP",o.rF)}if(v.rN==1){if(3A.5P("rI")!=28){o.4f=3A.5P("rI");if(1Y(v.cg)){if(v.cg.K(o.4f)>-1){o.4f=28}}}}if(v.Gg==1){if(3A.5P("v4")!=28){v.bO=3A.5P("v4")}}U(B i=0;i<o.bE.S;i++){if(v[\'Ge\'+o.bE[i]]==1){if(3A.5P("Gd"+o.bE[i])!=28){}F{v[o.bE[i]+\'s\']=0}}}8n("SY");8n("SX")}o.ky=o.9H.1i(o.9H.K("://")+3);if(o.ky.K("#")>0){o.ky=o.ky.1i(0,o.ky.K("#"))}if(o.5h&&v.cI==1){o.3v=1u SR()}if(v.kN==1){o.5W=v.SQ;sH(o.1L,"5W",H)}v.gE==1&&v.kN==1?o.gE=1u SP():\'\';v.ab==1?SO():\'\';if(v.T2==1){o.cv=1u Td();o.cv.bN()}o.P=1u vg(v.3j);if(!o.1g.2e||v.gx==1){o.1S.1v("Tj",E(){o.4s=H;o.oe=H;o.Q?o.Q.HZ():\'\'});o.1S.1v("Th",E(e){if(!o.3G){if(v.1p.8i>0){2C(o.oq);o.oq=1w(E(){if(o.4s!=o.oe){o.4s=o.oe;o.Q.uV()}},v.1p.8i*2i)}F{o.4s=J}o.oe=J;if(o.Q){o.Q.o8()}}})}if(!o.1g.2e){o.1S.1v("HP",E(e){if(!o.le){o.3G=H}});o.1S.1v("as",E(e){if(!o.le){o.3G=J;if(!o.5N){o.9F=J;o.ec=J}if(o.1g.eE&&o.1g.gx&&o.1Z){1w(E(){o.4s=J;o.Q.uV()},4l)}1w(E(){o.6i=H},4l);if(o.1g.2e&&o.Q.f6()){}F{o.Q?o.Q.g4(e.5V,e.9U):\'\'}if(v.gl==1){if(o.Q.cO()){o.Q.9K()}}}});o.1S.1v("vT",E(e){if(!o.le){if(L(o.Q)){if(o.3G){o.Q.g8(e.5V,e.9U)}F{o.Q.qR()}}}})}if(o.1g.2e){1A.1v("Te",Ln,J)}v.tg==1&&1H HW==\'E\'?o.tg=1u HW():\'\';v.T5==1&&1H HV==\'E\'?HV():\'\';o.4o.1v("g5",E(e){if(e.8m){o.gk=e.8m.S}o.3G=H;o.4s=H;o.os=J;ox("1z",e)},{5H:H});o.4o.1v("db",E(e){if(e.8m){o.gk=e.8m.S;if(o.gk>1){o.vG=1}}if(o.3G){o.os=H;ox("Ta",e)}},{5H:H});o.4o.1v("g7",E(e){o.3G=J;2C(o.oq);o.oq=1w(E(){o.4s=J},(v.1p.8i>0?v.1p.8i:0.5)*2i);if(v.qV==1){B gc=1u 6N().9C();if(gc-o.an<(v.lB?v.lB:0.3)*2i){qJ(e)}}!o.os&&o.gk<2&&o.vG!=1?h8(e):\'\';o.os=J;o.gk=0;if(e.8m.S==0){o.gk=0;o.vG=0}ox("4z",e)},{5H:H});2X{1A.22.1v("as",E(e){o.6i=J;if(!o.5N){o.9F=J;o.ec=J}if(o.3G&&o.Q){o.3G=J;o.Q.g4(e.5V,e.9U);o.Q.o8()}if(!o.4s&&!o.1g.2e&&!o.1g.tv){o.Q.bH();if(o.2I){o.2I.aq()}o.Q.HU()}if(!o.vS&&!o.4s&&o.1g.2e&&v.T7==1){!o.Q.f6()?o.Q.cd():\'\'}})}2D(eJ){}1A.22.1v("vT",E(e){if(o.Q){if(o.3G){o.Q.g8(e.5V,e.9U)}F{if(o.1Z&&o.vD){o.Q.qR()}}}});if(!o.1g.tv){o.1S.1v("g5",E(e){o.le=H;if(!o.1g.2e){1m("vD");o.vD=H}o.eE=H;o.3G=H},{5H:H});o.1S.1v("g7",E(e){o.eE=J;o.3G=J},{5H:H});1A.22.1v("db",E(e){if(o.Q&&o.eE){o.Q.g8(e.8m[0].lp,e.8m[0].mo)}},{5H:H})}1A.22.1v("T6",E(e){B x=e.4c.g9.mw();if(x==\'mx\'||x==\'HQ\'||x==\'I6\'){I}F{o.Q?o.Q.HR(e):\'\'}});1A.22.1v("SK",E(e){B x=e.4c.g9.mw();if(x==\'mx\'||x==\'HQ\'||x==\'29\'||x==\'I6\'){I}F{o.Q?o.Q.In(e):\'\'}});if(o.8H){vo(a1.22,Lm)}vo(22,Me);E vo(x,z){B y=[\'\',\'mf\',\'3C\',\'ms\',\'So\'];if(x){U(B i=0;i<y.S;i++){x.1v(y[i]+(i<y.S-1?"Sp":\'\'),z,J)}}}if(!L(o.eX.l8)){1m("Sq");I}F{o.eX.l8.1v(\'5q\',rf,H)}o.4o.1v("2o",E(e){!o.le?h8(e):\'\'},J);if(v.r6==1&&v.qV==1){o.4o.1v("Ik",qJ,J)}pt();if(o.5h&&v.Ij==1){if(3A.5P("vz")!=28){o.3I.x=3A.5P("vz")*1;o.3I.y=3A.5P("I9")*1;o.P.eD()}}if(v.3Z){v.3Z.on==1?o.3Z=1u SG():\'\'}v.5o==1?o.5o=1u SF():\'\';v.hj==1?o.hj=1u SE():\'\';o.Q=1u Ie();if(v.dc.Id){o.mD=v.dc.Ic}bd();do();if(o.5h){if(v.tF==1&&v.1J!=0&&!o.1g.2e){if(3A.5P("tP")!=28){v.1J=3A.5P("tP")}if(3A.5P("kx")==1&&v.mM==1){v.5z=1}}if(v.Ib==1){B sp=3A.5P("Ia");if(L(sp)){if(sp.K(\'.\')>0&&o.kz){o.V.9R(sp,1)}F{if(o.6f){B mv=7r(o.6f,sp,H);if(mv!=-1&&o.Q.I8(\'5m\')){o.ak=mv;o.P.9R(o.6f[mv])}o.Q.HN()}}}}B tE=J;if(v.tm==1){U(B j=0;j<o.d6.S;j++){if(3A.5P("n7"+o.d6[j])!=28){v[o.d6[j]]=3A.5P("n7"+o.d6[j]);tE=H}}}if(o.1g.2e){if(!tE){1Y(v.Ht)?v.eF=v.Ht:\'\'}if(L(v.Hq)){v.mK=v.Hq;1Y(v.Ho)?v.mC=v.Ho:\'\'}}}if(o.3v){B f=o.3v.bB();if(f.t&&f.d){o.Q.lW(f.t,f.d);o.Q.4t(f.t,f.d);v.1l=f.d}}o.V.4i(v.1J);if(v.5z==1){o.V.5j();o.Q.4N()}if(L(v.Hn)){3l("5m",v.Hn)}o.av=1u uo();if(v.7h>0){O(o.1L,{"2K-6E":(v.7h+"px")});O(o.1S,{"2K-6E":(v.7h+"px")})}if(L(v.6Q)){tZ("6Q")}if(L(v.eb)){tZ("eb")}if(L(o.W)){js("W")}if(v.8J==1&&v.SJ==1){o.V.n1()}U(B i=2;i<10;i++){if(L(v["bp"+i])){if(v["bp"+i]=="2e"&&o.1g.2e){3l("bp",i)}}}1w(rf,4l,H);1w(E(){js("8K");if(v.4n){if(1H v.4n==\'E\'){v.4n=v.4n.6l};2j(v.4n+(v.4n.K(\'()\')==-1?\'("\'+v.id+\'")\':\'\'))}},1)}E h8(e){if(o.ue[o.4o]>2){I}o.ds=H;v.lB==0?v.qV=1:\'\';if(o.r3&&v.eu==1&&!o.1g.tv){qJ(e)}F{B t=(v.lB?v.lB:0.35)*2i;r0();2C(o.Hm);o.Hm=1w(E(){o.cN=0},t+4r);if(v.qV==1||(v.r6==0&&v.1N.qA!=1)){un()}F{o.r3=1w(un,t)}}o.cN++;lL()}E un(){r0();if(o.1g.2e){if(o.Q.f6()){o.Q.qR();if(o.3t&&v.qQ==1){o.V.6B();v.qQ=0}if(v.Si!=1){I}}if(o.lz){if(v.Hl==1&&v.Tg==1&&o.1g.bm){I}if(v.h7==1&&v.SZ==1&&o.1g.4E){I}}}if(o.cN>1&&v.1N.qA==1){o.cN=0;I}o.cN=0;if(v.eu==1){if((o.1g.2e&&v.T0==1)||v.Rr==1){!o.Q.f6()?o.Q.cd(1):\'\'}F{if(v.3m==1&&v.Hs==1){o.V.3X(0);o.Q.Hj();v.Hs=0}F{o.V.h8()}}}}E qJ(e){r0();B y=J;if(v.1N.qA==1){if(e){if(v.1N.Vj==1&&!o.1g.2e){}F{B x;if(o.1g.2e){x=e.TK;if(!x){if(e.HH){x=e.HH[0].lp-ha(o.1S)}}}F{x=e.Nd}if(v.zm&&v.zm!=1){x=x/v.zm}if(x){if(x<o.2T/2){if(x<o.2T*20/100){3l("3K","-"+2h(v.1N.HA,10)*o.cN);v.1N.2P==1&&v.1N.Hz==1?7z(\'3K\',0):\'\';y=H}}F{if(x>o.2T-o.2T*20/100){3l("3K","+"+2h(v.1N.HA,10)*o.cN);v.1N.2P==1&&v.1N.Hz==1?7z(\'3K\',1):\'\';y=H}}if(y){if(e.b5)e.b5()}}}}}if(!y){if(v.r6==1){if(v.lQ==1&&o.1g.2e){}F{o.1Z?o.V.8z():o.V.aE()}}}}E r0(){2C(o.r3);o.r3=1F}E rf(x){if(o.Hy!=o.1S.2a){x?o.Hy=o.1S.2a:\'\';rf()}F{do()}}E do(){B y=J;if(o.bb!=o.1S.2a||o.f9!=o.1S.2Q){y=H}pt();if(o.Q){o.Q.tr()}o.P.5q();y&&!o.1Z?js("5q",o.bb+\',\'+o.f9):\'\'}E pt(){B xw=o.1S.2a;B xh=o.1S.2Q;if(o.Q){if(v.tD==1){if(v.W.1q!="2N"){B x=o.Q.cz("Hx")+o.Q.cz("1c")+5+o.Q.cz("Hv")+2h(v.PY,0);O(o.1L,{"1b":x})}}if(o.Q.f6()){o.uJ=H}}if(o.5b>0&&!o.1Z&&!o.dN){xh=xw/o.5b+2h(v.vq,0);O(o.1L,{"1b":xh})}if(!o.1Z&&!o.dN&&!o.bs){o.bb=2E.4a(xw);o.f9=2E.4a(xh)}if(o.1g.2e&&o.1Z&&v.te==1&&bA.du){if(L(bA.du.qh)){if(o.5b>0){if(o.5b<1||o.P.9O()<1){B sp=bA.du.qh(\'M7\');if(sp!==1F){sp.cV(E(){}).2D(E(e){})}}F{B sp=bA.du.qh(\'sE\');if(sp!==1F){sp.cV(E(){}).2D(E(e){})}}}F{B sp=bA.du.qh(\'sE\');if(sp!==1F){sp.cV(E(){}).2D(E(e){})}}}}o.2T=xw;o.4m=xh;if(L(v.1G)&&o.Q){v.1G!=\'\'?o.Q.Mm():\'\'}if(L(o.kV)){o.P.1K(o.kV)}if(o.1V&&!o.1Z){o.1V.2n()}if(v.Ms==1&&L(o.9M)){2X{o.9M.2n()}2D(e){9L.1m(e)}}o.2I?o.2I.2n():\'\';o.cv?o.cv.2n():\'\';o.5o?o.5o.2U(\'5q\'):\'\';o.9I?o.9I.2n():\'\'}E bd(){o.V.pN(v);U(B x in v){if(v.2v(x)){if(x.K("1G")==0){if(v[x]!=\'\'){o.vP=v[x];o.V.bd(x)}}}}o.hj?o.hj.Mi():\'\'}E aC(17,9v,1K){if(17){if(17!=\'\'){if(v.cE==1){17=cE(17)}if(9v==o.2b&&17==o.v8){}F{if(17.K("#"+v.aQ)==0){17=o[o.fd[0]](17)}if(17.K("#0")==0){17=cJ(17)}17=Mz(17);if(L(v.Mk)&&17.K("//")==-1){17=v.Mk+17}B s="vK";if(1K=="6q"){s="ve"}if(1K=="1O"){s="2A"}if(1K=="Mu"){s="100% 100%"}if(17.K(\' hl \')>0&&9v==o.2b){o.kH=17.2u(\' hl \');43(o.vI);o.vI=7W(LD,2h(v.UX,2)*2i);o.gP=0;17=o.kH[0]}if(v.Sd==1&&7r([17],\'.uX\')){17=17.1R(/\\s/g,\'%20\');B 1C=\'6T\'+v.id+\'RK\';9v.1P=\'<gR id="\'+1C+\'" 3B="\'+17+\'" 9E=1 l7=1 3m=1 3t=1 C="\'+(v.Tc==1?\'3L-lc:ve;\':\'\')+\'X:100%;1b:100%"></gR>\';o.gL=22.gZ(1C)}F{if(17.K(\' or \')>-1){o.kp=17.2u(\' or \');v7(0,9v,s)}F{ti(17,9v,s)}}1n(9v);9v==o.2b?o.v8=17:\'\'}}}};E v7(x,y,s){if(o.kp){B 17=o.kp[x];B 3O=1u Ml();3O.9D=E(e){ti(17,y,s)};3O.qp=E(e){if(o.kp.S>x+1){v7(x+1,y,s)}};3O.3B=17;if(3O.My)3O.9D()}}E ti(x,y,s){o.gL=1F;o.kp=1F;y.1P=\'\';x=x.1R(/\\s/g,\'%20\');O(y,{\'2k-9A\':\'17("\'+x+\'")\',\'2k-gN\':\'no-gN\',\'2k-1q\':\'8v\',\'2k-3J\':s})}E LD(){if(L(o.kH)&&L(o.gP)){o.gP++;if(o.gP>=o.kH.S){o.gP=0}aC(o.kH[o.gP],o.2b,v.gI)}}E Me(){if(o.1Z&&!sd()){o.V.rL(H);o.1g.ff?do():\'\'}F{if(o.dN||o.4s){sd()?o.1Z=H:\'\';o.V.rH()}}1m("1Z",o.1Z)}E Lm(){if(v.kN==1){sH(o.1L,"5W",H)}}E Sx(){1m("du "+bA.du.pS)}E Ln(){if(2E.Lo(1A.du)===90){1m("sE");if(v.M8==1){B ok=H;if(v.Lq==1&&!o.1z){ok=J}if(v.Lr==1&&!o.1t){ok=J}if(o.9W){ok=J}if(o.1V){ok=H}!o.1Z&&ok?o.V.aE():\'\'}}F{1m("M7");if(v.M8==1){o.1Z&&v.te!=1?o.V.8z():\'\'}}}E sd(x){!x?x=22:\'\';B y=J;2X{y=!!(x.R4||x.U0||x.TZ||x.O0||(x.OA!=1F))}2D(e){y=J}I y}E Mc(x){I x.2a==0&&x.2Q==0};E qH(){U(B x in o){if(o.2v(x)){if(x.K("LW")>-1){43(o[x])}if(x.K("sy")>-1){2C(o[x])}}}1m("11J")}}', 62, 4153, '|||||||||||||||||||||||||||||||||||||var|style||function|else|this|true|return|false|indexOf|exist|||css|media|controls|but|length||for|actions|playlist|width|control|pjstg||||||||url|time|left|key|height|top|event|action|settings|system|break|substr|hide|case|duration|log|show|color|toolbar|position|icon||play|new|addEventListener|setTimeout||playlist_dic|start|window|opacity|tmp|text|hls|undefined|title|typeof|type|volume|scale|container|faction|hotkey|none|innerHTML|appendChild|replace|frame|set|createElement|vast|subs|subtitle|exist2|fullscreen|||document||||data||null|div|offsetWidth|poster|seekto||mobile|pip|display|existv|1000|eval|background|svg|open_action|Resize|click|sub|right|files_quality||vasturl|split|hasOwnProperty|file_type|error|tip|Play|auto|absolute|clearTimeout|catch|Math|line|options|open|droplist|stop|border|Lang|margin|bottom|padding|icons|offsetHeight|parseInt|tiptext|screen_w|api|transform|list|try|push|_type|||||||||||hide2|hidden|files_subtitle|share|Pause|linkurl|linear|current_quality|plid|file|player|apiProcessor|autoplay|removeChild|events|sbt|media2|CheckColor||muted|current_subtitle|continue|handle|scaleX|ffffff|body|localStorage|src|webkit|stroke|rows|floatleft|mouseDown|scaleY|mediascale|size|seek|object|parentNode|_to|img|_|font|pause|levels|http|custom|attr|dash|Seek|000000|chromecast||files|urls|clearInterval|||vasttype|org|||round|Time|target|parseFloat|xlink|default_quality|www|xmlns|Volume|marginleft|is_hls|500|screen_h|ready|mediacontainer|2000|block|200|mouseHere|Duration|marginright|bga|1px|hex2rgb|Remove|end|out|bgcolor|pointer|gradient|ios|values|visible|obj|MarginPadding|ShowOrHide||tagvideo|delete|refresh|string|empty|preload|settings2|transition|zIndex|trim|rightmenu|folder|subtitle_on|quality|_from||dom||pjsdiv|plstart||xhr|||slice|Motion|aspect|youtube|pljssglobal|f2title|ease|Action|storage|show2|Mute|order|casting|speed|valuecolor|effects|rgba|resize|value||max|onOut|int|filter|m_to|f2action|mute|airplay|valuefontsize|butPosition|canvas|JSON|isVisible|removeEventListener|passive|f2value|overflow|_value|live|act|volumewheel|next|getItem|remove|random|onError|vast_loaders|m_type|clientX|visibility|shuffle|vastloader|Hls|||pnt||||||||menuproc|onOver|arr_down|arr_up|important|files_speed|ftitle|captions|focus|SetQuality|files_audiotrack|name|animation|dechar|isLive|toString|fill|cut|evntclk|getAttribute|iset|current_audiotrack|UpdateText|solid|UpdatePlaylist|srch|plx|Unmute|is_dash|clr|radius|vast_|keys|sublist|paused|cancelBubble|over|dash_created|files_|Date|minutes|hlsconfig|midroll|cursor|reload|pjs|scroll|File|safari|UpdatePlay|bgpaddingleft|control2|||||||||||download|audiotrack|always|setAttribute|off|default|FindBut|rounding|state|icnsz|bgpaddingright|intro|parse|bgaover|tips|Events|label|indOf|alpha_div|preroll|Zoomed|line3|vast_and|bg2|obj2|PluginHotIcon|globalfs|String|1999|span|backgroundColor|box|handle2|pjs_parent|redirect|aover|ended|ioff|iphone|skip|status|motions|blur|f2i|ShowPoster|val|channels|_show|setInterval|leftBg|current_url|seconds|||||||||||m3u|lines|toolbarHidden|setItem|navigator|Update|realfullscreen|okpd|hideleavetimeout|customline|Object|_cul|touches|SettingsTimers|_url|metadata|Value|points|waiting|Advertising|VAST|center|playing|margintop|onEnded|Normalscreen|Toggle|lastwheel|add|HLS|timer|bordercolor|track|parentIframe|HideControl|pass|init|plhistory|StopWaiting|loaded|bgcolorover|version|buffered|onClick|is_sleep|hours|align|isVastBgLoad|location|tipcrn|fvalue|layer||min|BgClr||info||small||||preventDefault|apiprm|media_error|ResizeText|icn|customtext|area|8px|getElementsByTagName|loading|sub_off|SetSubtitle|Waiting|container_w|floor|container_h|nativecontrols|space|pipwebkit|stretch_width|timeline|cnt|opid|hlsquality|Tip|ttl|image|ctx|getTime|onload|loop|hidden_volume_over|xbg|href|rel|arrowsize|Settings|console|ima|vast_or|ratio|onWaiting|txt|SetSpeed|line0|is_ws|clientY|destroy|ispipkit|dropbgcolor|marginproc|hls_created|active|parent|gaTracker|iconscolor|ncrtat|hls_subs|files_quality_ag|lang|Sub|bgbrovr|onPlay||fbg||unmute|_activeIcon|HlsLevelsLength|wait||hlsautoquality|current_speed|End|pointed|clicktime|cutted||Close|shadow|mouseup|||alert|onDuration|tag|nops|all|actionstt|Array|Poster|com|Fullscreen|concat|upldfl|reloadTimer|plopenid|fltrs|Background|pointerEvents|bitrate|Arrows|charAt|hls_config|enc2|curtain|message|vertical|evntout|audiotracks|PlaylistNext|evntovr|Switcher|mrgnprs|pld|||SubtitleChanged|onMouseUp|stopPropagation|_css2|open_settings|bgpaddingbottom|bgl|buffer|normal_w|upld|Title||Status||m3ut|_hide|max_h|||android|thumb|delta|design|sec||fullscreen_process|bgtop|rotation|_keyStr|motion_id|scrollbgcolor||bgpaddingtop|screen|flag|inline|scrollLeft|vsts|but_x|stage_x|SettingsClose|onTimeupdate|Retimer|white|gebi|Clickable|Start|default_audio|toolbar_hide|noads|stage_y|replay|f2id|_cstm|hw2|id_|PlaylistNextExist|subtox|browser|played||||but2|salt|dropanm|_speed|charCodeAt|enc3|pause_before_vast|||HideForce|but_space||forbidden_quality|AfterVast|textTracks|vast_loadtxt|||playById|VastRemoveAndPlay||reloadto|Remove2|qualities|line3value||CreateItem|quiz|volumewheelin|||PlaylistG|sttx|titlestore|ShowOrHideProcessor|min_h|fplace|search|StyleItem|hlsaudio|timestore|fd0|_rb|Stop|UpdateObject|clicks|SettingsVisible|400|00|dur|3px|switch|playbgcolor|then|fontsize|is_visible|audioTracks|CalculateClick|deltaY|prc|CreateHLS|CustomSwitch|butplstart|title2|sub_options|currentTime|DashLevelsLength|skpbt|pjs_i|touchmove|control_title||currentFile|source|onMeta|cubic|autoplaylist|||forcehide||tlbrhd|MainResize|Drop|control_|ldr|acted||orientation|vimeo|line_width|linecap|line1|Scale|floatwidth|fontnames|PlaylistPrev|MediaReady|OeIHYL48Wb9Lpyo|_lastime|ActionPlaylist|button|weight|CloseOpenList|channel|but_y|PipWebkit|fullscreen_start|indOf2|hlsdrm|Home|native|backdrop|Pos0|HandleWidth|tagframe|toolbar_margintop|SetAudioTrack|load|removeAttribute|stout|pltxt|mediapip|openfile|marginbottom|file2|err404v|plfolder|hidejustfull|event_x|Open|overlay|hidden_volume_over_process||onVolume|300|nowrap|hlsfdt|fontSize|event_y|PlayerState||||sub_shift|scrollTop|checkFont|family|newplay|pjs_id|screenclick||link||onMove|transparent|line2|pauseroll|iframe|scl|touch|sub_bottom|ScrollTo|update|current|err|responseText|icns|classList|relative|hiddenwidth|vast_longtimeout|prev|vast_impressions|send|NewFile|cow|shuffle_|dropcolor|frameresize|_start|10px|iconsover|coh||or0|speed1|controlover|ToolbarHidden|autohide|brightness|normal_h||toend|pljssglobalid||file3_separator||qbr2|handleicon|handle_width|expand|IconsColor||aria|pic||bttn||polyline||||FindDrop|tmpbg|hdicon|tippointer||bgpadding|polygon|onclick|onUp|onDown|nbsp|ellipse|open_pl|topBg|_step|texts|ControlClick|default_style|bgt|thmove|items|mediaSession|_ease|bottomside|cul|saturate|rightside|timeFormat|hdnn|scaleover|headfontsize|Pnt0|gif|000|mode|StageMouseUp|touchstart|onPause|touchend|StageMove|tagName||childNodes|now|20px|setSpeed|hlsDashSub|ObjectFit|hlschangequality|currentLevel|VastRecover|tchs|hidevideo||videoHeight|mouseover|plNxtExst|starttimeout|brandurl|justshow|spacing|Show|RemoveCurtain|mouseout|desktop|SubtitleSettingsMenu|sub_settings_on|VastAddPreload|Ready|rightbs|_preloaded|minify|casturl|nomute|quartile|poster_scale|autoQuality|opn|pstrv|errorto|repeat|Subtitle|pstrsi|maxBufferLength|video|600|posterhide|vast_poster|_status|flip|readyState|XHR|getElementById|recover|hls_force||nativeAudioTrack|factor|TagPlay|f2bg|nativefullios|ScreenClick|loading_error|findLeft|groupId|fatal||Reload|seeking_time|rldcnt||actplay|mediatags|NativeEnterFs|and|shareme|stretch_with_volume|sub_or||Playlist|||bgg|settingsovertimer|showovercontrol|url_shift|abc|showoverto|select|_id|decode|overopentimeout|HideProof|HideInterval|PlaylistExist|butNames|ToolbarDown|hideonpause|HidePoster|compilation|control_line|create|pushCSS|not|Init|fff|Airplay|FindPlStart|subupld|PlaylistPrevExist|normal|Curtain|alpha|0px|subtitle_start|Ctxt|onplay|SetSetting|QualityChangedNoHand|sub_sizeproc|sub_color|destroyed|_seekaftervast|NativeControls|SettingChanged|AirplayChanged|play_errs|sub_color2|||||num||sourceBuffer|kbps||SettingsN||custom_speed|qbr1|ErrorOr|Error|||gatracked|svg0|scrollleft|Scl|normalscale||cftlr|PluginOpen|_ended|StyleLine|FileReader|nohls|VstLdTxt|FileTo|letterspacing|hidetimeout|rotation2|https|hidden_volume|file_separator|hideoutmute|jpg|marginprocleft|hls_stuck_time|hlsend_to|result|frag|ShowForce|toolbarInterval|details|url2|RenameQualities|chrome|iosfull|playlist_source|pldur|plurls|offsetLeft|MidrollOverlay|tmln|seekwindow|va2l|VastNext|ymax|pjs_|ni2|hidewithoutmoving|lrpd|VastAndLimit|days|galabels|_t|gao|Download|Off|wheel|wheelstep|Rot|uijs|fcdef||airplayed|clickarea|stty|CustomToogle|win|ResizeSettings|resizePlaylist|RenewSubtitle|PluginSub|CustomText|htto|_max_order|shift|Thumbs|ssfontsize|iconangle|midrolls|canvas2|ctxtnk|PlaylistVisible|pl_first_id|linkurl2|requestFullscreen|airhls|PlaylistControls|pip_quality|gain|swipev|PlaylistShow|errorMessage|TipText|BufferStop|SwitchText|speeds|vast_longtomsg|||dontplay|iconreplay|clicked|tipbg|toggle|ToolbarShow||onSeeked|onSeeking|seeking|volumescroll|UpdateSpeed|clickmargin|ctx2|ShowTip|datetime|OpenList|float|vllft|Pntd|RenewPoints|pstrurls|playbgcolored|tippadding||kap|1em|randomstr|Mouse|pljsmute|href2|line_speed|limitmaxwidth|prm|mxlft|_play_i|xtitle|TimeSub|srt|pstrs|hlsrows|autonext|unshift|999|StyleArrow|observer|_psd|HistoryPlaylist|parentcontainer|l3v_show|domain|handlehide|ScrollOverOut|custom_aspect|Cut|scrollarrows|current_|YtInit|created|shr|copyObject|left0|paddingright|sxs|3000|playsinline|contentWindow|playersize|downin|memory|fit||touched|subload||SubtitleLoad2||floatheight|Parsed|base64|historytitlea|SubtitleLoad|pldly|pageX|tipbgcolor|letter|5px|||FltrVal|mpi|tpp|tipbga|nativefull|playerid|dclckto|onmousemove|historybga|hand|onmouseout|bgbordercolor|bgborder|bgh|onmouseover|StyleActive|JsClk|findTop|Input|compilations|sizing|nativecontrolsmobile|removed|brd|stretchonfullscreen|_prevIcon|ipad|Played|scrollarrowcolor|KeyPlusDown|scrollarrowsize|KeyPlusUp|||||hlscq|Start0|SubtitleOff|audiosrc|setActionHandler|userseek|postroll||thumbnails||moz|postMessage|wght||seeked|picture||hlsfps|current_file|pageY|plopt|isPlaying|||isvg|_icon|spd|toLowerCase|input|gifed|vol|CreateDASH|lineHeight|sub_size_fullscreen|title_template|HidePoster2|sub2|getDASH|ssa|sub_all|getHLS|sub_size|SubtitleError|mutestore|subdrag|HlsUpdateAudio|loadLevel|dvrtime|2001|videoWidth|vars|worked|arpl|PipSize|autoLevelCapping|100000|hideuntilto|StringVar|Password|covervideo|subsor|showtitleplaylist|audioTrack|fjs|pljs|isAuto|BgBrAct|openplaylistbefore|rightout|resizeonplay|static|newfile|gaTrackPlay|rightclick|PlayAction||subopt1|ssflyp|VastVisible||NativeExitFs||overlays|adsfirst|mini|hidevar2|StopMedia|rld|timeld|rldplay||ResizePlaylist|container_h_procent|scrollwidth|apdr|hmx|find|_lastactbut|rmbgcolor|hidevar|container_id|UpdateVars|_fullscreen_end|VolumeWheelX|hdstp|resizeonwidth|setaction|offsettimer|nhs|Visible|stretch_width_last|autonextopenfolder|UpdateVars0|fspr|showinterval|referrer|ff0000|resizeSettings|OpenScroll|autoprevopenfolder|full|rc_label|navigationUI|wheelinterval|hideuntilstarted|scripts|playlistrewind|StageLeave|AudioTrackChangedNoHand|PlaylistHere|found|youtube_id|PlaylistRewind|mouseHere2||openById|bgcontainer|PlayerjsMenu|YouTubeIframeAPIReady||playVideo|pauserollonplay||vast_type|drtn|leavetimeout2||mouseMove|vstpause|_readyonplay|vastonmobile|iniframe|Touch|quality_received|exception|frames|changeheight|fid|playlistloop|but_h|floatlimitwidth|poster_a|done|poster_aover|subtitle2|limitwidth|paddingleft|ShowLayer|14px|playroll|screencolor|VastBgLoad|bgtmp|CreateShare|_wait|wait_to|VastLoader|Load|wtcntrl|UpdateTime|MenuProc|serif|close||sans|AudioContext|airpl|volumegain|Ended|colorbg|480p|iconopacity|files_channel|720p|sub_weight|sub_shadow|333333|fileTimeout|998|1080p|CreateTip|handleaover|||started|eventstracker||alldd|||MainUpdateSize|response||sub_bgcolor||tipalways|marginbg|scrollHeight|playerjs_|HideTip|mediaSource|sub_bga|isTypeSupported|rect|timeline_h|rename_audio|HlsLevel|RemoveMedia|youtu|pntd|TitleTemplate|suboptns|livewakeup|ksu|CreateList|angle|timeshort|svg3|ShowHandle|lngth|mtp|customdesignsvg|YoutubeReady|pjspl|||opera|vastfrombg|iclr|360p|_iconv|parsed|240p|lastIndexOf|offsetTop|dropl|handlescale|omt|resizetxt|FileType|lock|noclick|restart_audio|PluginPlSrch|clr_options|bgx|tippaddingtop|onStep|onerror|remember_sub|onClickSubtitle|PlaylistError|||lang_|sblsthd|dashquality|icon2|decoration|seeksides|ceil|handleiconspress|lastTouch|playlist_title|historybgcolor|menu|Destroy|ttt|DoubleClick|BeforeVast|file2_separator|valuefromlang|unmuteplease|bgo|stored_dur|unmuteonclick|StageMove2|urls_and|prefile|current_plurl|click0timeout|stuck|iconscolorover|YoutubeID|_steps|ClearClick|||click_t|bgbract|isReplay|doubleclick|edge|exist2v|_control_|_stopped|sub_upload|timerTime|hideAllIcons||FrameResizer|lft|control_start|script|SvgColor|thumbs_on|imgldd||documentElement|rotate|mouseUp|sub_upload0|hmaxk|but_w|||StartSpeed|xvalue|||arrinterval|moveOr2end|maxMaxBufferLength|RemoveForNextAd|bg_hide|splice|userid|leftandrightpadding|FullscreenUI|pljsquality|VastPreloadLoad|marginbgcolor|NormalscreenUI|timerInterval|qualitystore|ie9|pljsuserid|vast_preload|appearance|nohead|Preload|TitlePl|Recover|ShowShare|customTextPl|nativehlsios|m3u8|playerjscom|||||CustomTextButs|VisibleItems|upText|VolumeWheel|resize2|CreatePoster|dont|CloseSttx|isFullscreen|sepia||PluginMovable|RightMenu||ClosePl||reRightMenu|ScaleStore|xy00|mediadrag||butByS|playsinlineonmobile|||RadioTags||||timeout|exitfullscreen|tagsurl|resizetext|rmcolor|toggleControl|landscape|adsinchain|playiconbut|Visibility|_recover|VastCheckNext|ioscss|write|VastGo|file_yv|ChkDrt|removeItem|vastgo|Playing|VastVideo|activeiconsize|SubtitleTimerMenu|vastcontainer|fixed|marginbgpadding|clientWidth|dontload|PauseAction||||||JsEvent|effect|advertising|toolbarhidden|settimer||CheckDash|onDash|landfullmobile|poster_float|geo||PstrLdd|reloadfirst|renameTracks|onClick2|sub_designstore|HlsAudioTracks|||pjs_parent_i|mainresize|span05||setQuality|||IndexPlaylist|stopotherplayers|posteronpause|ErrorReload|reloadtimeout|SetHlsQuality|change2playlist|substore|volumestore|pipto|vast_midroll_limit|WaitSize|heightInterval|pjslng|LoadedData|MseIsSupported|prototype|_tags|pljsvolume|nextLevel|pstr_to|ErrorMsg|clck|IndexPlaylistProcessor|HlsAudioTrack|Seeked|PlayerSize|div2|str2obj||autoplaymute||||||||||m3ui|UpdateStart|pp2|moving||bordercolored|ChangePip||nativeControls|gained|audioctx|PlaylistLoad|ScreenClick2|Alert||tagSrc|_i|hls_started|ActionOptions|StyleSubtitle||isNaN|CheckPip|noprevicon|hdbrdclr|disableRemotePlayback|enabled|filerorto|ws_created|End2|End3|v360|CreateWS|checknative|cntrlrsz|VastPreloaded|_move_rights|onPipLeave|Action2|onWkitKey|contentDocument|1440p|2160p|vast_starts|mdswp|DrmVars|Review|order0|mp4|_rights|NativeSubtitle||current_vast_url|onPipEnter|getAudioTrack|pljstrack|posterhidepause|ControlOut|PstrLd|currentposter|floatmarginright|CrtVl|urlsl|downi|getQuality|cover|hlserror|Media|sleep2||vstdwn|Captions|_hlssubtracks|outro|HlsSleep0|FSL|iOSTrackLoaded|screenmarginbottom|subtitles|scrollarrowbgcolor|nativesub|onTagError|scrollarrowbg|removeTracks||Metadata|pljssclx|hlsSub|midrollo|is_hls2|mobiled|HlsSleep|NewAspect|tchs2|sleep_timeout|pstrsin|160p|contain|stvs|onYoutubeReady|vastclick|csta|maintitle|code|network|lntch|mousemove|resizetimeout|innerText|volumewheelfull|VisibleCheck|fonts|smbls|while|pepper|||ass|vtt|encoded|yamtrid|rename|chr|SubtitleParse|DVR|InitVisible|bggrclr|urlcnfg|nocontrols|iobj|SetCSS|PJSDIV|png|EndMove|_css|moveseek|over_final|quality_||SubUpload|removebykey||SubtitleLoadAll|pljssubtitle|||sub_store|movevent|ReplayIcon|Thumb2|blra|stringify|Places|other|resizeme|Prefile|dropaudio|handlea|thumbs|dropquality|startcss|resizeonmouse|hostname|utx|NoSpan|SubOpt|ytautoquality|getDuration|_set_quality|audio|LineScale|onup_to|ShowNextList|sub_reset|pstr||||||Mvskpl|FindOpenIds|last|UpText|embed|CheckHideVars|pjsframed|Text|sub_x|head_|tippaddingleft|updown||borderbottom|leftright|handleiconpress|SubRem|ontouchmove|dropupdate|Style|scldwn|SettingsParser|tipletterspacing|hideonplay|drawImage|tipbgrounding||||TipHide|tipfontsize|6px|viewBox|settingsNumberVisible|Empty|pldur2|pldur3|scrollbar|icnclrdwn|linkurl0|Rotate|tippaddingbottom|btm|submm|sub_font|sub_stroke|doctype|ctxt|ssfontcolor|hidetime|tipfont|ahd|ClickArea|imageLoaded|marquee|tipcolor|sstext||||||bgcolorlink2|lastt|restart|dash_subs|spn|addtitleplaylist|openplaylistroot|3600|sub_bgpadding|handlemove|lastsub|resizeFromText|last_text_w||UpdateVolume|insertBefore|scld|stopkeys|SetSubtitle2|tmp2|handlehideinit|addtitleplaylistbr|onMobMove|sub_off0|toFixed|CstmTgl|_time_load|bggr|presmbl||MarPad|TipVol|postsmbl|volume2|onMobOver|minw|_currentIcon|cpm|Marquee|bttnbg|ControlsBg|logout|Script|piped|plaudio|Bglines|brand|match|tem|cntrls|handle2color|getVideoData|deg|historytitlestrike|fzoom|playlistovertimer|quick|||_stop|EarlyEnd|valuemargin|activeicon|removedNodes|onYtPlayerReady|MbMv|StartTimeout|pjshd|deltaX|scrpt|toolbarisdown|webkitRequestFullScreen|fileorto|check||gaurl|requestFullScreen|reloadlog|handlecolor||play75|play50|mozRequestFullScreen|HidePositionControl|NxtExt|Loading|historycolor|play25||msRequestFullscreen|timeline_w|killMotion||content|_blank|bordersize|Youtube|subpausehide|mobtch|Shuffle|startwait_t|MediaSess|UpdateDt|Hide|tmpr|clickscaley|fontFamily|fullblack|Alpha|clr_play|mutedautoplay|grdlft|handleiconover|updatePlaylist|TheEnd|SetCurrentQuality|Player|PlaylistPlayId|clr_load|Menuproc|notofh|History|valuepadding|start2|_timeout|firstly|youtubeposter|ControlCoordinate|ToolbarHide|pjscssed|introstart|re_y||Loaded|pauseVideo|coloroverplay|onWheel|QualityChanged|150|nwfl|borderRadius|sleeptimer|SpeedChanged|666666|ffdd1f|helvetica|VastBreak|dropsmallfontsize|cuid|ChkHlsEnd|alertsbgcolor|alertscolor|dropfontsize|cstm|last_subtitle|_subfile|menufltr|PluginPip|sub_split2words|recovery|huIuZVmHnvhuNuh8o3YzhgpBYgQAORoKlbosZfUBY2t0ORoKlbo|youtubeready|playerjs|onPlayTag|isyoutube|tagsinterval|_xIcon|Number|butseekto|through|width_div|noindex|SubtitleBottom|current_time|analytics|RFzzhFfk|PlgnVstLdtx|height_div|ehadQTBR|time2|PluginDroplist|PlugDsgn|setVolume|dropclrs|pressed|posterhidestart|700|arial|playByYoutubeId|reYT|alertspaddingv|icn2|rand|CreateMedia|slng|DownIn|smallfontsize||notv|my3|toUpperCase|imageExists|Drt|MSIE|yamtr_event|maxTouchPoints|dashaudio|yaCounter|removeNativeSubtitle|callback|High|ga_event|file_type_old|MediaYoutube|device|Playback|ListsWidth|maxresdefault|ListsWidthRight|Timer|crt|floatwidthsmall|ParseUrl|220|Wheel|YouTube|pjsframe|PjsFramed|floatheightsmall|Yandex|nativeSubtitle|playId|PipToggle|1800|skipads|1550|alertsbga|elastic|1150|900|540p|640|alertspaddingh|Papi41|str|SetChannel|PlgnVstPstr|Ease|pipSrc|pmevnts|360|msie|006|firefox|935|175|gtag|audio_|RenameTracks|fileto||FileTimeout|pjsfrm|filetod|iset2|Timeout|PipSwitch|PlayerjsEvents|movable|alertsfontsize|ControlOver|Playerjs|setupx|PLAYING|resume|paddingtop|ENDED|adscounter|fullonplay|fullonplaymobile|redirectonplay|upDT|redirectonclick|seeked_time|onYtPlayerStateChange|yterrors|pauseseek|last_ors|PlayingChecker|youtubecontrols|endfull|iframe_api|preloaded|yamtr|width100|andlimit|customyterror|adblock|ytcl|accept|outside|update_|ScrollRight|ScrollLeft|PlugSublist|fileURL|onchange|PlaylistBack|InvertPlaylist|reverse|seekTo|shwvstfnsh|nameofyoutubequality|trkp|autoplayed|getPlayerState|PluginThumbs|offsetwrite|Exit|vpaid_starts|Qualities|onQualityChanged|reloadlive|HideLayer|ScrollDown|hidecontrol|TheEnd2|timebreak|ct2||PostFullscreen|fs_error|scrollwheelfull|Stopped|whlskfll|showById|iosExitFullscreen|cancelFullScreen|timelimited|ShowTimeout|exitFullscreen|cancelFullscreen|mozCancelFullScreen|webkitCancelFullScreen|msExitFullscreen|frmvst|unset|scroll_left|scroll_down|timelimit|intros|pljs_yt_|midrollimprsd|VastLongTimeout|vast_prestarttimeout|show1value|nomidroll|vast_longtimemsg|nooverlay|isVpaid|ovr|Width|passontime|PluginSlides|PluginIntro|SubtitleSettings|minduration|rest|PluginTrack|SubtitleSettingsClose|PluginHeart|Quartile|playedstore|playedquartile|openpl|finishrewind|ScrollUp|castname|PluginCam|sub_bgo|api_|onClickTimer2|sub_big_fullscreen|onClickSubtitle2|sub_lineheight|FindIdPl|VastInfo|wrapper|StyleFew|vast_adid|swipep|18px|pldelay|Swiping|mss|swiping|incorrect|zoom|pjslog|head|sub_bg|full_hours|dasherror|access|PluginRel|alerts|index|geobj|ReloadTimeout|getContext|PlayerjsAsync|PluginErrorVideo|alert404video|alert404v|alert404text|alert404|onMouseDown|denied|_reset|hour|minute|norld|subtitle1|playlist_id|roll|tvg|second|ffeeab|full_minutes|toLocaleTimeString|heartbeat|scrollX|_ud|ffect|224|sugar|posterhidetime|subshift|40px|sfjs|scrollarrowgradient|scrollarrowbgover|limit|_nextIcon|scrollarrowbgovercolor|default_subtitle|globalfontname|getBoundingClientRect|sub_off_title|offset|sub_allmyt|Start00|url3|ArrowsInterval|_ue|fromCharCode|after|plcontinue|headbordercolor|notag|brda|Scripted|hidesvg|ShuffleEnd|apto|plapto|rgb|keyframes|_html|isArray|FindFileInPlaylist|styleSheet|comment|XMLHttpRequest|GET|readAsText|parentElement|StopOtherPlayer|HidePoster3|showposter|playedstored|Pldelay|sourceBufferValidAPI|MediaVideo|exst|rmsize|4px|RightCSS|parent_domain|encodeURIComponent|subfeed|unfixing|RightOut|Href|PluginSkip|right_y|RightClick|RightMove|showntv|ShowControl|RightOver|System|ShowAnimate|Actions|pljsfirst|vast_nofirst|hideonvar|trackstore|StorageSupport|sesstime|hidewovar|requestAnimationFrame|hidestartbutios|mobiletv|createTextNode||nativenotipad|nativenotiphone|hideonfullscreen|nativenotios|hideuntilmeta|HideAnimate|apdra|hidebeforesec|UpdateSettings|Exist|PlaylistClose|PreNewPl|prenewpl|PlaylistOpenId|clrs|PlaylistMove|allow|direction|nums|allowtransparency|allowfullscreen|pjsfrrs|scrolling|plusminus|which|UpdateTimer|ltr|hideonvolume|PluginMbps|setting|CrShr|rc_version|leavetimeout|rc_anyway|playonhover|upd|rc_labelurl|tap|wtpstr_to|pstrwt|WaitPoster|HideElement|posteronwait|Volumescrolled|highlight|hidebeforesec2|hideaftersec|obsrvr|normalscreen|sttr|actpause|unmuteonplay|userplay|userpause|back|pipVol|Ply|muteiconbut|nativefulldroid|click_t2|default_speed|sub_sizemobfull|linkpause|sub_sizemob|hmaxk2|frstclkply|sub_bottommob|NewPl|margin_bottom|ControlsBgClick|scroll_height|screen_lw|seekicon|seeksidesec|always2|OpenPl||marginprocright|PluginShare|marginprocbottom|changedTouches|marginproctop|ControlX|lrpps|lrppp|screenshot|SettingsSpeed|right_x|mousedown|textarea|KeyUp|hidepsms|hideonbar|closePl|PlugScaled|PluginGeo|hidewithoutplaylist|mbmv_timeout|StageOver|alwaysnotfullscreen|alwaysjustpause|hideoverwidth|hideoverwidthlimit|hideonwidth|hideonwidthlimit|pjsin|ResizeMain|SettingsExist|pljsscly|pljsspeed|speedstore|template|templated|Controls|1001|ssflyw|linktarget|upTexts|scalestore|dblclick|plclose|titlepl|KeyDown|showShare|customText|keyCode|MutationObserver|webkitneedkey|hideafterclick|bgw|selectOpen|_a|roundout|_w|rotateonhover|Click|onmouseup|bgcolorlink0|tipmargin|315|tipvar|handlemargin|PluginPoints|action_settings|bgbrdrw|onmousedown|hidesec|yOffset|thumb_move|hlsptm|mvskps|place|PlacePoints|270|xOffset|CancelBubble|clickmargintop|current_thumb|handleiconsover|handlewidth|bgline2|bgline1|bglines|clickmarginbottom|unhidden|DisplayControl|toptip|ControlLine|valuesize|FFFFFF|nxtttl|customdesign|linespeed3|gradientcolor|linespeed2|wps|setcss|hidedown|ontop|gradientcolorbg|path|querySelectorAll|linespeed1|colorload|controlCSS|HdIcon|valuebgcolor|prevorius_default_w|valuebg|noClickTimeout|zoomed|RenewFromTitle|with_hours|with_min|minus4back|prevorius_default_h|hidewithposter|iconsreplay|displayvolume|valuerounding|Tmln|translate|7px|Buffer|linetipmarginbottom|handleinit|15px|rszr|PjsFrMsg|postmessages|method|postmessage|Init2|Vsts|rc_|PluginReplace|notframe|svgtmln|optStr|rotateplaying|picheight|fontsizesmall|bold|lineh|IFRAME|parentIframe_style|mrgnsmll|hlscaptions|togglesubs|Control|scheme|action2|user|opposite|scalesmall|inversetime|prted|linker|liketext|icon3|today|CustomFonts|PjsFr|prtObj|ontouchstart|unblock|_duration_play|bgstretch|thumb_borderwidth|thumb_border|onMobOut|mobileover|thumb_radius|thumb_height|iconmargin|5000|Hideuntilto|thumb_width|CreateThumb|PluginCut|_duration_load|UpdateLoad|UpdatePlaySeek|_time_play|clickscalex|thumb_bordercolor|line_volume2|rule|Continue|evenodd|hideafter|hidebefore|hidebefore2|bandwidth|often|Rectangle|thumb_shadow|hideonleaveandplay|often2|linetippointer|topside|tippaddingright|openplaylistafter|openplaylistpause|sort|playerheight|leavepictureinpicture|SourceBuffer|hlslowquality|audioGroupIds|nameofhlsquality|renameQualities|HlsQualityLevels|mimeCodec|MediaSource|startLoad|onLoadedData|changeAspect|language|MetaAudio|nopause|unpause|wrong|hlsmaxlvl|CheckTop|iosexfull|Arpl2|ParentFS|OrientationChange|abs|webkitSetPresentationMode|lsfullstart|lsfullplay|UnArpl|aborted|Arpl|PjsCheck360|gainedsource|connect|Gain|um1|nextAutoLevel|onLoadStart|webkitendfullscreen|Posters|dashjs|hlsmto||hlsdebug|hlsvastwait|reHls|hlsaudio_off|hlsquality_off|preloaddash|hlsfto|preloadhls|isSupported|PluginDash|mpd|framei|anonymous|playsinlineonmobileiphone|maxLoadTimeMs|Interval|hlsdrmfp|FlussonicMsePlayer|loadSource|HlsLiveWaiting|livewakeuptime|hlsTextTracks|supported|debug|drm|hlscookies|portrait|landscapefull|PlgHlsFdt|hls_stuck_duration|dvr|isHidden|customBuffer|FullscreenChange|gradientcolorload|PluginHlsFps|setDashQuality|read|enterpictureinpicture|preposter|Image|updateTitle|setTracks|setDashAudioTrack|setHlsQuality|hls2|subtitleTrack|vast_ima|addTrack|stretch|setHlsAudioTrack|loadedmetadata|timeupdate|complete|checkBase64|volumechange|durationchange|showing|pointcolor|clr_contrast|clr_brightness|clr_saturate|tipa|dropscrlw|offsetwidth|roundingver_final|clr_sepia|vast_impressions_all|vast_remove|rem|dropscrlclr|action_back|tippmargin|pressed_|Verdana|plquality|stripsspace|normalonclick|stripsw|no3|current_sleep|google|hlsdvrtime|u10|redirectplaylist|_timer|usernew|OgatpfssYc0zSSwGlvPImLX5lvlElSdGmLw1lLs0muacNR4KmcM3mvwKlKIJlR4LmSl4mcl5hcwGlvo2lvP5mvTElSMGNSo2mLMIlKM5kvl0mLhJlST0kcdIkvX2lLw0lvlsPLwGmcd4lSoLmclElSMGlLTJlSs0lKM5kvTJlSP3lLo4kcdIkvM4Ncl2mvPsNR42lvoJlSTLNbI5kvs3mSP4lco3hdl5kvo0lvo1mvw5kcwGmvXKmSw1lcwsNR44mLh4mSd4mbI5kvP5lSo2lLP2hcdIkvMJmLPIlLsENR4Lmvh5NcM3mKaclSMGlSXJNST1NRI5kvhLmcd5NcM3hcdIkvlINSdLlLwENR4JlLX5mST0muMJlb40mSs5mchLkcwGlcoJlvTsPLdIkvXINco1lcoENR4IlcT1mcP1mbMJlb43mSlLlcM2kcsGNSXKlSo5mSwslSMGNcwKmSw2luI4kvw0lSd1lLs1hdlJlR4IlLd4NSd3kcsGNShIlSh4lRMJlR4JmSPJlchENb45lcw2lSTLNbMJlR4KmSwKlLM4kcsGNSM5mvd1lLssPLdJkvl2mcl1NSTENb45lcw2lSTLNbMJlR40NcX1mvw4kcsGNShIlSh4lRMJlR42lvT4mvT0kcsGNSPJlSTLNcTsPLdJkvo2mSd2lRI4kvw2lvd3NST5hcdJkvwINSoJlcsENR4IlcT1mcP1mbMJlu4ImSw1lSwKkcwGlcoJlvTsPLdKkvhINSlKmLoENR4JlLX5mST0muMJlu4LmSX1lcT3kcwGlvl0lSw4lcoslShGmSMJlcT3mKI5kvl2lvw4lco3hdlJlu42mcT2lcw3kcwGmcwJmLXLmcXslShGmLo1mLM0muI5kvX2lvT5mSM5hcdKkvs5lSl0mvhENR44mLT0NcM3mKaclSlGlcM2NSs3NbIJlb4INcsLmvX0hcdLkvdIlch4NcdElSMGlLTJlSs0lKMJlK4JmLdKmRIJlb42mvl5mchLhdlJlK4KmchKlSd5kcdIkvw3mvoIlclslSlGlvo3mvwKlKIJlR4LmSl4mcl5hcdLkvh3mLX5lvlElSdGmLw1lLs0muaclSlGlvo3mvwKlKIJlu4KlLX5lvTLhcdLkvh0lvhJlSwElShGmvd0lcX4NRMJlK4JmLdKmRIJlu45lvX4lvX5hdlJlK4JlcMKNcsJkcdLkvhLNST4mcwslSlGlcM2NSs3NbIJlK41lch0lch4hcdKkvs5lSl0mvhElSlGmLd1lvs4mRaclShGmLo1mLM0muIJlK45lvsJmLPJhcdKkvX0mSXINSoElSPGlcw5lcM1NbMJlu41lcdImSo3kcd0kvhKmLo4NcTsPLdKkvl1mvTImSoElSPGlLT2mSoJluMJlu4KlcwLlvo3kcd0kvP1lLsJlLsslShGlcT5mSd5luIJmb41lSw1lSwKhdlJlR45lcw3lSM4kcd0kvT4mShKmcoslSdGmLX1lSXJkcd0kvXKNcT4NSXslSdGmvh1NcX1mbIJmb42mcw2lST0hdlJlR40NcX1mvw4kcd0kvX3lcX0lSdslSdGlLX0lLT5mRIJmb42NcdJmSl4hcdJkvh1NShLlcsElSPGmvsJlSTLNbaclSdGlST0lSMKkcd0kvX4lSd1lLsslSdGlclJNcwJmKIJmb42mLM2mcdJhcdIkvs5lvT5mvhElSPGmvP5mvd1mbaclSMGmLTLlLMImuIJmb42lvs1Ncw2hcdIkvXINco1lcoElSPGmSs1lvh0mKMJlb40mSs5mchLkcd0kvTJNSTJNShsPLdIkvlINSdLlLwElSPGmcTLNcdLNbMJlb4Jmvd5mST5kcd0kvl1mvT3lShslSMGlcd3mcMLNbIJmb4Klvo3Ncs1hdl5kvs3lvs1lSs0kcd0kvM5NSMImSssNR43mch3mSX5NRIJlK45lvsJmLPJhcwGmvh3lSd1lLsElSlGmLd1lvs4mRacNR41lSd0mLl3NbIJlK41lch0lch4hcwGmcd4lSoLmclElSlGlvl5mSs0NRM5kvl0mLhJlST0kcdKkvwKmvsKmvwsPLwGlvo2lvP5mvTElShGmvd0lcX4NRM5kvh0lco2NShLkcdKkvhLmvwKmSlsNR4KmcM3mvwKlKIJlR43NSTLNcP2heAsSSdIkvd4mvwKlLdElSdGmLw1lLs0muaclSMGlSs2NShLlRIJlR45mvs4mcoslSMGlSw4mLP5NRIJlu4Jmvw5lch3hcdIkvhKlvPIlLsElShGlLw4mST3mKaclSMGlvP2lcT3NbIJlu42lvoKlSh3hcdIkvh5mcX3NSdElShGNcP0lcl3mbMJlb4LmvsKmvwKkcdLkvM0NSMLNcTsPLdIkvP0lSs1NSlElSlGlvT0lcl5mRMJlb41mcw2lSP3kcdLkvPKmLP5NSlslSMGmvwJmSl4mRIJlK41mvw0lvlJhdlJlb44lLl0mvhKkcdLkvoJlSl0mvwslSdGlchKmvwJlRIJlK43NchLlco3hcdJkvh1NShLlcsElSlGmLsKlLM3mKaclSdGmcw1mLoImbIJlK43NchLlco3hcdJkvX4mcw5NSlElSlGmLdJlLP2NRMJlR44lvX5lvlJkcdLkvT2NSPKlLdsPLdJkvw2Ncs0mvwElSlGmch3mcw5lKMJlu4ImLX2lchKkcdLkvh1mcMLNSTslShGlSTIlSwKlKIJlK4ImcwIlLs1hdlJlu4Klvl3Nch0kcdKkvs0mcMLmLPslShGlvoKmcMLmKIJlu42lvoKlSh3hcdKkvh5mvM1mLoElShGlLw4mST3mKaclShGlLd5mLdJmKIJlu4Jmvw5lch3hcdKkvlLlSTLNcTElSdGNSX4NcP3hcdKkvlLlSTLNcTElSdGmLw1lLs0muaclShGlLlJmSl4mRIJlR42lvd5lvhKhcdKkvlJNSoJlSoElSdGmchINcX2mRMJlu4KNSXImSo3kcdJkvd5lvhJlSTsPLdKkvh3lvPIlLoElSMGNSXLmST2mRMJlu4Klvl3Nch0kcdIkvo0mvoLlSsslShGlSTIlSwKlKIJlb41mcd3lLM4hdlJlu4ImLX2lchKkcdIkvlLmvoKNSoslSdGNSX4NcP2NRIJlb4JmvlKmvw5hcdJkvsKmvwKlLdElSMGlchJlLP2luaclSdGmvs0NSw5lKI5kvs3NSPKlvl3hcdJkvP5mSo3lcPENR44lcs0mvd1mbMJlR4KmSwKlLM4kcwGNcM4mcXJmSPsPLdJkvMKlvX5lSdENR44lcs0mvd1mbMJlb44lLl0mvhKkcwGNco5mchKlLoslSMGmvwJmSl4mRIJlb4IlvdLmcXKhdlJlb41mcw2lSP3kcdIkvd2lLh2NSwslSMGmcPJNcT5lKIJlb4LlLX3lvw3hcdIkvl2Nch2NShElSMGmSPJmLlINbaclSMGlvw0mvo5lRIJlb43mcX3lLd4hcdIkvh0mvM1mLsElSMGNSXLmST2mRMJlb4Klvh0lcl4kcdJkvd5lvhJlSTsPLdIkvd5Nco0NSwElSdGmchINcX2mRMJlb4JNcX5lvlJkcdJkvXKlSwKlvhslSMGlSs2NShLlRIJlR43NSTLNcP2heAzhfYBnfI9iKmyYyYyYyXzOvJok3atpfs|huIupgxIYRh6hzm2YKhEhzaHo2x0ZV9GhvAuXy90pf9FkVJxYzPukbiFXWizZV4uNuhIhcMslvsslSw4huIunfxGZKh6lRIunfxGZ3UKnbh6hyeIZSBLYVUDkbEJlbhEhzmvXVJxn3Yxouh6hvdGluhEhytBYfTuNvdEhytBYfUHnyJxXWYxXV5wofJtqRh6lW0EhzmxpgQBnypLhvB7hzmxpgQBnypLmbh6lRIuo2U0pfxGY3l0XVm0ZV9GhvAuo3axYVPukbiFXWizZV4uNuhIhcMsmKMIhuIuXyJ1ouh6lRIuXypthvAulb4LhuIupyeEpVUvn2JHouh6hyYyYyYyYuhEhziHpV5wZV5zhvA2kbiLYWQ0ZV5zoLTuNvdEhzmxpgQBnypLmVevpfxHnuh6hy9IYV5yZVJxhz0EhymHnzQKn2JrodQRULsuNzEun24uNvdEhy9KYfUKhvAJlbIuXVm0ZV9GhvAuX3ULpf9FhuIuZVmHnuh6hvJLpyosp2xwpfs9iLhIiKaAYVxzZgP9iLhIiL48YKa0oyeGo2YHoy09i3QKXV5Lnfe0YRsIkbMKjRo|OgaHngxzn24sYyxEnb1KpVJxORpGn256YWiHiKaIn2xGpgl9iLdGNcTIlcs4mcPslR41lSP2mcs0mbMJNb4KmchJlSl4hcdGmSd0mvP4mcPslSsGlvPKlSdLNbM3kvo0lShJlcw0hcd5kvh0lvdJlLssmK43mcdKlSM5mbMJNR4KmchJlSl4hcMGmSd0mvP4mcl4hcMGNcTIlcs4mcPLhcMGmSd0mvP4mcl4hcMGNcTIlcs4mcPLhcdJkvoKmcP1mLhsNR4JmvTLNSlLlRMJlR43mLT4mvwLhcwGlSoJmSo2lclslSMGmLo1Ncs4mRMJkvs1lcM4NcP0hcdIkvoLlcXKlcwzhfYBnfI9iKmyYyYyYyXzOvJok3aHngxzn24|OgixX3Psqc0zlSMGmRosqS0zNRosp2xwpfs9iLwGmRosZfUBY2t0ORo2iKayZVJEORovYyYyYyYyiL48Wb9KYVm0OvJIXWQAhfP9i004kvP5mSd3NSlJkcXGNSwLmclLNRalmb41Nch2NcwImbILkvdImSl5mvX5hdILkvs3mLsIlvl1kclGNcd0mLd2mvhsScoGmLT1NSMKNSXEmK42mvs1mLwJhdI1kvd0lch1mvP5kcoGmvX4mSo5lRalmR4JmcMKmSX0NRI4kvX2NcT3NSdsScwGmcw1lSo5lLdENb42mvs1mLwJhdI5kvP5mSd3NSlJkcPGmvP0mcX3mLdsScsGmcw1lSo5lLdEmb42mcP0mvo3lRalNb40NSTJmLwLlRI2kvw5lLPLlLwsVuosYyxEnb1KpVJxORpGn256YWiHiKayZVJEORovYyYyYyYyiL48Wb9IXWQAOvJok2o|OeIHo3YzOuhEhzQ5ofTuNuiLpyoukbiIn3mBpfxHnuh6hymHnzQKn2JLkWiBY2t0huIunVeKY2xGhvAulbMKlbMJlbMIhuIuo2mtnfTuNuhJkvdukbiEZV5DhvAJkbiEZV5DpWiEhvAuXWaBNzaBogpxXyFBpbhEhzmvXVJxn3Yxouh6hvdGlKi9kbiyZVJxhvAuWf5ApgQIoLBok1IHZfJLkze6Z2AGpfUvZeIHpyxwYV9LmUIHlLsIlLo0YfhJlVT4XLo0Ycl2YVlKYfl1lSewmVXJlfYokLl4lcl3mfQulSexNfl3mfPLmyUvlyQvmSdJYcUylSayky0LpSs|upload|XWU0Ze9DYWw9lSo1lSw5NSXKmu02NcYwmvP4XVXKmcmykSMFmyhJNSmtYyiwlVh1lSw5YSP0NfXLNcMIlcl0XvhKlLoypv0LizQBnVT9lbhEhzaEXWxEZWm0hvB7hyiEpWhuNvdEhyizXRh6hvMGmRhEhzYtngUxX29En3huNuiyYyYyYyXukbiKn3UGYfxGYKh6mbIuYgiHofJBo3PuNvdEhyQKn3atny0uNui0huIuXVJ3XWxLhvAJkbiFXWizZV4uNuhKlbMIhcMslvMurRIuX29GpgiHne9QmgBXpRh6qKiHnuh6lRIun3iwYWhuNvhJkbitX3QBn24uNuivpWm0n20ukbiBX29GhvAuOgm2YKa3ZVQ0Zc0zlvMzhftxZVpApc0zlvMzOvJzhfYBnfIFozUEYS0zny9GqyUKnKoso3QKn2FxORovYyYyYyYyiKa0oyeGo2YHoy09i3QKXV5Lnfe0YRs0kbM0jRo|offsetX|OgixX3Psqc0zlbosqS0zlbosp2xwpfs9iLdKiKaAYVxzZgP9iLdKiKayZVJEORovYyYyYyYyiL48Wb9KYVm0OvJok2o|OeIHo3YzOuhEhzQ5ofTuNuiLpyoukbiIn3mBpfxHnuh6hyiHpgQHnR1KZVpApbhEhy1toypBnuh6hvd0hchIhch3hcMukbiuYKh6lRIuXypvn2JHouh6hvMIlcMIlbhEhyizofewYfxGYKh6hvd0hcMslSPslST1huIuXyJ1ouh6lRIuXypthvAulb4LhuIuXypHhvAulRhEhytBYfTuNvdEhyduNuhIhuIuZfxwYV9GnfUtpyUtnyQInfe5hvAJrRIuogm0oymGYyouNvMEhzaKYVJHXVPuNvdEhytHpfFxqRh6qKiLYVUDo2xwYWluNvMEhy51nWluNve9kbixYyYxX3QLhvAIkbixYyYxX3QynfxIhvAIkbixYyYxX3QwXWiDhvAIkbixYyYxX3QwoyEuNuhJhz0|isflash|overed|pjsga|handlemarginleft|handlemarginright|moved|contrast|thumbs_img||reloaderTimer|logos|pointa|235|files_scale|dropbgcolorover|files_sleep|dropautoplay|ffce00|sub_move|pointw|Changed|settings3|brdclr|brdtop|setioff|iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT|settings3action|OqFAAAAdklEQVQoz42QQQ7AIAgEF|kbq|settings4|settings4action|settings5|RWAlnQyyazA4aoAB4FsBSA|sub_unmem|bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg|settings5action|settings2action|unatpl|viewinit||poster_floatheight|poster_floatwidth|subtitle_errdel|constrols|pljscom|fast|msFullscreenElement|poster_floatposition|WEBVTT|poster_floatmargin|logo|Dialogue|DOMContentLoaded|mrgnp|PluginSubword|pjs_thumbnail_|black|posterwidth|posterheight|sub_fonted|offsetoptions|2px|posters|444444|postertitleonhover|sub_drag|customimage|1006|1005||unescape|slidespeed|177|sleepoptions|grdtc|settings1|settings1action|grdta|grdth|shape|clone|200000|fullscreenElement|999999|titlecolor|222222|subfeedhide|170|888888|historybgaover|line_play|drop||f2parent|OgatpfssYc0zSSMGlvTElSlGlSX1NcsKmballR4JNcwLmLTElSPGmLo3mSh5mbaclR42NcPLmLTElSTGmvlJmcdJNbMKkvs4lvTElSTGNSTJmvd3muMLkvo0Nco1kcd1kvP1mLM1NcssScPGlvPLmLTElSTGlSoKlcT4Nbacmb43NcwLmLTElSTGmSw2lvM1NRM1kvl4mSXKmRIJmR45mcPLmSh5hcXGlchJlvTElSXGlvM4lSd3mualmu4IlvdKmRIJmu43mvP3lcT5hdl2kvMKlSh1kcd3kvo5lvl4lvPsmu44mvTElSsGmvh3NchLmRM3kvs5mcl3mRIJNb42lvo4lvl1hdI5kvo3lLdKmRIJNb42lvo4lvl1hdlJlb44lcsJlvTElSsGmvh3NchLmRMJlR42mcXKmRIJmK43NShLNch0hcdJkvX0mvh1kcd2kvo2mcoImSwsScdJkvX0mvh1kcd2kvhINcdJmLXsPLdKkvh4lSs3mRIJmR45mcPLmSh5hcdKkvs4lLo1kcd1kvT5mvhImSwslSlGmchLmLTElSTGlSoLlSo2mRallSlGNSd4mLTElSTGmcT4lSo2mRaclSPGmLs1kcd1kvw1lSXJmLXslSTGNSsLlSh1kcd1kvXLlLM4NchslSXGmco4lSh1kcd0kvo3mLTKNSPsScd3kvPJmLTElSlGlSX3hdlJmK42mvTElShGmLl4NSPJluMJmK43lLh1kcdKkvhLlcw3lcXslSoGmvMLlSh1kcdJkvo1lLoLmSlsPLd3kvP3lLo1kcdJkvh3mvTslSoGlSX0lLo1kcdIkvs2NSX3mvTslSXGmLlJlvTElSMGmvhKmvo2mRallSXGlvT4mLTElSMGlLTImSh5mbaclSXGlLXENR42mvl3lLTKNRMJmu4LmuI4kvw2mSo2mcoJhcd2kvh1Nco1kcsGlvo4NSoImSwsScd2kvoLlSh1kcsGlcM3lLsKlLTsPLd3kvd2mcl3mRI3kvo1NSsKlLTLhcd3kvP3lLo1kcoGlLTKmcPJlSsslSoGmvMLlSh1kcXGNco1mLX0mLdsPLd3kvoLlvTEmu4LNSs1lvw0lRMJmK42mvTEmR44NSM1mSs4luMJmK40lSo1kcTGmcXKmRallSXGmco4lSh1kclGNcTKmSh5mcdsPLd1kvw4lLdKmRIKkvw5mSh5mcdKhcd0kvo4mRIKkvX3lLw3lcT5hcdLkvwJNco1kclGlSoImLX0mLdsScdLkvPKlLo1kclGmcT1mLX0mLdsPLdKkvs4lLo1kclGlclJmvd3mvTslShGlvsJNco1kchGmvsLmcoImSwslSdGmvP2lvTElu40lSw3lcT4NballSdGmvP2lvTElR44mvlJlSo2mRaclSdGmvP2lvTElb44lLT0mcdJmLXslSMGNcM4lSh1kcMsNR43mLlJlvTElbalmK44NSPLmLTElbacmu44mvTElbM2kvMKlSh1kcMGNcl1mcPJlSo2hcXGlchJlvTElR44mvlJlSo2mRalmu4IlvdKmRIKkvPJNSoImSs4hdl1kvl4mSXKmRIKkvX4lLP3lcT5hcPGmLs5lLo1kclGlclJmvd3mvTsmb4Kmcl3mRILkvP1mcX0mLM2hdILkvo0Nco1kclGlSX5mvP3lcXsPLhGNcsKmRIKkvX3mSM4Nch0hcdGmvs0lLo1kchGNSw1lvw0lShslR4JNcwLmLTElK44mSd0lSd3muallb4KmRI1kvP2lSw0lSd4hdlIkvMIlvTEmR44Ncw0mcdJNbMFlb4ImvTEmu4LNSo5mLM1NRMIkvM2mcl3mRI2kvs3mcX0mLM2hdlIkvd5lLo1kcoGlLTJNcsKlLTslb41lcs3mRI3kvo1NcoImSs4hcMGNSl2lvTENb4IlcXKmvP3lRallR40lcs3mRI4kvh3NcPJlSo2hdlJkvlImLTENb45mvP2mcoImuMJkvlImLTENR42mvhImSs4luMJkvPINco1kcdIkvl0Ncs1lvwsScMGNSl2lvTElSMGmvhImcPJluaclb41lcs3mRIJlb44mvs1mSs4hcMGlSwLmLTElSdGlvo1lLsKmbMIkvM2mcl3mRIJlR43mSh2lSo2hdlFlb4ImvTElShGlvh5NcTKNRMIkvMIlvTElShGmLl3NchLmRMIkvh1kcdLkvd2mSs4lvPsVuamlK4LmLd4mLTElSMGmSw3mSh5mbaclK4KmvTElSMGlSo3lvw0lRMLkvhINco1kcwGmLP2mcPJlSsslK4Klcs3mRI5kvlJlLwJlSo2hdlLkvhINco1kcsGNcsLmvd3mvTslK4KmvTENb40mSd2mcoImuMLkvl2mvh1kcsGlclIlvw0lShsPLlGmcd2Nco1kcoGNcl0lSP3lcXslK40kcoGmvh3lLsKlLTslK4LlvdKmRI3kvP0lSh5mcdKhdlLkvh0lvTEmK4KmSP2mcoImuMLkvdImLTEmK4INSwKNSPJluMKkvwKmLTEmu45NSs3lcT4NballR44mLT2lvTEmu4LNSh5mcdJNballu44lcwLmLTEmb43Nch5mLM1NRallK44Ncl3mRI1kvl5NSl1lvw0hdl0kvM1NcdKmRI1kvP5NSw0lSd4hcPGlvXImvh1kcTGmSPJlvw0lShsmb40mvlJlvTEmR41lSo4lvl1lKacmb42mvT2lvTEmR40NSl3NSPJluM0kvs1lSh1kcTGmcM2lcT4Nchsmb45NSo1kcTGlvX2NSdJmLXsPLTGmvlLlSh1kcPGmvX3NcTKNSPsmu4LNSsJlvTEmb4Klvd5lSd3muM3kvhLlcXKmRILkvw2mch5mcdKhdl3kvPKmLTElK45lcT2lSo2mRM3kvT5mvh1kclGmLs3mLM1NcssmK43lSPLmLTElK42lvoLlvl1lKacmK44lLh1kclGmcX3mRM3kvs5mcl3mRILkvh3lLMKNSPJhcoGNcw0lLo1kclGlcoLmSh5mcdsScoGNcw0lLo1kcdGNcXLlSd3mvTsScwGmLoLlSh1kcdGNcXLlSd3mvTsScwGmLoLlSh1kclGlcoLmSh5mcdsPLwGmLoLlSh1kclGlvoLlch5mcdsNR44lLTElK40mvo1hcwGNST4mLTElK42lvoLlvl1lKaclSMGlco2Nco1kclGmLs3mLM1NcsslSMGlvP1mvh1kclGNSM1mvd3mvTslSMGmcl2Nco1kclGNSX0lvw0lShsPLdJkvh2NSl3mRI0kvhKlvP3lcT5hcdKkvMLmcl3mRI0kvX2mLs1lvw0hcdKkvX3kcTGlvX2NSdJmLXsPLdKkvsJmvh1kcTGmcM1mRMJlK4Ilco1kcTGmcwLlvl1lvwslSlGlvM0lLo1kcTGmSd3lvX0mLdsPLdLkvPImvs3mRI1kvT0lcoLmSh5hcdLkvXINSl3mRI1kvP5NSl4lvl1hcdLkvo4lLo1kcTGlLw5lLTKNSPsScd0kvs1NcdKmRI0kvo4lLTKNSPJhdIJmR43NSd4mLTEmu4LNSPImSs4luallSPGmLPEmu45NSs3lcT4NbaclSPGmSX1mvh1kcoGlcw5NcTKNSPslSPGmch1kcoGlvT1lvM1NcsslSPGlLP2lvTEmK40mcdKNSPJluaclSPGlvX3mRI3kvXKmLl4lvl1hcd0kvh1lcXKmRI3kvsLmcd0mLM2hcd0kvlIlSh1kcsGlclIlvw0lShsPLd0kvPIlvTENb40mSd2mcoImuMJmb40mSs3mRI4kvs4lLXJmLX1hcd0kvP1Nco1kcwGlLdLNSdJmLXsPLd0kvP1Nco1kcwGmLPLlcs4lvPslSPGmcMKmRIJlb4JmLT2lSo2hcd0kvlIlSh1kcdIkvT5mLTKNSPsPLd0kvh1lcXKmRIJlb43NSl2mLX1hcd0kvh2mLTElSdGlcMImcPJluMJmb4LmcXKmRIJlR4JNcX1lvw0hdlJmb40lvTElSdGlLoKmvd3muMJmb41mvT2lvTElSdGmSh3NSoImuMJmb43mbIJlR42lvwJlSo2hdIJmR43NSd4mLTElShGlvlLmLX0mKallSPGNcT4lSh1kcdLkvs0mch5mcdsScdLkvo4lLo1kcdLkvhKNcP3lcXsPLdLkvXINSl3mRIJlK4Jlvo4Nch0hcdLkvPImvs3mRIJlK4INcT5mLM2hcdLkvhImcl3mRIJlK4JlRaclSlGlcM3mRIJlK4JlLl0mLM2hcdKkvsJmvh1kcdLkvhKlSo2mcoslShGmvoElSlGlLXINSdJNbaclShGlcl0lLo1kcdLkvw1NSw3lcXslSdGlvX5lLo1kcd0kvPImSwJlSsslSMGmcl2Nco1kcd0kvX2lLTKNSPsPLdIkvh0mSXKmRIJmb43lvd2mcoJhcdIkvM3mvs3mRIJmb44mcMJlSo2hcwGNST4mLTElSPGNSw5NSPJluacNR44lLTElSTGlSXIlLhLmRM5kvo3lLdKmRIJmR4LmSP3NSPJhcwGmLoLlSh1kcd1kvT1mch5mcdsScwGmLoLlSh1kcd2kvo2mcoImSwsScoGNcw0lLo1kcd2kvo2mcoImSwsScoGNcw0lLo1kcd1kvT1mch5mcdsPLoGNcw0lLo1kcd1kvl1mco5mcdsmK44lLh1kcd1kvd2lclKlLTsmK43lSPLmLTElSPGNSw5NSPJluacmK41NSXKmRIJmb44mcMJlSo2hcoGmch3mRIJmb43lvd2mcoJhcoGlvlImvh1kcd0kvX2lLTKNSPsPLXGlLw4lSh1kcd0kvPImSl1lvwsmR42lLlJlvTElSlGNST5mcdJNbM0kvw5mLTElSlGlLXINSdJNbacmb44mSdKmRIJlK4KlvdKlcT5hcPGmvX1mvh1kcdLkvdLlvwJlSssmb40mvlJlvTElSlGlSM5mcPJluacmb4KmvM2lvTElSlGlcs1NSoImuM0kvM1NcdKmRIJlK4Jlvo4Nch0hclGNcsLmLTElSlGlvh5mSs4luallu44lcwLmLTElSlGNcP1NSoImuallR44mLT2lvTElShGlvl1mcPJluallu45lvo1kcdJkvXKNSdJmLXsPLlGlSM3mRIJlR41lvo5mLM2hclGlvPKmRIJlR4LmLh2lSo2hclGlLhJlvTElSdGlSs2mSh5mbaclK40kcdJkvMIlcP0lShslK40lSX4mLTElSMGmLwLmvo2mRMLkvl3lSs3mRIJlb41NSo1lvw0heAzhfYBnfI9iKmyYyYyYyXzOvJok3atpfs|webOS|tvOS|MacIntel|platform|||ipod|OeIHo3YzOuhEhyevpfxHnuh6hy11pfTukbitX3QBn24KhvAupV5FpWQxhuIupgxIYRh6hzm2YKhEhzaHo2x0ZV9GhvAuX29GpgiHnglFoyxzZgPukbiFXWizZV4uNuhIhchIhcdIhcMukbiLX2eEYV92YWhuNuhJkvhukbiuYKh6lbIuXypIXVQwZV5zhvAulbMIhcMslbhEhyizXRh6hvMGlKhEhyiEpWhuNvdEhyiznKh6hvdukbiuY2mHnf9KhvAulcMIlcMIhz0EhymHnzQKn2Jrpy9EpV1xhvB7hy9KYfUKhvAJlKIun24uNvdEhzQ5ofTuNuiLZfeIYRhEhyevpfxHnuh6hzYHngUFYRhEhysuNvdIkbiKn3UGYfxGYKh6hvdukbivpWm0n213ZVQ0Zbh6lRIupKh6lSP1kbithvAJkbitXyouNuhIkvlukbitn3Yxouh6hvMukbivn2JHouh6hyYyYyYyYuhEhymHnf9KXyouNuiyYyYyYyXukbivn2JHoy92YWhuNuiyYyYyYyXukbiAZVQxhvAJkbiAZVQxn3U0nWU0YRh6lRIuoy90XWQBn24uNvMEhyizofewYfxGYKh6hvd1hcd1hcd1hcd1huIuXyouNvdEhyttnyQEYRh6lbIuof9LZWQBn24uNuiun3Q0n20FoyxzZgPukbiFXWizZV4uNuhIhclIhcoLhcMukbiungUKhvAJkbiuY2duNuhIkvlukbiuY28uNuhJhuIuXV5BnVe0ZV9GhvAuof9LZWQBn24ukbitofQKhvAuoyxzZgPurRIuX29GpgiHne90ZV1xhvB7hy9KYfUKhvA0kbiHnuh6lRIuXVm0ZV9GhvAupfxFYRhEhzQ5ofTuNui0YWt0huIupfU4pbh6hvM6lcMukbiyn250o2x6YRh6lShEhy1toypBnuh6hvMslbMJlbMIhuIuX2JBX2EuNvMEhzmxofeKXWQHouh6hxIHhuIuYy9Gpbh6hwtxngYxpfxvXRJaoyxtnbhEhzpzZgPuNvMEhyizhvAJkbiuY28uNuhJhuIuXypIXVQwZV5zhvAulSoslSoslSosNcTukbiuY2duNuhIkvlukbiungUKhvAJkbiLZf93YgUKXWQBn24uNvdEhzmAn3pun3QAhvAJrRIuX29GpgiHne9wpWitpfxHnuh6qKiHoyQxouh6mKIun24uNvMEhyevpfxHnuh6hyQ1oye0ZV9GhuIupgxIYRh6hzQxqgPukbi0YWt0hvAuWb8slcAIlbhEhyYHnzQLZWBxhvAJluIunVeKY2xGhvAulbMIhcMslbhEhymEZVmDhvAIkbiyn250hvAuRfUEpyU0ZVmtkdeKZVeEhuIup2pApbh6lbIuXyouNvMEhyizofewYfxGYKh6hvdIhcdIhcdIhcMukbiuY28uNuhJhuIuXypthvAulb41huIuXyJ1ouh6lW0EhymHnzQKn2JrXzUyYyUKhvB7hy9KYfUKhvA4kbiHnuh6lRIuZVmHnuh6hvJwZWXsX2Jto3l9i2JHXVQxozhAoyeGYbwzOvJLpyosX2Jto3l9i2mBoym1nfeKjgitnyPBiKa2ZVU3Py94ORoKmRMKmRM1lbM1lbo|OfmBoymEYRavnfeLoL0zofe0ZbtKXV5wjRoso3QKn2FxORoAX29En3hBiKavqc0zmSMzhfm5ORo1lbosov0zlvMzhfYBnfI9i25HnyTzhgm0oy9DYR13ZVQ0Zc0zluoso3QKn2FxkV1BpfUKnfxFZWP9iLdIi1IHOvJok3m2YL48Wb9wZWX|rgJ8kyJHXVQxozhAoyeGYbwsq3aHo2x0ZV9GNuaKYVJtpfx2YSFFXWizZV46hb0KmWa4hcMslbMFlvUIqcF3ZVQ0ZcAsmSaIqcF9kyJHXVQxozhAoyeGYbw6XyUyn3ixhgFvn250YV50NuMziLFwZWmInfe5Nuaunf9vZLFIXVQwZV5zkWQHocAslSMIiSF9kymBoym1nfeKjgitnyPBhgFtnyxFXWQBn246hgiHpfe0YRtKXV5wjRMKoKaEZV5xXWhsZV5yZV5BpfT7ZfUBY2t0NuMJlcMxN3QKXV5LYy9KnR1HoyxzZV46hfmxnzQxouavYV50YWh7p2xwpfs6hcdIlbT7of9LZWQBn246hfeuo29EpWQxN3QHocAslcFun3Q0n206hcM7nfUypcAslcFKZVpApcAslcFFXWizZV46hfe1pf87rR5IXWQAjgitnyPBhgFLpgiHZ2TFYfeLZfeKoye5NuMJkbMKlcM7o3QKn2FxkVQto2tHYyYLYWP6hcM7XV5BnVe0ZV9GNuawXWmAjgitnyPBhcdGmWlsYVeLYR1Bnu1HpWPsZV5yZV5BpfT7rTaDYWxyoyeFYWlsoy90XWQxjgitnyPBhgEJlcMxhgF0oyeGo2YHoy06hgiHpfe0YRsLmvawYVoBN319PfFxqVYKXV1xoKawXWmAjgitnyPBhgEIiRa7o3QKn2FxkVQto2ttozitqSAslRIslvMIN3m0oy9DYR1wXWmAn2Yyo2U0NuMIN301lbTsq3m0oy9DYR1wXWmAXWiKXWw6hcs5kbMKlcM7o3QKn2FxkVQto2tHYyYLYWP6hb0LmWa4N30JlcMxhgFLpgiHZ2TFYfeLZfeKoye5NuM4NRIslvMIN3m0oy9DYR1wXWmAn2Yyo2U0NuMFlSh0ogs7rW0ukbitX3QBn24uNuiupVYyYWhukbi0qWaxhvAuX3mLhuIuof9LZWQBn24uNuivYV50YWhukbiLX2eEYRh6lRIuX2JBX2EuNvMEhytBYfTuNve9kbivn250oy9EW3mxpgQBnypLhvB7hy9KYfUKhvAJluIun24uNvdEhyxvn24uNuh8o3YzhgpBYgQAORoKlbosZfUBY2t0ORoKlbo|Windows|Safari|valuepaddingtop|Firefox|OfosYyxEnb1KpVJxORpGn256YWiHiKa0oyeGo2YHoy09i3QKXV5Lnfe0YRsJkbMIkvTBiL48ofe0ZbawORpmNb44lLl3mRIJlK4IlLw1NcsKhdlJlb45lcl3mRIJlK4IlLw1NcsKhcdKkvT4mSXKmRIJlR4Lmvs3lcT5hcdKkvT4mSXKmRI5kvlJlLwJlSo2hdlJlu41NcT2lvTEmK4KmSwJlSo2mRMJlb45lcl3mRI1kvT4NchLmSh5hcsGNclLmLTEmR41NcsKlLTKNRacmu43mvl3mRI1kvT4NchLmSh5hcTGlcsJNco1kcoGlvT5lSd3mvTsmR4INcd4mLTENR4LlSl5lSd3muacmR4INcd4mLTElSdGlLX4mLM1NRM2kvo2lLo1kcdLkvMLNST4NchsNb44lLl3mRIJlK4IlLw1NcsKheAsSSsGNclLmLTEmK40mSdLmSh5mbacNR44mSd4mLTEmK40mSdLmSh5mbMJlb43lcX4mLTENb4LlcPJlSo2mRMJlb43lcX4mLTENR4LlSl5lSd3muaclSMGmLM2Nco1kcdIkvlKlLoImSwsNR44mSd4mLTElSdGlSo2mcoImuM4kvsLlLo1kcdJkvd3mvP3lcXsPLoGNcd1mvh1kcdJkvd3mvP3lcXsmu45mvM2lvTElSMGlLhLmLM1NRM2kvw2lcXKmRI5kvlJlLwJlSo2hdl2kvw2lcXKmRI4kvlImcdJmLX1hcoGNcd1mvh1kcoGmcTJlLTKNSPsNb44lLl3mRI3kvP1lSl1lvw0heAzhfYBnfI9iKmyYyYyYyXzOvJok3atpfs|Edge|Trident|BRAVIA|valuemargintop|993|appName|userAgent|valuemarginleft|valuemarginbottom|trident|valuepaddingright|valuepaddingbottom|OgatpfssYc0zSSMElballSXElballSXEluallbIKhdIIkcMsVuamlbI2hdIJmuI2hdIJmuI4hdIIkcssScMEmuaZhd0IkcdKhdIJmuIJluallSXElSPsScMElSPsScMElShsVuosYyxEnc0zh2YyYyYyYupokL48Wb9zOvJok3m2YL4ukbitX3QBn24uNuiInfe5nfxLpbhEhzaHo2x0ZV9GhvAunfUypbhEhy1toypBnuh6hvMslbMIhch1huIuXyouNvMEhzmvXVJxhvAJkvTEhzQ5ofTuNuiLpyoukbitnyxFXWQBn24uNuiIn3mBpfxHnuhEhyizofewYfxGYKh6hvlslKMLhclukbiuY2duNvMGmbIuXyptn3Yxouh6lb44kbi0ZWMuNva9kbivn250oy9EW2Y1nfIuNzEun3iwYWhuNvd1kbiHnuh6lRIuZVmHnuh6hvJLpyosp2xwpfs9iLhIiKaAYVxzZgP9iLhIiL48YKayZVJEkWi1nfT9i25HnzBxoy8zhgQKXV5LYy9KnS0zpgitnzmEXWQxjcdEhcdBiL48ofe0ZbawORpmmu42mLP0lcTJlRIIhdI2kvX3mcPImSdJkcdGmLPJNSl1mcssScdGmLPJlSP5lSXElR43mcd5lLT0NballR43mcdJmcwJmuI2kvX3mLPJNSl1hdIIkcXGmvo3mcd5lLTsScMElbalmu42mLP0lcTJlRIIheAsSSd4kcMsScd4kcXGmvo3mcd5lLTsScd2kvh1Ncs1lcsEmu42mLo0lSwLmRallSXGlvT4NcTINbIJkvo0lSwLmSP4hdIJlR4LlvT1NSP5kcdGmLPJNSl1mcssScdJkvlKmST5mcwElballSsElbaZhd0Jkvo0lSd0NSd2kcdJkvlKlvT4lcXsScdGmLPJlSP5lSXElSXGlvT4lcX0mRalmu42mLP0lcTJlRIJmu4KmSsImvP1hdI2kvX3mcPImSdJkcd4hdIIkcd4hdIIkcdJkvlKlvT4lcXsScdGmLPJlSP5lSXElSdGlLhKmSsImuaZhd0JNbIJlR4Llvh1NcM2hdIJNbIJNballSdGlLh1mSw0NRIJNballSdGlLh1mSw0NRIJmu4KmSsImvP1hdIJmu4KmSs4mSM4kcd2kvh1NcM2mcTsScd2kvh1Ncs1lcsElSdGlLhKmSsImuallSsElSdGlLhKmSsImuaZiKayZVJEORovYyYyYyYyi1IHOvJok2o|appVersion|OfosYyxEnb1KpVJxORpGn256YWiHiKayZVJEORovlcMIlcMIiKa0oyeGo2YHoy09i3QKXV5Lnfe0YRsKkbMLjRo|valuepaddingleft|huIuXVm0ZV9GhvAuo2U0pfxGY3lukbiIn3mBpfxHnuh6hymHnzQKn2JLkWiBY2t0huIunVeKY2xGhvAulbMKlbMJlbMIhuIupgxIYRh6hzm2YKhEhzmvXVJxn3Yxouh6hvdGlui9kbivn250oy9EW3aEXWxEZWm0hvB7hy9KYfUKhvAJmbIun24uNvMEhyxvn24uNuh8o3YzhgpBYgQAORoKlbosZfUBY2t0ORoKlbo|Opera|armv|Roku|valuemarginright|aload|OfosYyxEnb1KpVJxORpGn256YWiHiKa0oyeGo2YHoy09i3QKXV5Lnfe0YRs1kbM0jRo|__storage_test__|OeIHo3YzOuhEhyttnyQLZfQ3hvAJkbiAXV5wnfUFXWizZV4uNuhIhcMsluM0huIunfxGYWQBof1toypBnyiHpgQHnRh6lSTEhyizhvAIkbiungUKhvAIkbiuY2duNuhIkvlukbiuY28uNuhJhuIuZfeGYfJxZfxwYVxGZWPuNve9kbivn250oy9EW3aEXWwuNzEun3iwYWhuNvhEhy9GhvAJkbiBX29GhvAuOgm2YKa3ZVQ0Zc0zlvMzhftxZVpApc0zlvMzOvJzhgQKXV5LYy9KnS0zpgitnzmEXWQxjcTEhclBiL48of9EqVJBnyTsof9BnzQLORoIkvT5lLo1hcMGmcs0lLsslb41mvh1hcdLkvTJmSXLhcdJkvPLmLTsmKMIkvT5lLo1hcMGmcs0lLszhfYBnfI9iKmyYyYyYyXzWb8|home|hbMshcJKYVm0hgm0oy9DYS0zny9GYRosYyxEnc0zh0YfQwYfQuosYyxEnb1KpVJxORpxpyUGn2QwiKa4ORoKlvXzhgw9iLhKNRosp2xwpfs9iLTzhftxZVpApc0zlvPzhgi4ORoKkvTzOvJok3ixX3P|1qKiLX3ixYV5vn2JHouh6hvMIlcMIlbhEhzQHn2JuXWhuNzEuX29En3huNuhIlcMIlcMukbiAZVQxhvAJkbiFXWizZV4uNuhFNbMJmRMJluMKlRhEhypKXVQBYV50hvAIkbitnyxFXWQBn24uNuitngaAXRhEhyduNuhIhuIuZbh6mSPEhyiEpWhuNvMEhziHpV5wZV5zhvALlz0EhymHnzQKn2Jrpfx0nfTuNzEun3iwYWhuNvdEhy9GhvAJkbitX3QBn24uNui0ZWQEYRhEhzQ5ofTuNui0YWt0huIuof9LZWQBn24uNui0n3MFnfUypbhEhymEZVmDhvAIkbiAXV5whvAIkbi0YWt0hvAuhuIupyeKhvAupfx0nfTukbiAZVQxhvAJkbiAZVQxn25Infe5hvAJkbitnyxFXWQBn24uNuiIn3mBpfxHnuhEhyizhvAJkbiuY2duNvMGmbIuXypIXVQwZV5zhvAumuM2hcXsmui9kbivn250oy9EW2JBnyTuNzEun3iwYWhuNvlEhy9GhvAJkbi0qWaxhvAuo2ttofTukbitX3QBn24uNuiEZV5xhuIuZbh6mRIuoy91nyQBnyouNuhJhuIupKh6lSMIkbithvAJkbitXyouNuhIkvlukbitnf9tYbh6hvMGmbhEhyeHpyUKhvAulbhEhymHnf9KhvAuYyYyYyYyhuIuX29En3iuYKh6hyYyYyYyYuhEhymHnf9Knf9tYbh6hyYyYyYyYuhEhymHnf9Kn3Yxouh6hyYyYyYyYuhEhyi1YyYxouh6qKiHnuh6lbIuX29En3huNuiyYyYyYyXukbithvAIkvU9kbiIn3mBpfxHnuh6hyiHpgQHnRhEhy1toypBnuh6hvMslvTsmLhslvTukbiAXV5wnfTuNvdEhyizofewYfxGYKh6hvosmKM3hcoukbi0ZWMuNvdEhytBYfTuNvdEhytBYfUHnyJBpyTuNvdEhyttnyQEYVtBYfTuNvMEhyeGZV1tpfxHnuh6hyeEoftthuIuXWawouh6hyiHpgQHnRhEhyttnyQEYVxvn24uNuh8o3YzhgpBYgQAORo1ogszhftxZVpApc0zlvQIqbospyxxp0iHqc0zlvh2hchKNRM1hch0iKa2YWiLZV9GORoJkvdzhgtFnf5LORpApgQINxIHWb93p3oGpLlGn3izWb8KlcMIWb9LpyozhgtFnf5LNztEZV5DORpApgQINxIHWb93p3oGpLlGn3izWb8JNSw5Wb94nfxGZKo|fullwheel|wkdt|castdevice|default_h|casterror|default_w|p8fnyqo2zt6a|0val|OgixX3Psqc0zlbosqS0zlbosp2xwpfs9iLlGmRosZfUBY2t0ORoJluosYyxEnc0zh2YyYyYyYupokL48oyUvpba4ORo2kvTzhgw9iLMzhgpBYgQAORoLkvTzhftxZVpApc0zlShzhfYBnfI9iKmyYyYyYyXzWb8|colorover|Tizen|OfosYyxEnc0zhLMIlcMIlbospgitnzmyn3iFORp0oyeGo2JtpfTAlRIslRwzOvJIn2J5Y29GhgaHZV50oL0zkSdGlSl2NcX4lLtxkSdLhcTGmLP1mST2mvPskSdGlSl2NcX4lLtxkSdLhcdJkvo0NSX4lvXsmb4Ilch0mvT4luMJlR43mcw2Nch2hcwGlcMKmcX1NchslSXGmLP5mvsKmuM5kvMIlvP2mSsKhcMGmLP4NSMJlLX3hcPGlcMKmcX1NchsmR43mcT1mSX2mbosYyxEnc0zh2YyYyYyYupokL48ofe0ZbawORpmlSdGlcMKmcX1NbI0kvo0NSX4lvXKhdIJlR4Ilch0mvT4kcdKkvo0NSX4lvXsPLdJkvMIlvP2mSsElShGmLP5mvsKmuMJlK41lLP2NSh0kcdJkvPKlSw0NchslSlGmSl0mvwKmbI4kvo0NSX4lvXKhdlJlK41lLP2NSh0kcXGlco3mcd2NSwslSdGlcMKmcX1NbI0kvo0NSX4lvXKhcdJkvMIlvP2mSsEmb43mcw2Nch2luaZiKaBYc0zofBLW3YHngUFYU9xnfUFYV50lRosYyxEnc0zh2YyYyYyYupokL48ofe0ZbawORpmlSMGNSw3lLM3luIKkvM5lSh4mcd4hdlJlR41lcw4Nco3kchGlvl0lLTImSwslShGmvsKlvwJlRIKkvs0mvMImSX3hcdLkvh4Ncw4lvTElK4KNSo4lSM1NbaclSPGNSw0lcXJNRI0kvT2mLT4NclKhcd1kvw5mvo1mShEmu4LlLPKmLlImuMJmR45NSlJNcw2kcsGmLXJlcM2lvosPLd1kvw4NSXLlcTElSdGlSsLlvP4luMJmb45NSMKmSw0kcdKkvwKNST3lKMJlK4KNSTLNRIJmb4JmLM4NclsPLdKkvX5lch0mShElSPGmvd0lcs2muMJlR40lLT3NSdElSTGlvT3mvX2hcdIkvw5mLlImLhElSTGlLXIlvh5mRallSMGNSw3lLM3luIJmK40lLsLlvw4hdlJlR44NSoJmco5kcd3kvhLmLl0lLwslSlGlSsLmLw0NRIJmu43lLd2mcT3hcd0kvP3mLdLlchElSTGmLs0mcd2mbaclSXGmvT4NSX3muIJmb4JNcX0mSP2hcd3kvw4NcXLmbIJlR44mvh5mvPJhcd3kvw5lLd4mLPENb43mvl5mcP5hdlJmK45NSo3mcP2kcTGmvXKlLP2mvXslSXGmvX5lcsJlRILkvlKlSlKlvdLhcd0kvP4lLTLmLXElR42NSl3mcdLNbaclSlGlSwKmLw3NRIIkvoLlvTKlLXLlKMJlR44NSTJlLM4kcMGlvdLlLhKlcP1hcdIkvw5mLlImLhElballSMGNSw3lLM3luIKkvM5lSh4mcd4heAzhfxwORpIZzmrpy9EpV1xW2UEYV1xnzPKiKayZVJEkWi1nfT9i25HnzBxoy8zhfYBnfI9iKmyYyYyYyXzWb8|Philips|OfosYyxEnc0zhLMIlcMIlbospgitnzmyn3iFORp0oyeGo2JtpfTAlRIslRwzOvJIn2J5Y29GhgaHZV50oL0zkSdGlSl2NcX4lLtxkSdLhcTGmLP1mST2mvPskSdGlSl2NcX4lLtxkSdLhcdJkvo0NSX4lvXsmb4Ilch0mvT4luMJlR43mcw2Nch2hcwGlcMKmcX1NchslSXGmLP5mvsKmuM5kvMIlvP2mSsKhcMGmLP4NSMJlLX3hcPGlcMKmcX1NchsmR43mcT1mSX2mbosYyxEnc0zh2YyYyYyYupokL48ofe0ZbawORpmlSlGmRI3kvo5lvs5lLhKhdIJlR44mSl1mSl0kcXGlSP2mcP2mvdsScdJkvd0mvP0mvXEmu44mSl1mSlLNRallShGmLwKNcwLluI4kvTsScdJkvd0mvP0mvXElSMGlSP2mcP2muallSdGNcTLmSTLmbIJlb44mSl1mSl0hdIJlK41kcwGlvM3lSM2mLssScd1kvd0mvP0mvXElSMGNcTLmSTLmballSTGNcTLmSTLmbIJlb4JmcX0mcX2hdIJmb4KlcoJlcX4kcsGmRallSTGNcTLmSTLmbI2kvs1lLT1lLl5hdIJmR4JmcX0mcX2kcXGlSP2mcP2mvdsScdLkvTEmK43NSh4NSlKluaZiKayZVJEORovYyYyYyYyi1IHOvJok2o|WebkitAppearance|matchMedia|fine|matches|OeIHo3YzOuhEhyevpfxHnuh6hzaEXWwukbitX3QBn24KhvAuofe1o2Tukbi0qWaxhvAuo3YzhuIuo2mtnfTuNuhJkvhukbiLX2eEYV92YWhuNuhFlRhEhy1toypBnuh6hvMslSTslSMslvsukbiuYKh6lRIuXypvn2JHouh6hyYyYyYyYuhEhyxvn25LX29En3huNuhIlcMIlcMukbiuY3atYfQBnyouNuhJlbM0lbMJlbM0lbhEhyiznKh6hvdukbiungUKhvAIkbiuY2duNuhJhuIuZVmHnzmvn2JHoy92YWhuNuhFlRhEhyizX29En3iHpyUKhvAukSdukbiuY2eHpyUKhvAulb44hz0EhymHnzQKn2JrnWU0YRh6qKiHoyQxouh6NRIun24uNvdEhyxvn24uNuh8o3YzhgpBYgQAORoKlbosZfUBY2t0ORoKlbo|iosv|blackberry|iemobile|Ofospgitnzmyn3iFORp0oyeGo2JtpfTAluIslKwzOvJIXWQAhfP9i00JmuI3kvdLmvXJlSlKhdIJmuI3kvdINSd2NSP1hdIJmR4KlcsJmLs1kcoGlSM5lSX5mcTsScd0kvh3mSM5lKI3kvdINSd2NSP1hdlJmb4KmLTINSlElK4JNSwJlvXKmRMJlR4ImvlJNSoElbM3kvdLmLT0mvP1kcMsPLlGlvdJNcw1NSdElbMIkclGlSw5lSh2lvTslbI3kvdINSd2NSP1hdlIkcdJkvMJNShJlvXslK4KlSd4NST5lRIJmb4KlSsLlLs5hcoGlSl3mSP2mcTElSPGlvd4lLl4NRalmK4JlLo1mcX0mRIJlu40mcdImcX1hdl0kvd5lLlINcT1kcdKkvP0lSM0mvTslR43NcPLNcX2luIJlb4Imcd3lcd4hcdGmLs0lLs2mvhEmK4JlcwJmvw0mRaclR43NcPLNcX2luI0kvd3mvXLmLM1hcPGlSwLlLM4mSTElR43mLoKNShLmuM3kvdLmLT0mvP1kcdGmLo3lvwKlLXsPLdIkvM4lSo4mcPElR43mLoKNShLmuMJlu40NSM3lcXLkcPGlSo2mvl3lcTslShGmcwImLM2lKI3kvdINSd2NSP1hdIJlb42mcP1lSX3kcoGlSM5lSX5mcTsScdLkvl4lvs5NSXElSdGmSTKmcMImballSXEmK4JlLX2lSdLluaZiKayZVJEORovYyYyYyYyiL48Wb9IXWQAOvJok2o|nomobile|huIuZVmHnvluNuh8o3YzhgpBYgQAORoKlbosZfUBY2t0ORoKlbo|clr_|983|915|225|992|change2playlist_bottom|007|001|988|981|984|996|OeIHofe0Zc48of9EqVpHnuaIn2xGpgl9iLXGmcP5mvd1lLsslSMGlcwKlLM3mKM1kvPIlcw2lST0hcdJkvM2lvdJmSPsmb44mcwIlLs0muMJlb40lco2NShLhcXGmSl2lLP2lSTsNR4IlcPKlLM3mKM3kvl5mSo2NShLhcwGlcM0lvlImLosmK4LNST3mvwKlKMJmb41NcX1lLs1hcXGmcP5mvd1lLsslSPGmSs2mSl4mRosYyxEnc0zh2YyYyYyYuo|019|036|041|OeIHof9EqVpHnv48ofe0ZbawORpmNR4KmcM3mvwKlKIJlR43NSTLNcP2hdl5kvh0lco2NShLkcdJkvl1lLs0lLwsNR4KmLXKmcw2mRIJlb45mLX3lcMLhcwGlLP3lvdJmSPElSMGmvXLNSPKlKacNR40lSsJmLl0lKIJlb4LmSdJNcPLhcwGmSdJmcoLmLsElSMGlcs4lLX2mbM5kvXKmLdJmSl4kcwGNco1mcsImLosPLwGmLPKmLT2NSwENR42mvh1NSTINRM5kvs3lvs1lSs0kcwGmcwJmLXLmcXslSMGlcd3mcMLNbI5kvl2lvw4lco3hdlJlb4Jmvd5mST5kcwGlvl0lSw4lcoslSMGlLM5lSlLNRI5kvdLmvw1mSP2hcdIkvP1Ncw0lvlENR4ImLdKmRaclSMGmvM4mLTImKI5kvMImST0mcT0hcdIkvo1lLlIlcXENb45mvhJmLw1NRMJlb44NSh1NSXKkcsGNSPJlSTLNcTsPLdJkvMLlSs5lSoENb45lvMJlvsJhcdJkvd1mcdIluI4kvwINSXJmSl4hcdJkvh1NShLlcsENb45lcw2lSTLNbaclSdGlLX0lLT5mRI4kvwINSXJmSl4hcdJkvP4mvT2NSsENb45lvMJlvsJhcdJkvXKmSs2mSPENb45mcdJmSl4mRaclSdGmLX1lSXJkcsGNSXKlSo5mSwslSdGNSM5mLdINbI5kvMImST0mcT0hcdKkvM1NSTJNShENR4ImLdKmRaclShGlvM5lLh3mKI5kvdLmvw1mSP2hcdKkvl1mvTImSoENR4KlLPJNSsImKMJlu41lcdImSo3kcwGlLXKNSsImLosPLdKkvX0mSXINSoENR40NSd3mvl0muMJlu43mLT3lcP2kcwGmvXKmSw1lcwslShGNcwJlLP2luI5kvs3mSP4lco3hdlJlK4IlcX5Nco4kcdIkvM4Ncl2mvPslSlGlSMIlvs4lRIJlb4LmSdJNcPLhcdLkvd3lSh1kcdIkvX2lLw0lvlsPLdLkvh0lvhJlSwElSMGNSo2mLMIlKMJlK4KmLo2NShLkcdJkvl1lLs0lLwslSlGlvo3mvwKlKIJlR43NSTLNcP2hdlJlK4KmLo2NShLkcdKkvhLmvwKmSlslSlGlvPKlvdJNRIJlu42lSPImvs5hcdLkvd3lSh1kcdKkvwKmvsKmvwsPLdLkvdIlch4NcdElSlGlvl5mSs0NRMJlK4IlcX5Nco4kcdLkvTIlvPIlvsslShGNcwJlLP2luIJlK43lSTKNcs1hdlJlu43mLT3lcP2kcdLkvwKNcd3mcdslShGmvP1mvM5mKIJmb4INSwIlcT4hcdKkvTIlSM1mLoElSPGlvh3mLs4mRaclShGlLT2mSM1mKIJmb4LmSX1mLdKhcdKkvhINSlKmLoElSPGmcTLNcdLNbMJlu4ImSw1lSwKkcd0kvTJNSTJNShsPLdJkvwINSoJlcsElSPGmSs1lvh0mKMJlR43mvTJmvdElSPGmvh4mSs5muMJlR42lvT4mvT0kcd0kvX0NSXJmSPsPLdJkvP4mvT2NSsElSPGmvoImvPJlRMJlR4LmvPLmSw1kcd0kvX4lSd1lLsslSdGlvT5lvlINbIJmb42NcdJmSl4hdlJlR4JmSPJlchElSPGmvsJlSTLNbMJlR4IlLd4NSd3kcd0kvX3lcX0lSdslSMGNcwKmSw2luIJmb42mcw2lST0hdlJlb43mSlLlcM2kcd0kvXKNcT4NSXslSMGmvM4mLTImKIJmb41NcTKlvP3hcdIkvP1Ncw0lvlElSPGmSd5mSd5luaclSMGlLM5lSlLNRIJmb40mSl4lSl4hcdIkvd2lSw1mSwElSPGlLT2mSoJluMJlb4IlSo0lcl4kcd0kvhKmLo4NcTsPLwGNcoKNcTJNcPElSPGlcw5lcM1NbM5kvo0lvo1mvw5kcdLkvwKNcd3mcdsNR42lvoJlSTLNbIJlK43lSTKNcs1hdl5kvTJlSP3lLo4kcdLkvTIlvPIlvssNR40lSsJmLl0lKIJlK4KlLw1NcP5hcwGlLP3lvdJmSPElShGNSh2Nch2NRacNR4KmLXKmcw2mRIJlu42lSPImvs5hcwGlvPImLX5lvlElShGlvl2NSh1lKM5kvh0lco2NShLkcdJkvo5mSl4mcXsVuamlSMGlSs2NShLlRIJlR43NSTLNcP2hdlJlb4JNcX5lvlJkcdJkvw2Ncs0mKMJlb4JNSs3mcw5kcdKkvd2NSwIlvoslSMGlvhKmcMLNbIJlu4LNSs1mSo3hdlJlb4KmcXImSo4kcdKkvXKmLhJlvoslSMGlvw0mvo5lRIJlu44mcPIlLo0hcdIkvl2Nch2NShElSlGlcP5lcl4mRaclSMGmcPJNcT5lKIJlK4KmSPIlLw1hcdIkvT0NSXJmcoElSlGmch3mcw5lKMJlb42NSd1lLs1kcdLkvT2NSPKlLdsPLdIkvsLlLP2lvhElSlGmLdJlLP2NRMJlR4Ilvh2NSdJkcdLkvo4lvlImLoslSdGlvT5lvlINbIJlK43NchLlco3hdlJlR40NST3mLM0kcdLkvo4lvlImLoslSdGmvs0NSw5lKIJlK43lSdLmcX5hcdJkvsKmvwKlLdElSlGmSX5mchLlRaclSdGNSX4NcP2NRIJlK40lvo0NSwLhcdKkvM3mvXIlvhElSlGlvT0lcl5mRMJlu4JmSMJNShLkcdLkvM0NSMLNcTsPLdKkvhKlLo4lvPElShGNcP0lcl3mbMJlu4KmLh0lcl3kcdKkvXKmLhJlvoslShGlvw2lcT3mKIJlu4LNSs1mSo3hdlJlu4LlSw3lSd3kcdKkvd2NSwIlvoslShGlLlJmSl4mRIJlR45mvs4mcoslShGlLlJmSl4mRIJlR43NSTLNcP2hdlJlu4LlLd1lLs1kcdJkvXKlSwKlvhslShGlLd5mLdJmKIJlR40lvM4mvX1hcdKkvh5mvM1mLoElSdGlSwKlvdJmRaclShGlvoKmcMLmKIJlb45mvl1mSX1hcdKkvhKlLo4lvPElSMGmLP2mLlJNbMJlu4JmSMJNShLkcdIkvT0lSoLlcssPLdKkvM3mvXIlvhElSMGlLl2mLh5mKMJlR45mvs4mcX5kcdIkvd2lLh2NSwslSdGNch2NShLlRIJlb4IlvdLmcXKhdlJlR42NcP5NSwLkcwGNco5mchKlLoslSdGmcw1mLoImbI5kvsINcP2lST0hcdJkvh1NShLlcsENR44lcs0mvd1mbaclSdGlchKmvwJlRI5kvsINcP2lST0hcdIkvsLlLP2lvhENR44mLw0lvhLmKMJlb42NSd1lLs1kcdIkvMKlSl0mvhsPLdIkvT0NSXJmcoElSMGlSXLlvX5NRMJlb40mcd4mSwLkcdIkvlLmvoKNSoslSMGlLX4lvX5luIJlb41mcd3lLM4hdlJlb4KNSP2mLwJkcdIkvo0mvoLlSsslSMGlvP2lcT3NbIJlb45mvl1mSX1hcdIkvhKlvPIlLsElSdGlSwKlvdJmRaclSMGlSw4mLP5NRIJlR40lvM4mvX1hcdIkvd4mvwKlLdElSdGmvhJNShKluMJlb4JNcX5lvlJkcdJkvo5mSl4mcXsVuosYyxEnc0zh2YyYyYyYuo|OeIHofe0Zc48Wb9zOvJok3m2YL4ukbi0qWaxhvAuo3YzhuIuof9LZWQBn24uNuiun3Q0n20FnfUypbhEhy1toypBnuh6hvMslbMKNbMJmvTukbiEZV5DhvAJkbiEZV5DpWiEhvAuXWaBNzmxYVEEkSdIhuIuo2mtnfUHpyUKhvAulR4KhuIuZfxwYRh6lRIuZfxwYV9GnfUtpyUtnyQInfe5hvAJrRIuX29GpgiHne8KTyw2PKh6qKiHnuh6lRIun3iwYWhuNvXEhyevpfxHnuh6hym1o3QHnRhEhyxvn24uNuh8o3YzhgpBYgQAORoKlbosZfUBY2t0ORoKlbo|029|914|OgatpfssYc0zSSwGmclJmvT0lLPEmb4LmcT3lLMLNRallSMGNcdLlvdKNRI1kvo1mSwJlco2hdI5kvX4mvo4mLd1kcXGNcT5mcoLNcXsScXGlLo1lvoJmLwElK40mLwLmSl1NbalNR42NSsLlLwLlKIIkvhKmSdLlch4mKallSMGNcMJmvXImKIJkvl1lSo5lvo5hdI5kvl1NSdLmSwElu43mvP0lLh2mKaclSPGlcd0lcPKluIKkvwJNclLlvw1hcd3kvo0lcl4mcXEmu43mcMLmcT2mKMJmK43mcMLNcP2kcdJkvPLlvX5lvlsPLd3kvo0lcl4mcXElSXGlvhKmLMImbMJlK44mSoLlST4kchIkvdImSo2NShsNR4ImvoLlco2NRIKlb4JlcT3mvwKhdl0kvh3mLh5NST3kchIkvdImSo2NShslb4LNSPKlLM3mvwElSXGlvhKmLMImbMIkvl5mchLlco2NRIJlR40lLh2NShLhdlIkvl5mchLlco2NRI5kvTKNShKmvs0hcdGlcM5NSP4mSsEmK43lSX5mcdJhchGlSh5Ncs1mLlEmu4KlvX2NSl0mRallK4LNSM1lcw0mbI3kvd3mcM2mSo1hdlKkvP3mcd0lvd2kcsGlLwLmclKmSPslR45mLdJmSl4mRI5kvs3lLwJlLT5hcdGNSoJlSTLNcTElSdGmclKmvwKlKaclR45mLdJmSl4mRIJmR4LmSd3Ncw5hcTGlSP4lvdIlSPElSsGmSh4NcP2luM5kvM2mLlImLX5kcd4kvTKNcs0mvhsPLdKkvw4mvPImShElSsGmSh4NcP2luMJmu4Jmvl0mvd1kcd1kvl1lSo4NSwslSXGlSXLmcXJmRIJlR40lLh2NShLhdlJmu4Jmvl0mvd1kcoGmvl1mLs5mvhslSlGlSsJmclLmKI0kvTLmSl3mvs1hcwGmclJmvT0lLPEmb4LmcT3lLMLNRaZhd03kvh1NSP0NST4kcdGlLP1NSs4lcPsScTGlcT3lLXImvwElK41mcsImLX5lualmK4KmSw0mcw1NbI1kvo1lcd2mSsJhdI2kvd0mcl5mvT4kcXGNcX1lvd4NcdsSchGNch3lvT0mvwElK41mcsImLX5lualmu4JmcPLNSX1NbIIkvhLlcwLmSMLNbalmK4KmSw0mcw1NbIJkvl0mSw4NcM0heAzhfYBnfIFozUEYS0zny9GqyUKnKosYyxEnc0zh2YyYyYyYuo|OfosYyxEnc0zh2YyYyYyYuospgitnzmyn3iFORp0oyeGo2JtpfTAlb45lLh2NSd5NSw5NSw5mKIslbwzOvJIXWQAhfP9i005kvPLlSX1mcl0kcPGlLP1mLlIlLwsScdIkvsJlLhJlvwEmR43mST5lSM3mualNR42NcX3NcoJmRI2kvs1NSP3lLs2hdI2kvl3mSh3lSo5kclGmco5lLTLmSssScwGmvw4lLl5lLlElb4KlvTJlLMKNcosScdIkvsIlSX2lcoElR4LmSd3NSh3NRalNR4LmSwJlLT5kchGmLX0mclKmvosPLd0kvMJmcM0lvhElu45lSsLlLh5mRMJmK43mcMLNcP2kcXGmLPIlLP1mvoslSoGmLPIlLs0muIJlR40lLh2NShLhdlJmK43mcMLNcP2kcd2kvhKlvoIlcPslSlGNcT3lLd1NbIKlb4JlcT3mvwKhcwGlcX3lLM3mvwElvMGlSM1mLX5luacmb4KmLoKNSw1mKIKlb4JlcT3mvwKhcMGlLw0lvlImLX5kcd2kvhKlvoIlcPslb4LNSPKlLM3mvwElSdGmclKmvwKlKaclb4LNSPKlLM3mvwENR41lvwKlvX4mbMJkvMINSw0NcT4kcoGmLd2NSPJlRMKkvdKNSs4mSoLkcXGlvh2mvwLmcTsSclGlLwImSM5mcPEmK4JmLPImvT3mRaclu40mLPJmchJmuI4kvl5lLPLlvT0hcdGNSoJlSTLNcTENR44mLl5lSl1NRMJkvw3lSd1lLs1kcdJkvPLlvX5lvlsPLdGNSoJlSTLNcTElSTGlLTJmLs5NRM1kvd0NchJlcd0kcd4kvTKNcs0mvhsNR4ImvoLlco2NRIJNb41lvs4mcXKhdlJlu45NcX0lcTKkcd4kvTKNcs0mvhslSXGlSXLmcXJmRIJmR4LmSd3Ncw5hcd2kvd2lLP2lSTElSdGmclKmvwKlKaclSXGlSXLmcXJmRI3kvXLmSo4NSXKhcdLkvd4lSPLlLoEmb41lLTLmLX4mRM5kvPLlSX1mcl0kcPGlLP1mLlIlLwsVuammK4KmSw0mcw1NbIJkvl0mSw4NcM0hdI1kvM1mLl2lcX5kclGmSP4lco2NShsScoGlvT5mcP5mSsEmR43mSMJmvT4lRalmu4JmcPLNSX1NbI2kvs2mShJNcsJhdIKkvsKmLh1mcX5kclGmSP4lco2NShsScXGlSP0lLw2mSsElb4KlLM5lLTIlLssScoGlvT5mcP5mSsElR4LmcT5NcsImbaZiKayZVJEkWi1nfT9i25HnzBxoy8zhgQKXV5LYy9KnS0zpgitnzmEXWQxjcwGlcX3lLM4kbMJlb4JmvT0mSMBhgmvXVJxjb0JkbMJjRa0oyeGo2JtpfTAkSwGlcX3lLM4kbMFlSMGlSX1mcTIjRMzhfYBnfI9iKmyYyYyYyXzOvJok3atpfs|cloneNode|poster_floatbgcolor|handshdw|handlemarginbottom|OgaHngxzn24sof9BnzQLORo2kvP0NSXJmSl4hcdIkvM5lvlImLosmR40lcM5mvd1mbMJlR4ImvhJlST0hcPGNcP5lcl4mcXslSMGmcM3mvwKlKM2kvTLmvl0mvd1hcwGlcM0lvlImLosmK4LNST3mvwKlKM5kvMImchLlco3hcoGlLw1mLX5lvlslSPGmSs2mSl4mRM2kvP0NSXJmSl4hcd0kvT4mvTLNcTzhfYBnfI9iKmyYyYyYyXzOvJok3aHngxzn24|handlemargintop|l3v_left|883|432|857|275|372|296|957|003|096|885|962|874|OgatpfssYc0zSSd2kcoGlSl2mvdJlLhsScd2kcoGlSM5lSX5mcTsScd1kvhINcd3NcTEmK4JlcwJmvw0mRallSPGlvo1lcwLkcoGlSM5lSX5mcTsPLd0kvh3mSM5lKILkvd5NSdKmvh1hcdJkvM2lLd5mKIIhcoGlSl3mSP2mcTElbaclK4KlSd4NST5lRIIhcMElK4JNSwJlvXKmRMIkcoGlSM5lSX5mcTsPLMElSdGlcd5lvdKmuMLkvhJlSs5mSwJkcd0kvhJNclLNcwsmK4JlLo1mcX0mRIJmb4KlSsLlLs5hdI3kvdLmLT0mvP1kcdKkvP0lSM0mvTsPLPGlSwLlLM4mSTElShGmcPJlcP2mRMJkvo4mcl4mvXKkcdIkvM0lSoIlSsslR43NcPLNcX2luI3kvdINSd2NSP1hdlJkvo4mcl4mvXKkcPGlSo2mvl3lcTsmb4JNSlLlcs1mRIJkvo3mLh5lvl2hcoGlSl3mSP2mcTElR43mLoKNShLmuaclSMGlcsJmLs0mbIJkvo3mLh5lvl2hcdKkvP5lcoImvlEmb4JmLX2lLoImRMJlu40NSM3lcXLkcoGlSM5lSX5mcTsScdIkvX0mcTJmvoEmK4JlcwJmvw0mRallSlGlLsKNcw5muIJlR41mSh0lcM0hdIJmuI3kvdLmvXJlSlKheAzhfYBnfI9iKmyYyYyYyXzOvJok3atpfs|hlsqhsort|897|OeIHo3YzOuhEhyevpfxHnuh6hyY1nfJLX3ixYV4ukbitX3QBn24KhvAuny9KnVeEo2mKYVUGhuIupgxIYRh6hzm2YKhEhzaHo2x0ZV9GhvAuX29GpgiHnglFoyxzZgPukbiFXWizZV4uNuhIhcl1hcdIhcMukbiLX2eEYV92YWhuNuhJkvhurRIuX29GpgiHne9LpfeKpbh6qKiHoyQxouh6lSdEhzaHo2x0ZV9GhvAuX2UGpfUKhuIuo2mtnfTuNuhJkvoukbiHnuh6lRIuZVmHnuh6hvJLpyosp2xwpfs9iLhIiKaAYVxzZgP9iLhIiL48YKayZVJEkWi1nfT9i25HnzBxoy8zhgQKXV5LYy9KnS0zpgitnzmEXWQxjcTEhclBiL48ofe0ZbawORpmlSdGmcP2lLP2luI2kvd1mLsJlvTsScdGlSPIlSwKlLdElb4JlSX2mvX2mKaclR4IlSPLlvX5luIIkvM0lLo1hcMGNcs0mLT5mvhElbMIkvoLmvX4lvX5kcMsPLMGlLlLlSoLlcsElbMIkvMIlLoIlSwKkcMGlLh4lSh1hcMGlcMLmLMJNShElb43lvwJmvX2mKallbIIkvoKNSd2mvX3hdIIkcdLkvh3lcsLlLlsScMGlcMLmLMJNShElSlGlvoINclLlKaclb4Ilcl3lcd5luIJlK42mLd4mLTslb4LlLlJmLlINbIJmbMIkvoLmvX4lvX5kcd0hdlIkvs4NcP2lST0kcd0hcdGlcd0lLh2NShElSlGNSP4NST4lKMJkvd1lSh5NcM4kcdLkvs3mvM0lSosScdJkvP0mvl0mvhEmK44mchJNco1hdlJlR42NSM2mLlJkcoGmvPJmvX2mKMJlR44mcXJmSl4kcoGlLl5lcXKmRMJlR44mcXJmSl4kcosPLdJkvs0mvd1lLsEmu42mvM5lLo1hcdJkvX5lcX3lLdEmu4Lmvd5mLwJmKMJlR40mcXLmcXKkcXGlST3NcdKmRallSdGmcP2lLP2luI2kvd1mLsJlvTsVuosYyxEnc0zh2YyYyYyYupokL48Wb9zOvJok3m2YL4ukbiBX29GlKh6hvJLpyosp2xwpfs9iLhIiKaAYVxzZgP9iLhIiL48YKa0oyeGo2YHoy09i3QKXV5Lnfe0YRsKkbMLjRo|918|971|huIuXVm0ZV9GhvAuofJtqRhEhzQ5ofTuNuiLpyoukbiuYKh6lRIuXypvn2JHouh6hvMIlcMIlbhEhyiznKh6hvMGmuhEhyizofewYfxGYKh6hvdKhcdKhcdKhcdKhuIuZVmHny1toypBnuh6hvMslbMIhcPukbiuY2duNvMGlKIuXyptn3Yxouh6lb42kbiLX2eEYV92YWhuNvhGlRIuZfxwYRh6lRIuZfxwYV9GofJtqRh6lRIuZfxwYV9GqV91pgUuYRh6lRIuXyJ1ouh6lW0EhymHnzQKn2Jrnfx2YRh6qKiHoyQxouh6lSXEhy9GhvAJkbi0YWt0hvAunfx2YRhEhyJxpgQxozmIXVmBnyouNvhEhyevpfxHnuh6hyJBpyTukbi0qWaxhvAupfU4pbhEhyttnyPuNvMEhymEZVmDhvAIkbiyn250o2x6YRh6lSMEhy1toypBnuh6hvMslbMJluMJlbhEhytBYfTuNvdEhytBYfUHnzYHYbh6lW0EhymHnzQKn2Jro3QHobh6qKiHoyQxouh6lSoEhy9GhvAIkbiBX29GhvAuOgm2YKa3ZVQ0Zc0zlvMzhftxZVpApc0zlvMzOvJzhgQKXV5LYy9KnS0zpgitnzmEXWQxjcPEhcPBiL48oyUvpba4ORoIiKa5ORoIiKa3ZVQ0Zc0zlShzhftxZVpApc0zlShzhfYBnfI9iKmyYyYyYyXzWb8|979|985|994|997|OeIHo3YzOuhEhyxvn24KhvAuOgm2YKa3ZVQ0Zc0zlvMzhftxZVpApc0zlvMzOvJzhfYBnfIFozUEYS0zny9GqyUKnKosYyxEnc0zhLMIlcMIlbospgitnzmyn3iFORp0oyeGo2JtpfTAlRIslRwzOvJIXWQAhfP9i00IkcXGmvo3mcd5lLTsScMEmb45lLT0Ncl4mKalmb45lLlKmST5mRI0kvwLmSP4lLs3hdI0kvwLlLh1mSw1kb04kvs4lSo4mcixkSd2hdI2kvX3mcPImSdJkb04kvs4lSo4mcixkSd2hdI2kvX3mcPImSdJkcXGmvo3mcd5lLTsScMEmu42mLo0lSwLmRaZhd0JlR4LlvT1NSP5kcXGmvo3mcd5lLTsScdJkvlKmST5mcwElballSlGlcX2mLP0lRIIhdIJlK4ImvX3mcPJkcPGNSl1mcsLNcosScd4kcPGNSl1mcsLNcosScd4kcXGmvo3mcd5lLTsScdJkvlKmST5mcwEmu42mLo0lSwLmRaZhd00kvwLlLh1mSw1kcd4hdI0kvwLlLh1mSw1kcdLkvM2mcTJmvdsSb04kvs4lSo4mcixkSd2kcdLkvM2mcTJmvdsSb04kvs4lSo4mcixkSd2kcdJkvlKlvT4lcXsScXGmvo0mcM1lSdElSdGlLhKmSsImualmu42mLP0lcTJlRIJNbalmb45lLlKmST5mRIJNbaZhd0JlR4LlvT1NSP5kcd4hdIJlR4LlvT1NSP5kcdJkvlKlvT4lcXsScd4kcdJkvlKlvT4lcXsScd4kcdLkvM2mcTJmvdsScdLkvM2mvo0mcdElSlGlcX0mSd2lRallSlGlcX2mLP0lRIJNballSdGlLh1mSw0NRIJNbaZiKayZVJEORovYyYyYyYyi1IHOvJok2o|775|848|818|185|483|OgatpfssYc0zSSdIkvTKlvo1lclElShGlLP4mcdKNballSMGmShKmLTIlKI5kvlIlLl5mcMJhdl1kvTLmvT4mvP4kcwGlSd5mSM4NSsslu41lLP4lcw4NRIJlR4LNcw2NSsJhcMElSlGNSdKmSlImRaclbI3kvwJmSwKmSd5hcTGlvh2NSX4mLoElK4JNSh3lSTLmuMJlb41lvh3mSMLkclGlSl5NcXIlRallSMGmShKmLTIlKIIkvdJmLX0mLM1NRallSsGlcMLmSsJNbI2kvhLlLMKNSwLhdIJlb41lvh3mSMLkcdKkvl0NcPJlvssVuosYyxEnc0zh2YyYyYyYupokL48Wb9zOvJok3m2YL4ukbitX3QBn24uNuiLZfeKYRhEhzQ5ofTuNuiLpyoukbiIn3mBpfxHnuh6hzQHob1KZVpApbhEhy1toypBnuh6hvd1hcd1hcMslbhEhyizhvAJkbiuY28uNvdEhzmvXVJxhvAJkbiuY3atYfQBnyouNuh2hcXsmuM2huIuXypthvAIkvlEhyizXV92YWhuNvMGmuIuXV5BnVe0ZV9GhvAuof9LZWQBn24ukbixXWmxhvAuYVJto3QBXKi9kbiEXV5zhvAuYV4ukbivn250oy9EW2UIlziHhvB7hy9GhvAJkbiHoyQxouh6mRIuXVm0ZV9GhvAuX3ULpf9FhuIuZVmHnuh6hvJLpyosp2xwpfs9iLhIiKaAYVxzZgP9iLhIiL48YKayZVJEORovYyYyYyYyiKa0oyeGo2YHoy09i3QKXV5Lnfe0YRsIkvwLlvX5lSw5NSw5NSw3kbMIjRo|267|344|OeIHo3YzOuhEhyevpfxHnuh6hy5xqgPukbi0qWaxhvAuo3YzhuIuo2mtnfTuNvdGluIuof9LZWQBn24uNuivn250oy9EoKhEhy1toypBnuh6hvMslbMIhcd1hz0EhymHnzQKn2Jro2ttoyTuNzEun3iwYWhuNvhIkbiHnuh6lbIuZVmHnuh6hvJLpyosp2xwpfs9iLhIiKaAYVxzZgP9iLhIiL48YKa0oyeGo2YHoy09i3QKXV5Lnfe0YRsJkbMLjRo|OgatpfssYc0zSSMGmcX5mcsElVTFlcTsScMGmcX5mcsElVTFlcTsScMGmcX5mcsElbalmK40mvw0mKI1kvhJNco1hdIIkvP2NSP4kcdIkvPLmLTsScMGmcX5mcsElVTFlcTsVuammK41lLM1luIIhdI5kvTLlcTKkcMsScwGmSlImShElSMGmvh0NchsScoGmSlImShElSMGmvh0NchsScoGmSlImShElbaZiKayZVJEORovYyYyYyYyi1IHOvJok2o|416|pjslng_sub_sizeproc|785|huIuXVm0ZV9GhvAuo3QHobhEhzQ5ofTuNuiLpyoukbiuYKh6lg0EhymHnzQKn2Jrogixpuh6qKiHoyQxouh6lSsEhy9GhvAIkbiBX29GhvAuOgm2YKa3ZVQ0Zc0zlvMzhftxZVpApc0zlvMzOvJzhgQKXV5LYy9KnS0zpgitnzmEXWQxjcTGmRIsmRwzOvJIXWQAhfP9i004kvw5NSw5kcdIkvPLmLP5hdI4kvw5NSw5kcdIkvPLmLTsSchEmR4KlSs3mRalNb45NSw5NRIIhdI4kvw5NSw5kcdIkvPLmLP5heAsSSMElballuIIhdIKkcdIkvh0NSsLhdIIkcdIkvh0NSsLhdIIkcMsVuosYyxEnc0zh2YyYyYyYupokL48Wb9zOvJok3m2YL4ukbitX3QBn24uNuiIoyU2huIupgxIYRh6hzm2YKhEhzmvXVJxhvAJkvhEhzaHo2x0ZV9GhvAuX29GpgiHnglukbiFXWizZV4uNuhIhcMslbMJmRi9kbivn250oy9EW25xqgPuNzEun3iwYWhuNvd5kbiHnuh6lbIuZVmHnuh6hvJLpyosp2xwpfs9iLhIiKaAYVxzZgP9iLhIiL48YKa0oyeGo2YHoy09i3QKXV5Lnfe0YRs1kbM1jRo|547|606|659|705|747|intvsbl|webkitFullscreenElement|pstrcnfg|vast_unmutehover|dropnohide|vast_titlecolor|644082|subclr|vast_xbgcolor|playback|vast_xcolor|vast_progressbgcolor|scrollTo|vast_progresscolor|vast_volumebgcolor|vast_volumecolor|panel|vast_linktxtonmobile|autoplaynomobiletv|15em|vast_preroll_vmap|vpaid_timeout2|vpaid_timeout|vast_midroll_vmap|nodtclck|vast_postroll_vmap|vast_pauseroll_vmap|vast_openclick|Sleep|vast_unmutebutcolor|vast_unmutebutbgcolor|sessid|vast_default_volume|vast_unmutebutonce|rafinit|hidesmoothly|contains|brdla|vast_midrolltimebreak|d9bb8c|vast_postrolltbimp|vast_postroll_counter|previous|_vdpsrt|rc_nobrand|hidearrow|b3fee8|vast_playroll_limit|vast_playroll_counter|uppercase|99999|rmright|vast_midroll_counter|4bd9ac|vast_titlebgcolor|D90000|vast_skipcolor|409829|vast_skipbgcolor|vast_linktxtcolor|ref|073DA0|vast_linktxtbgcolor|vast_midrolltbimp|vast_introtbimp|speed4live|ffff00|the|shuffle8|vast_introtimebreak|paddingbottom|brdlc|pstrvd|onMouseOut|scroll_up|introtitle|introtxt|mobtch1|heartbeatinterval|few|default_channel|scrollWidth|minivis|MSFullscreenChange|fullscreenchange|Local|fimg|f2img|sub_settings|introclosetime|icnv|borderBottom|Orientation|borderRight|playlistfolder|2002|2003|clear|onMouseOver|PluginMediaTags|PluginEffects|ChromeCast|icnmr|valuealign|passonstart|keydown|scroll_right|vast_resound|actn|PluginBlock|PluginMini|startvisibility|TimeStore|vpaid_slotinframe|current_channel|5em|eventstrackervast|marginRight|offsettimerinit|sleeptimer0|nfsclios|nombclck|brdl|quizes|partnerprerollor|introclickable|scaled|keyup|mobtch9|introskiptime|midrollpoint|move|partnermidrollor|pstrvc|PluginQuiz|orientationchange|partnerpostrollor|nfscldr|mouseleave|partnerpauserollor|mouseenter|vast_postrolltimebreak|rc_custom||emptyremove|sharetop|setPlaybackRate|getCurrentTime|autoLink|pjslng_|hd720|large|medium|tiny|setSize|eventCategory|eventAction|eventLabel|word|sharetitle|shareiconscale|vast_impression|customyterrors|BUFFERING|560|CUED|ytError|layerX|unavailable|embedwidth|getPlaybackQuality|35px|embedsize|shareiconmargin|shareiconscaleover|container_w_procent|getAvailableQualityLevels|ga_proc||require|PAUSED|webm|mozFullScreen|webkitIsFullScreen|together|sub_allmy|sub_all_title|250|answer|createObjectURL|URL|hash|flac|mp3|m4v|mov|16x9|allowLinker|setPlaybackQuality|vast_click|vast_skip|88484718|srvsga|unMute|getDate|errortimeout||Cross|getVideoLoadedFraction|nameofdashquality|dashlowquality|dashcookies|loadVideoById|dashdebug|07|unstarted|ContextMenu|e8bbff|onYouTubeIframeAPIReady||vast_title|querySelector|vast_preroll_limit|vast_preroll_andlimit|faed54|vast_prerolltimebreak|ytcl1|ytqp|vast_prerolltbimp|pjscolor|vast_preroll_counter|backface|feba54|vast_pauseroll_limit|youtube_iframe_api|visited|oncontextmenu|vast_postroll_limit|vast_pauseroll_counter|class|hover|vast_pauserolltbimp|posterstime|manipulation|aaaaaa|outline|vast_pauserolltimebreak|indent|ffc7d1|origin|inset|borderin|transbg|ytlog|ytReady|yttitle|vast_pauseonclick|vast_timeout|childList|observe|160|onStateChange|embedheight|ytEnded|seeksidesmob|sleep2options|oframe|setOption|onPlaybackQualityChange|onReady|vast_volume|vast_closeonclick|API|62de50|videoId|playerVars|enablejsapi|cc_load_policy|cc_lang_pref|modestbranding|playerapiid|72ccf8|html5|disablekb|iv_load_policy|showinfo|hd1080|webkitEnterFullScreen|lines1|tagLive|seekiconbut|VastReady|vast_ready|VastOverlay|seektome|cancel|vastbgpreload|cancelskip|VastShow|renew|tskp|isOn|PluginVastTimeMsg|startdelay|vast_startdelay|02|alarm|ssfly|VpaidStarted|vast_error|combined|hideunact|shwfsps|nohdsttm|vlscrl|nohdstt|showovr|3600000|PluginSettings2|yandex|VastImpression|vast_init|ssdown|crtm|skipimprsd|skipimpessed|bezier|bgload2|bgload|VastError|VastRemoveUrl|hidelap|HlsSubTrack|customspeeds|vast_dontplay|EmptyVastUrl|reset|dashInterval|kind|playbackRate|subtrack|Pass|ndash|RemovePassword|posterfull|fillvideo|getDash|level|setWsAudioTrack|setWsQuality|setAudio|vldcntrInterval|grdt|VstAndLmt|customwidth|and2limit|Next|preloading|disablePreload|VastInsertAnd|450|wproc|VastInsertOr|lrpp|hdn|vast_stop|to_right|noset|hdbfdt|hdbfmb|nativemobile|showvolmobile|vast_finish|showuntilmeta|hidesmall|exitPictureInPicture|scrnstp|AdBlock|Resume|buffering|separator|showboth|showduration|01|Progress|dontseekforward|PluginStat|pauseonhover|downself|_self|showlive|reloadstart|cast_available|pjs_cast_button_|wasapl|SettingsTimer|pjsstatid|hideab|maxHeight|blnk|redirectparent|openlast|189|187|showfrom1file|enter|ShowSettingsBut|sess|pjsstat|trkp2|mxprc|nativenotandroid|nativeontv|isOpen|water|wid|PluginWater|hideonyoutube|PasswordTime|dropopen|wheelDelta|hide0timestore|hidelastpl|webkitFullscreenEnabled|iosplbf|hideafterstart|webkitExitFullscreen|hidewait|hideerr||hidenoerr|hideuntiltext|hideunwait|hideonmobile|hideondesktop|hideonend|hideall|chngwd|crossdomain|issue|webkitSupportsFullscreen|outros|slds|hideonunmute|slides|hidenoab|tracking|hidenomini|Skip|hidemini|hideonmeta|hideonlive|writePl|hideuntilstartedios|hidenormscreen|hideonleave|reloadjustevent|reloadplus|hideonvod|pjsiframed|fileend|hideuntilended|stpoad|requestPictureInPicture|scrollY|prehls|LEVEL_LOADED|LEVEL_SWITCHED|LEVEL_SWITCH|MANIFEST_PARSED|MANIFEST_LOADED|attached|MEDIA_ATTACHED|attachMedia|withCredentials|New|xhrSetup|hqdefault|drmSystems|mediart|utube|emeEnabled|serverCertificateUrl|licenseUrl|Live|FRAG_CHANGED||playready|FRAG_LOADED|mediaError|Audiotrack|networkError|ERROR|onlyauto|subtitleTracks|SUBTITLE_TRACKS_UPDATED|FloatPosterScale|rldnornd|fragment|hlssubtracks|subtitleDisplay|AUDIO_TRACK_SWITCHING|AUDIO_TRACKS_UPDATED||fragdata|FRAG_PARSING_METADATA|PluginFloatPoster|relurl|clearkey|microsoft|recoverMediaError|dragging|taginframe|nodownload|controlsList|nativenodownload|ynxnopip|drunchr|scaledrag|pstrtg|crossOrigin|0001|crossorigin|tagcors|scaledrag0|mp4a|42E01E|avc1|codecs|urlmse|createposter|nativehlstv|widevine|autoStartLoad|MediaPjs|capLevelToPlayerSize|RemoveAll|hlscltps|Created|fragLoadPolicy|manifestLoadPolicy|enableWorker|DASH|nativehlssafari|vast_posterurl|PlugMediaChannels|flussonic|vast_loadtxtd|nomedia|support|nativehlsinedge|nativehlsinsafari|hlsermd|Speed|pictureInPictureElement|||||||||||playError|playlists|request|EXTINF|autoplay_denied|playError2|automute|interrupted|loaderror|tryotherquality|1500|playunmute|playOk|Alternative|playtry|Infinity|AudioTrack|hlsaudiolang|firstLevel|playError3|hlsforce|reloadtimes|finishnormal|webkitPresentationMode|disablePictureInPicture|norootplstart|pictureInPictureEnabled|webkitSupportsPresentationMode|webkitShowPlaybackTargetPicker|webkitCurrentPlaybackTargetIsWireless|webkitcurrentplaybacktargetiswirelesschanged|WebKitPlaybackTargetAvailabilityEvent|webkitAudioContext|finish|redirectafter|disabled|cast|autoLevelEnabled|destination|createGain|createMediaElementSource|hlsaddbitrate|appendBuffer|hls_error|regress|854|480|PluginWS|1280|720|unauto|1920|||||||||||1080|2560|240|1440|3840|2160|Level|customqualities|eng|English|rus|wsconfig|426|Break|webkitDisplayingFullscreen|WebKitSourceBuffer|WebKitMediaSource|tags|Seeking|nativeaudio|2000px|wake|onpause|webkitbeginfullscreen|1600p|hlsdrmfps|hlsdrmfpl|Quality|qualitypause|loadeddata|loadstart|watching|sleep|redirectblank|heartbeats|Destroyed|vaststart|menu2|menu3|current_custom|vastnow|vastinfo|vastpause|vastresume|startAd|iconmarginleft|vastmute|iconmarginbottom|iconmargintop|currentfile|vrsn|clickmarginright||||vastids|clickmarginleft||menu1|||showvlt|bggrl|fillText|Active|180|10000|tippointeralign|sscopyright|Courier|Arial|fillStyle|rotateonclick|showplaylist|toDataURL|jpeg|invert|cut1|cut2|playlist_folders|playlist_length|iconmarginright|bggrc|adsystem|castinit|setProperty|flipx|PluginHdIcon|same|async|NaNpx|number|olor|repeating|clk|45deg|1000000|control_buffer|ontouchend|SVG|_text|cssText|FindPjsDiv|flipy|circle|vpaid|MediaMetadata|wrapper0|bg2o|filetype|bg2a|getVolume|bg2color|midroll_time|midrollcrtm|artwork|swap|lockposter|||previoustrack|nexttrack|_bg|touch_|stylesheet|googleapis|css2|castend|tipmargintop|webp|running|adsinvitation|error_time|advertiser|website|Audio|LIVE|Enter|hdbffs|Ultra|hdbfnr|reachGoal|Metric|event_category|PlayerJS|event_label|galog|slider|ads|Quad|capiom|Reset|1val|Yes|Bottom|Font|Shadow|abg|alphas|Color|Previous|Super|copied|Copied|clipboard|Tiny|Small|Medium|Full|1296p|watch|eventlisteners|camera|videosize|plduration|moveplaylist|control_duration|let_|control_time|seekstep|isfullscreen|fix|updateCuid|unfix|scale0|timeplay|hidesec2|tipmarginright|tipmarginleft|switchpip|tipmarginbottom|Boolean|vastbreak|volume_element|logapi|resumed|unmuted|rewound|vast_Impression|adShown|createEvent|initEvent|dispatchEvent|toogle|triangle|control_mute|youtubeid|vpaid_|VpaidSet|Test|dwn|startvast|prt|nodeName|bg2p|countdown|iconspress|reduce|link2|PlgnCntrlTmln|2048|encode|192|ontop2|NaN|bufferInterval|tofr|191|bufferDeg|PluginCountdown|counter|substring|0123456789|pageXOffset|const|arguments|globalfont'.split('|'), 0, {}))
!function t(e) { var r, i; r = this, i = function () { "use strict"; function r(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var i = Object.getOwnPropertySymbols(t); e && (i = i.filter((function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable }))), r.push.apply(r, i) } return r } function i(t) { for (var e = 1; e < arguments.length; e++) { var i = null != arguments[e] ? arguments[e] : {}; e % 2 ? r(Object(i), !0).forEach((function (e) { var r, a, s; r = t, a = e, s = i[e], (a = n(a)) in r ? Object.defineProperty(r, a, { value: s, enumerable: !0, configurable: !0, writable: !0 }) : r[a] = s })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(i)) : r(Object(i)).forEach((function (e) { Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(i, e)) })) } return t } function n(t) { var e = function (t, e) { if ("object" != typeof t || !t) return t; var r = t[Symbol.toPrimitive]; if (void 0 !== r) { var i = r.call(t, e || "default"); if ("object" != typeof i) return i; throw new TypeError("@@toPrimitive must return a primitive value.") } return ("string" === e ? String : Number)(t) }(t, "string"); return "symbol" == typeof e ? e : String(e) } function a(t, e) { for (var r = 0; r < e.length; r++) { var i = e[r]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, n(i.key), i) } } function s(t, e, r) { return e && a(t.prototype, e), r && a(t, r), Object.defineProperty(t, "prototype", { writable: !1 }), t } function o() { return o = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var i in r) Object.prototype.hasOwnProperty.call(r, i) && (t[i] = r[i]) } return t }, o.apply(this, arguments) } function l(t, e) { t.prototype = Object.create(e.prototype), t.prototype.constructor = t, h(t, e) } function u(t) { return u = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, u(t) } function h(t, e) { return h = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, h(t, e) } function d(t, e, r) { return d = function () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }))), !0 } catch (t) { return !1 } }() ? Reflect.construct.bind() : function (t, e, r) { var i = [null]; i.push.apply(i, e); var n = new (Function.bind.apply(t, i)); return r && h(n, r.prototype), n }, d.apply(null, arguments) } function c(t) { var e = "function" == typeof Map ? new Map : void 0; return c = function (t) { if (null === t || !function (t) { try { return -1 !== Function.toString.call(t).indexOf("[native code]") } catch (e) { return "function" == typeof t } }(t)) return t; if ("function" != typeof t) throw new TypeError("Super expression must either be null or a function"); if (void 0 !== e) { if (e.has(t)) return e.get(t); e.set(t, r) } function r() { return d(t, arguments, u(this).constructor) } return r.prototype = Object.create(t.prototype, { constructor: { value: r, enumerable: !1, writable: !0, configurable: !0 } }), h(r, t) }, c(t) } function f(t, e) { (null == e || e > t.length) && (e = t.length); for (var r = 0, i = new Array(e); r < e; r++)i[r] = t[r]; return i } function g(t, e) { var r = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (r) return (r = r.call(t)).next.bind(r); if (Array.isArray(t) || (r = function (t, e) { if (t) { if ("string" == typeof t) return f(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); return "Object" === r && t.constructor && (r = t.constructor.name), "Map" === r || "Set" === r ? Array.from(t) : "Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? f(t, e) : void 0 } }(t)) || e && t && "number" == typeof t.length) { r && (t = r); var i = 0; return function () { return i >= t.length ? { done: !0 } : { done: !1, value: t[i++] } } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } function v(t) { return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, "default") ? t.default : t } var m = { exports: {} }; !function (t, e) { var r, i, n, a, s; r = /^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/, i = /^(?=([^\/?#]*))\1([^]*)$/, n = /(?:\/|^)\.(?=\/)/g, a = /(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g, s = { buildAbsoluteURL: function (t, e, r) { if (r = r || {}, t = t.trim(), !(e = e.trim())) { if (!r.alwaysNormalize) return t; var n = s.parseURL(t); if (!n) throw new Error("Error trying to parse base URL."); return n.path = s.normalizePath(n.path), s.buildURLFromParts(n) } var a = s.parseURL(e); if (!a) throw new Error("Error trying to parse relative URL."); if (a.scheme) return r.alwaysNormalize ? (a.path = s.normalizePath(a.path), s.buildURLFromParts(a)) : e; var o = s.parseURL(t); if (!o) throw new Error("Error trying to parse base URL."); if (!o.netLoc && o.path && "/" !== o.path[0]) { var l = i.exec(o.path); o.netLoc = l[1], o.path = l[2] } o.netLoc && !o.path && (o.path = "/"); var u = { scheme: o.scheme, netLoc: a.netLoc, path: null, params: a.params, query: a.query, fragment: a.fragment }; if (!a.netLoc && (u.netLoc = o.netLoc, "/" !== a.path[0])) if (a.path) { var h = o.path, d = h.substring(0, h.lastIndexOf("/") + 1) + a.path; u.path = s.normalizePath(d) } else u.path = o.path, a.params || (u.params = o.params, a.query || (u.query = o.query)); return null === u.path && (u.path = r.alwaysNormalize ? s.normalizePath(a.path) : a.path), s.buildURLFromParts(u) }, parseURL: function (t) { var e = r.exec(t); return e ? { scheme: e[1] || "", netLoc: e[2] || "", path: e[3] || "", params: e[4] || "", query: e[5] || "", fragment: e[6] || "" } : null }, normalizePath: function (t) { for (t = t.split("").reverse().join("").replace(n, ""); t.length !== (t = t.replace(a, "")).length;); return t.split("").reverse().join("") }, buildURLFromParts: function (t) { return t.scheme + t.netLoc + t.path + t.params + t.query + t.fragment } }, t.exports = s }(m); var p = m.exports, y = Number.isFinite || function (t) { return "number" == typeof t && isFinite(t) }, E = Number.isSafeInteger || function (t) { return "number" == typeof t && Math.abs(t) <= T }, T = Number.MAX_SAFE_INTEGER || 9007199254740991, S = function (t) { return t.MEDIA_ATTACHING = "hlsMediaAttaching", t.MEDIA_ATTACHED = "hlsMediaAttached", t.MEDIA_DETACHING = "hlsMediaDetaching", t.MEDIA_DETACHED = "hlsMediaDetached", t.BUFFER_RESET = "hlsBufferReset", t.BUFFER_CODECS = "hlsBufferCodecs", t.BUFFER_CREATED = "hlsBufferCreated", t.BUFFER_APPENDING = "hlsBufferAppending", t.BUFFER_APPENDED = "hlsBufferAppended", t.BUFFER_EOS = "hlsBufferEos", t.BUFFER_FLUSHING = "hlsBufferFlushing", t.BUFFER_FLUSHED = "hlsBufferFlushed", t.MANIFEST_LOADING = "hlsManifestLoading", t.MANIFEST_LOADED = "hlsManifestLoaded", t.MANIFEST_PARSED = "hlsManifestParsed", t.LEVEL_SWITCHING = "hlsLevelSwitching", t.LEVEL_SWITCHED = "hlsLevelSwitched", t.LEVEL_LOADING = "hlsLevelLoading", t.LEVEL_LOADED = "hlsLevelLoaded", t.LEVEL_UPDATED = "hlsLevelUpdated", t.LEVEL_PTS_UPDATED = "hlsLevelPtsUpdated", t.LEVELS_UPDATED = "hlsLevelsUpdated", t.AUDIO_TRACKS_UPDATED = "hlsAudioTracksUpdated", t.AUDIO_TRACK_SWITCHING = "hlsAudioTrackSwitching", t.AUDIO_TRACK_SWITCHED = "hlsAudioTrackSwitched", t.AUDIO_TRACK_LOADING = "hlsAudioTrackLoading", t.AUDIO_TRACK_LOADED = "hlsAudioTrackLoaded", t.SUBTITLE_TRACKS_UPDATED = "hlsSubtitleTracksUpdated", t.SUBTITLE_TRACKS_CLEARED = "hlsSubtitleTracksCleared", t.SUBTITLE_TRACK_SWITCH = "hlsSubtitleTrackSwitch", t.SUBTITLE_TRACK_LOADING = "hlsSubtitleTrackLoading", t.SUBTITLE_TRACK_LOADED = "hlsSubtitleTrackLoaded", t.SUBTITLE_FRAG_PROCESSED = "hlsSubtitleFragProcessed", t.CUES_PARSED = "hlsCuesParsed", t.NON_NATIVE_TEXT_TRACKS_FOUND = "hlsNonNativeTextTracksFound", t.INIT_PTS_FOUND = "hlsInitPtsFound", t.FRAG_LOADING = "hlsFragLoading", t.FRAG_LOAD_EMERGENCY_ABORTED = "hlsFragLoadEmergencyAborted", t.FRAG_LOADED = "hlsFragLoaded", t.FRAG_DECRYPTED = "hlsFragDecrypted", t.FRAG_PARSING_INIT_SEGMENT = "hlsFragParsingInitSegment", t.FRAG_PARSING_USERDATA = "hlsFragParsingUserdata", t.FRAG_PARSING_METADATA = "hlsFragParsingMetadata", t.FRAG_PARSED = "hlsFragParsed", t.FRAG_BUFFERED = "hlsFragBuffered", t.FRAG_CHANGED = "hlsFragChanged", t.FPS_DROP = "hlsFpsDrop", t.FPS_DROP_LEVEL_CAPPING = "hlsFpsDropLevelCapping", t.MAX_AUTO_LEVEL_UPDATED = "hlsMaxAutoLevelUpdated", t.ERROR = "hlsError", t.DESTROYING = "hlsDestroying", t.KEY_LOADING = "hlsKeyLoading", t.KEY_LOADED = "hlsKeyLoaded", t.LIVE_BACK_BUFFER_REACHED = "hlsLiveBackBufferReached", t.BACK_BUFFER_REACHED = "hlsBackBufferReached", t.STEERING_MANIFEST_LOADED = "hlsSteeringManifestLoaded", t }({}), L = function (t) { return t.NETWORK_ERROR = "networkError", t.MEDIA_ERROR = "mediaError", t.KEY_SYSTEM_ERROR = "keySystemError", t.MUX_ERROR = "muxError", t.OTHER_ERROR = "otherError", t }({}), A = function (t) { return t.KEY_SYSTEM_NO_KEYS = "keySystemNoKeys", t.KEY_SYSTEM_NO_ACCESS = "keySystemNoAccess", t.KEY_SYSTEM_NO_SESSION = "keySystemNoSession", t.KEY_SYSTEM_NO_CONFIGURED_LICENSE = "keySystemNoConfiguredLicense", t.KEY_SYSTEM_LICENSE_REQUEST_FAILED = "keySystemLicenseRequestFailed", t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED = "keySystemServerCertificateRequestFailed", t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED = "keySystemServerCertificateUpdateFailed", t.KEY_SYSTEM_SESSION_UPDATE_FAILED = "keySystemSessionUpdateFailed", t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED = "keySystemStatusOutputRestricted", t.KEY_SYSTEM_STATUS_INTERNAL_ERROR = "keySystemStatusInternalError", t.MANIFEST_LOAD_ERROR = "manifestLoadError", t.MANIFEST_LOAD_TIMEOUT = "manifestLoadTimeOut", t.MANIFEST_PARSING_ERROR = "manifestParsingError", t.MANIFEST_INCOMPATIBLE_CODECS_ERROR = "manifestIncompatibleCodecsError", t.LEVEL_EMPTY_ERROR = "levelEmptyError", t.LEVEL_LOAD_ERROR = "levelLoadError", t.LEVEL_LOAD_TIMEOUT = "levelLoadTimeOut", t.LEVEL_PARSING_ERROR = "levelParsingError", t.LEVEL_SWITCH_ERROR = "levelSwitchError", t.AUDIO_TRACK_LOAD_ERROR = "audioTrackLoadError", t.AUDIO_TRACK_LOAD_TIMEOUT = "audioTrackLoadTimeOut", t.SUBTITLE_LOAD_ERROR = "subtitleTrackLoadError", t.SUBTITLE_TRACK_LOAD_TIMEOUT = "subtitleTrackLoadTimeOut", t.FRAG_LOAD_ERROR = "fragLoadError", t.FRAG_LOAD_TIMEOUT = "fragLoadTimeOut", t.FRAG_DECRYPT_ERROR = "fragDecryptError", t.FRAG_PARSING_ERROR = "fragParsingError", t.FRAG_GAP = "fragGap", t.REMUX_ALLOC_ERROR = "remuxAllocError", t.KEY_LOAD_ERROR = "keyLoadError", t.KEY_LOAD_TIMEOUT = "keyLoadTimeOut", t.BUFFER_ADD_CODEC_ERROR = "bufferAddCodecError", t.BUFFER_INCOMPATIBLE_CODECS_ERROR = "bufferIncompatibleCodecsError", t.BUFFER_APPEND_ERROR = "bufferAppendError", t.BUFFER_APPENDING_ERROR = "bufferAppendingError", t.BUFFER_STALLED_ERROR = "bufferStalledError", t.BUFFER_FULL_ERROR = "bufferFullError", t.BUFFER_SEEK_OVER_HOLE = "bufferSeekOverHole", t.BUFFER_NUDGE_ON_STALL = "bufferNudgeOnStall", t.INTERNAL_EXCEPTION = "internalException", t.INTERNAL_ABORTED = "aborted", t.UNKNOWN = "unknown", t }({}), R = function () { }, b = { trace: R, debug: R, log: R, warn: R, info: R, error: R }, k = b; function D(t) { for (var e = arguments.length, r = new Array(e > 1 ? e - 1 : 0), i = 1; i < e; i++)r[i - 1] = arguments[i]; r.forEach((function (e) { k[e] = t[e] ? t[e].bind(t) : function (t) { var e = self.console[t]; return e ? e.bind(self.console, "[" + t + "] >") : R }(e) })) } function I(t, e) { if ("object" == typeof console && !0 === t || "object" == typeof t) { D(t, "debug", "log", "info", "warn", "error"); try { k.log('Debug logs enabled for "' + e + '" in hls.js version 1.5.17') } catch (t) { k = b } } else k = b } var w = k, C = /^(\d+)x(\d+)$/, _ = /(.+?)=(".*?"|.*?)(?:,|$)/g, x = function () { function t(e) { "string" == typeof e && (e = t.parseAttrList(e)), o(this, e) } var e = t.prototype; return e.decimalInteger = function (t) { var e = parseInt(this[t], 10); return e > Number.MAX_SAFE_INTEGER ? 1 / 0 : e }, e.hexadecimalInteger = function (t) { if (this[t]) { var e = (this[t] || "0x").slice(2); e = (1 & e.length ? "0" : "") + e; for (var r = new Uint8Array(e.length / 2), i = 0; i < e.length / 2; i++)r[i] = parseInt(e.slice(2 * i, 2 * i + 2), 16); return r } return null }, e.hexadecimalIntegerAsNumber = function (t) { var e = parseInt(this[t], 16); return e > Number.MAX_SAFE_INTEGER ? 1 / 0 : e }, e.decimalFloatingPoint = function (t) { return parseFloat(this[t]) }, e.optionalFloat = function (t, e) { var r = this[t]; return r ? parseFloat(r) : e }, e.enumeratedString = function (t) { return this[t] }, e.bool = function (t) { return "YES" === this[t] }, e.decimalResolution = function (t) { var e = C.exec(this[t]); if (null !== e) return { width: parseInt(e[1], 10), height: parseInt(e[2], 10) } }, t.parseAttrList = function (t) { var e, r = {}; for (_.lastIndex = 0; null !== (e = _.exec(t));) { var i = e[2]; 0 === i.indexOf('"') && i.lastIndexOf('"') === i.length - 1 && (i = i.slice(1, -1)), r[e[1].trim()] = i } return r }, s(t, [{ key: "clientAttrs", get: function () { return Object.keys(this).filter((function (t) { return "X-" === t.substring(0, 2) })) } }]), t }(); function P(t) { return "SCTE35-OUT" === t || "SCTE35-IN" === t } var F = function () { function t(t, e) { if (this.attr = void 0, this._startDate = void 0, this._endDate = void 0, this._badValueForSameId = void 0, e) { var r = e.attr; for (var i in r) if (Object.prototype.hasOwnProperty.call(t, i) && t[i] !== r[i]) { w.warn('DATERANGE tag attribute: "' + i + '" does not match for tags with ID: "' + t.ID + '"'), this._badValueForSameId = i; break } t = o(new x({}), r, t) } if (this.attr = t, this._startDate = new Date(t["START-DATE"]), "END-DATE" in this.attr) { var n = new Date(this.attr["END-DATE"]); y(n.getTime()) && (this._endDate = n) } } return s(t, [{ key: "id", get: function () { return this.attr.ID } }, { key: "class", get: function () { return this.attr.CLASS } }, { key: "startDate", get: function () { return this._startDate } }, { key: "endDate", get: function () { if (this._endDate) return this._endDate; var t = this.duration; return null !== t ? new Date(this._startDate.getTime() + 1e3 * t) : null } }, { key: "duration", get: function () { if ("DURATION" in this.attr) { var t = this.attr.decimalFloatingPoint("DURATION"); if (y(t)) return t } else if (this._endDate) return (this._endDate.getTime() - this._startDate.getTime()) / 1e3; return null } }, { key: "plannedDuration", get: function () { return "PLANNED-DURATION" in this.attr ? this.attr.decimalFloatingPoint("PLANNED-DURATION") : null } }, { key: "endOnNext", get: function () { return this.attr.bool("END-ON-NEXT") } }, { key: "isValid", get: function () { return !!this.id && !this._badValueForSameId && y(this.startDate.getTime()) && (null === this.duration || this.duration >= 0) && (!this.endOnNext || !!this.class) } }]), t }(), M = function () { this.aborted = !1, this.loaded = 0, this.retry = 0, this.total = 0, this.chunkCount = 0, this.bwEstimate = 0, this.loading = { start: 0, first: 0, end: 0 }, this.parsing = { start: 0, end: 0 }, this.buffering = { start: 0, first: 0, end: 0 } }, O = "audio", N = "video", U = "audiovideo", B = function () { function t(t) { var e; this._byteRange = null, this._url = null, this.baseurl = void 0, this.relurl = void 0, this.elementaryStreams = ((e = {})[O] = null, e[N] = null, e[U] = null, e), this.baseurl = t } return t.prototype.setByteRange = function (t, e) { var r, i = t.split("@", 2); r = 1 === i.length ? (null == e ? void 0 : e.byteRangeEndOffset) || 0 : parseInt(i[1]), this._byteRange = [r, parseInt(i[0]) + r] }, s(t, [{ key: "byteRange", get: function () { return this._byteRange ? this._byteRange : [] } }, { key: "byteRangeStartOffset", get: function () { return this.byteRange[0] } }, { key: "byteRangeEndOffset", get: function () { return this.byteRange[1] } }, { key: "url", get: function () { return !this._url && this.baseurl && this.relurl && (this._url = p.buildAbsoluteURL(this.baseurl, this.relurl, { alwaysNormalize: !0 })), this._url || "" }, set: function (t) { this._url = t } }]), t }(), G = function (t) { function e(e, r) { var i; return (i = t.call(this, r) || this)._decryptdata = null, i.rawProgramDateTime = null, i.programDateTime = null, i.tagList = [], i.duration = 0, i.sn = 0, i.levelkeys = void 0, i.type = void 0, i.loader = null, i.keyLoader = null, i.level = -1, i.cc = 0, i.startPTS = void 0, i.endPTS = void 0, i.startDTS = void 0, i.endDTS = void 0, i.start = 0, i.deltaPTS = void 0, i.maxStartPTS = void 0, i.minEndPTS = void 0, i.stats = new M, i.data = void 0, i.bitrateTest = !1, i.title = null, i.initSegment = null, i.endList = void 0, i.gap = void 0, i.urlId = 0, i.type = e, i } l(e, t); var r = e.prototype; return r.setKeyFormat = function (t) { if (this.levelkeys) { var e = this.levelkeys[t]; e && !this._decryptdata && (this._decryptdata = e.getDecryptData(this.sn)) } }, r.abortRequests = function () { var t, e; null == (t = this.loader) || t.abort(), null == (e = this.keyLoader) || e.abort() }, r.setElementaryStreamInfo = function (t, e, r, i, n, a) { void 0 === a && (a = !1); var s = this.elementaryStreams, o = s[t]; o ? (o.startPTS = Math.min(o.startPTS, e), o.endPTS = Math.max(o.endPTS, r), o.startDTS = Math.min(o.startDTS, i), o.endDTS = Math.max(o.endDTS, n)) : s[t] = { startPTS: e, endPTS: r, startDTS: i, endDTS: n, partial: a } }, r.clearElementaryStreamInfo = function () { var t = this.elementaryStreams; t[O] = null, t[N] = null, t[U] = null }, s(e, [{ key: "decryptdata", get: function () { if (!this.levelkeys && !this._decryptdata) return null; if (!this._decryptdata && this.levelkeys && !this.levelkeys.NONE) { var t = this.levelkeys.identity; if (t) this._decryptdata = t.getDecryptData(this.sn); else { var e = Object.keys(this.levelkeys); if (1 === e.length) return this._decryptdata = this.levelkeys[e[0]].getDecryptData(this.sn) } } return this._decryptdata } }, { key: "end", get: function () { return this.start + this.duration } }, { key: "endProgramDateTime", get: function () { if (null === this.programDateTime) return null; if (!y(this.programDateTime)) return null; var t = y(this.duration) ? this.duration : 0; return this.programDateTime + 1e3 * t } }, { key: "encrypted", get: function () { var t; if (null != (t = this._decryptdata) && t.encrypted) return !0; if (this.levelkeys) { var e = Object.keys(this.levelkeys), r = e.length; if (r > 1 || 1 === r && this.levelkeys[e[0]].encrypted) return !0 } return !1 } }]), e }(B), K = function (t) { function e(e, r, i, n, a) { var s; (s = t.call(this, i) || this).fragOffset = 0, s.duration = 0, s.gap = !1, s.independent = !1, s.relurl = void 0, s.fragment = void 0, s.index = void 0, s.stats = new M, s.duration = e.decimalFloatingPoint("DURATION"), s.gap = e.bool("GAP"), s.independent = e.bool("INDEPENDENT"), s.relurl = e.enumeratedString("URI"), s.fragment = r, s.index = n; var o = e.enumeratedString("BYTERANGE"); return o && s.setByteRange(o, a), a && (s.fragOffset = a.fragOffset + a.duration), s } return l(e, t), s(e, [{ key: "start", get: function () { return this.fragment.start + this.fragOffset } }, { key: "end", get: function () { return this.start + this.duration } }, { key: "loaded", get: function () { var t = this.elementaryStreams; return !!(t.audio || t.video || t.audiovideo) } }]), e }(B), H = function () { function t(t) { this.PTSKnown = !1, this.alignedSliding = !1, this.averagetargetduration = void 0, this.endCC = 0, this.endSN = 0, this.fragments = void 0, this.fragmentHint = void 0, this.partList = null, this.dateRanges = void 0, this.live = !0, this.ageHeader = 0, this.advancedDateTime = void 0, this.updated = !0, this.advanced = !0, this.availabilityDelay = void 0, this.misses = 0, this.startCC = 0, this.startSN = 0, this.startTimeOffset = null, this.targetduration = 0, this.totalduration = 0, this.type = null, this.url = void 0, this.m3u8 = "", this.version = null, this.canBlockReload = !1, this.canSkipUntil = 0, this.canSkipDateRanges = !1, this.skippedSegments = 0, this.recentlyRemovedDateranges = void 0, this.partHoldBack = 0, this.holdBack = 0, this.partTarget = 0, this.preloadHint = void 0, this.renditionReports = void 0, this.tuneInGoal = 0, this.deltaUpdateFailed = void 0, this.driftStartTime = 0, this.driftEndTime = 0, this.driftStart = 0, this.driftEnd = 0, this.encryptedFragments = void 0, this.playlistParsingError = null, this.variableList = null, this.hasVariableRefs = !1, this.fragments = [], this.encryptedFragments = [], this.dateRanges = {}, this.url = t } return t.prototype.reloaded = function (t) { if (!t) return this.advanced = !0, void (this.updated = !0); var e = this.lastPartSn - t.lastPartSn, r = this.lastPartIndex - t.lastPartIndex; this.updated = this.endSN !== t.endSN || !!r || !!e || !this.live, this.advanced = this.endSN > t.endSN || e > 0 || 0 === e && r > 0, this.updated || this.advanced ? this.misses = Math.floor(.6 * t.misses) : this.misses = t.misses + 1, this.availabilityDelay = t.availabilityDelay }, s(t, [{ key: "hasProgramDateTime", get: function () { return !!this.fragments.length && y(this.fragments[this.fragments.length - 1].programDateTime) } }, { key: "levelTargetDuration", get: function () { return this.averagetargetduration || this.targetduration || 10 } }, { key: "drift", get: function () { var t = this.driftEndTime - this.driftStartTime; return t > 0 ? 1e3 * (this.driftEnd - this.driftStart) / t : 1 } }, { key: "edge", get: function () { return this.partEnd || this.fragmentEnd } }, { key: "partEnd", get: function () { var t; return null != (t = this.partList) && t.length ? this.partList[this.partList.length - 1].end : this.fragmentEnd } }, { key: "fragmentEnd", get: function () { var t; return null != (t = this.fragments) && t.length ? this.fragments[this.fragments.length - 1].end : 0 } }, { key: "age", get: function () { return this.advancedDateTime ? Math.max(Date.now() - this.advancedDateTime, 0) / 1e3 : 0 } }, { key: "lastPartIndex", get: function () { var t; return null != (t = this.partList) && t.length ? this.partList[this.partList.length - 1].index : -1 } }, { key: "lastPartSn", get: function () { var t; return null != (t = this.partList) && t.length ? this.partList[this.partList.length - 1].fragment.sn : this.endSN } }]), t }(); function V(t) { return Uint8Array.from(atob(t), (function (t) { return t.charCodeAt(0) })) } function Y(t) { var e, r, i = t.split(":"), n = null; if ("data" === i[0] && 2 === i.length) { var a = i[1].split(";"), s = a[a.length - 1].split(","); if (2 === s.length) { var o = "base64" === s[0], l = s[1]; o ? (a.splice(-1, 1), n = V(l)) : (e = W(l).subarray(0, 16), (r = new Uint8Array(16)).set(e, 16 - e.length), n = r) } } return n } function W(t) { return Uint8Array.from(unescape(encodeURIComponent(t)), (function (t) { return t.charCodeAt(0) })) } var j = "undefined" != typeof self ? self : void 0, q = { CLEARKEY: "org.w3.clearkey", FAIRPLAY: "com.apple.fps", PLAYREADY: "com.microsoft.playready", WIDEVINE: "com.widevine.alpha" }, X = "org.w3.clearkey", z = "com.apple.streamingkeydelivery", Q = "com.microsoft.playready", J = "urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"; function $(t) { switch (t) { case z: return q.FAIRPLAY; case Q: return q.PLAYREADY; case J: return q.WIDEVINE; case X: return q.CLEARKEY } } var Z = "1077efecc0b24d02ace33c1e52e2fb4b", tt = "e2719d58a985b3c9781ab030af78d30e", et = "9a04f07998404286ab92e65be0885f95", rt = "edef8ba979d64acea3c827dcd51d21ed"; function it(t) { return t === rt ? q.WIDEVINE : t === et ? q.PLAYREADY : t === Z || t === tt ? q.CLEARKEY : void 0 } function nt(t) { switch (t) { case q.FAIRPLAY: return z; case q.PLAYREADY: return Q; case q.WIDEVINE: return J; case q.CLEARKEY: return X } } function at(t) { var e = t.drmSystems, r = t.widevineLicenseUrl, i = e ? [q.FAIRPLAY, q.WIDEVINE, q.PLAYREADY, q.CLEARKEY].filter((function (t) { return !!e[t] })) : []; return !i[q.WIDEVINE] && r && i.push(q.WIDEVINE), i } var st, ot = null != j && null != (st = j.navigator) && st.requestMediaKeySystemAccess ? self.navigator.requestMediaKeySystemAccess.bind(self.navigator) : null; function lt(t, e, r) { return Uint8Array.prototype.slice ? t.slice(e, r) : new Uint8Array(Array.prototype.slice.call(t, e, r)) } var ut, ht = function (t, e) { return e + 10 <= t.length && 73 === t[e] && 68 === t[e + 1] && 51 === t[e + 2] && t[e + 3] < 255 && t[e + 4] < 255 && t[e + 6] < 128 && t[e + 7] < 128 && t[e + 8] < 128 && t[e + 9] < 128 }, dt = function (t, e) { return e + 10 <= t.length && 51 === t[e] && 68 === t[e + 1] && 73 === t[e + 2] && t[e + 3] < 255 && t[e + 4] < 255 && t[e + 6] < 128 && t[e + 7] < 128 && t[e + 8] < 128 && t[e + 9] < 128 }, ct = function (t, e) { for (var r = e, i = 0; ht(t, e);)i += 10, i += ft(t, e + 6), dt(t, e + 10) && (i += 10), e += i; if (i > 0) return t.subarray(r, r + i) }, ft = function (t, e) { var r = 0; return r = (127 & t[e]) << 21, r |= (127 & t[e + 1]) << 14, r |= (127 & t[e + 2]) << 7, r |= 127 & t[e + 3] }, gt = function (t, e) { return ht(t, e) && ft(t, e + 6) + 10 <= t.length - e }, vt = function (t) { for (var e = yt(t), r = 0; r < e.length; r++) { var i = e[r]; if (mt(i)) return At(i) } }, mt = function (t) { return t && "PRIV" === t.key && "com.apple.streaming.transportStreamTimestamp" === t.info }, pt = function (t) { var e = String.fromCharCode(t[0], t[1], t[2], t[3]), r = ft(t, 4); return { type: e, size: r, data: t.subarray(10, 10 + r) } }, yt = function (t) { for (var e = 0, r = []; ht(t, e);) { for (var i = ft(t, e + 6), n = (e += 10) + i; e + 8 < n;) { var a = pt(t.subarray(e)), s = Et(a); s && r.push(s), e += a.size + 10 } dt(t, e) && (e += 10) } return r }, Et = function (t) { return "PRIV" === t.type ? Tt(t) : "W" === t.type[0] ? Lt(t) : St(t) }, Tt = function (t) { if (!(t.size < 2)) { var e = Rt(t.data, !0), r = new Uint8Array(t.data.subarray(e.length + 1)); return { key: t.type, info: e, data: r.buffer } } }, St = function (t) { if (!(t.size < 2)) { if ("TXXX" === t.type) { var e = 1, r = Rt(t.data.subarray(e), !0); e += r.length + 1; var i = Rt(t.data.subarray(e)); return { key: t.type, info: r, data: i } } var n = Rt(t.data.subarray(1)); return { key: t.type, data: n } } }, Lt = function (t) { if ("WXXX" === t.type) { if (t.size < 2) return; var e = 1, r = Rt(t.data.subarray(e), !0); e += r.length + 1; var i = Rt(t.data.subarray(e)); return { key: t.type, info: r, data: i } } var n = Rt(t.data); return { key: t.type, data: n } }, At = function (t) { if (8 === t.data.byteLength) { var e = new Uint8Array(t.data), r = 1 & e[3], i = (e[4] << 23) + (e[5] << 15) + (e[6] << 7) + e[7]; return i /= 45, r && (i += 47721858.84), Math.round(i) } }, Rt = function (t, e) { void 0 === e && (e = !1); var r = bt(); if (r) { var i = r.decode(t); if (e) { var n = i.indexOf("\0"); return -1 !== n ? i.substring(0, n) : i } return i.replace(/\0/g, "") } for (var a, s, o, l = t.length, u = "", h = 0; h < l;) { if (0 === (a = t[h++]) && e) return u; if (0 !== a && 3 !== a) switch (a >> 4) { case 0: case 1: case 2: case 3: case 4: case 5: case 6: case 7: u += String.fromCharCode(a); break; case 12: case 13: s = t[h++], u += String.fromCharCode((31 & a) << 6 | 63 & s); break; case 14: s = t[h++], o = t[h++], u += String.fromCharCode((15 & a) << 12 | (63 & s) << 6 | (63 & o) << 0) } } return u }; function bt() { if (!navigator.userAgent.includes("PlayStation 4")) return ut || void 0 === self.TextDecoder || (ut = new self.TextDecoder("utf-8")), ut } var kt = { hexDump: function (t) { for (var e = "", r = 0; r < t.length; r++) { var i = t[r].toString(16); i.length < 2 && (i = "0" + i), e += i } return e } }, Dt = Math.pow(2, 32) - 1, It = [].push, wt = { video: 1, audio: 2, id3: 3, text: 4 }; function Ct(t) { return String.fromCharCode.apply(null, t) } function _t(t, e) { var r = t[e] << 8 | t[e + 1]; return r < 0 ? 65536 + r : r } function xt(t, e) { var r = Ft(t, e); return r < 0 ? 4294967296 + r : r } function Pt(t, e) { var r = xt(t, e); return r *= Math.pow(2, 32), r += xt(t, e + 4) } function Ft(t, e) { return t[e] << 24 | t[e + 1] << 16 | t[e + 2] << 8 | t[e + 3] } function Mt(t, e, r) { t[e] = r >> 24, t[e + 1] = r >> 16 & 255, t[e + 2] = r >> 8 & 255, t[e + 3] = 255 & r } function Ot(t, e) { var r = []; if (!e.length) return r; for (var i = t.byteLength, n = 0; n < i;) { var a = xt(t, n), s = a > 1 ? n + a : i; if (Ct(t.subarray(n + 4, n + 8)) === e[0]) if (1 === e.length) r.push(t.subarray(n + 8, s)); else { var o = Ot(t.subarray(n + 8, s), e.slice(1)); o.length && It.apply(r, o) } n = s } return r } function Nt(t) { var e = [], r = t[0], i = 8, n = xt(t, i); i += 4; var a = 0, s = 0; 0 === r ? (a = xt(t, i), s = xt(t, i + 4), i += 8) : (a = Pt(t, i), s = Pt(t, i + 8), i += 16), i += 2; var o = t.length + s, l = _t(t, i); i += 2; for (var u = 0; u < l; u++) { var h = i, d = xt(t, h); h += 4; var c = 2147483647 & d; if (1 == (2147483648 & d) >>> 31) return w.warn("SIDX has hierarchical references (not supported)"), null; var f = xt(t, h); h += 4, e.push({ referenceSize: c, subsegmentDuration: f, info: { duration: f / n, start: o, end: o + c - 1 } }), o += c, i = h += 4 } return { earliestPresentationTime: a, timescale: n, version: r, referencesCount: l, references: e } } function Ut(t) { for (var e = [], r = Ot(t, ["moov", "trak"]), n = 0; n < r.length; n++) { var a = r[n], s = Ot(a, ["tkhd"])[0]; if (s) { var o = s[0], l = xt(s, 0 === o ? 12 : 20), u = Ot(a, ["mdia", "mdhd"])[0]; if (u) { var h = xt(u, 0 === (o = u[0]) ? 12 : 20), d = Ot(a, ["mdia", "hdlr"])[0]; if (d) { var c = Ct(d.subarray(8, 12)), f = { soun: O, vide: N }[c]; if (f) { var g = Bt(Ot(a, ["mdia", "minf", "stbl", "stsd"])[0]); e[l] = { timescale: h, type: f }, e[f] = i({ timescale: h, id: l }, g) } } } } } return Ot(t, ["moov", "mvex", "trex"]).forEach((function (t) { var r = xt(t, 4), i = e[r]; i && (i.default = { duration: xt(t, 12), flags: xt(t, 20) }) })), e } function Bt(t) { var e = t.subarray(8), r = e.subarray(86), i = Ct(e.subarray(4, 8)), n = i, a = "enca" === i || "encv" === i; if (a) { var s = Ot(e, [i])[0]; Ot(s.subarray("enca" === i ? 28 : 78), ["sinf"]).forEach((function (t) { var e = Ot(t, ["schm"])[0]; if (e) { var r = Ct(e.subarray(4, 8)); if ("cbcs" === r || "cenc" === r) { var i = Ot(t, ["frma"])[0]; i && (n = Ct(i)) } } })) } switch (n) { case "avc1": case "avc2": case "avc3": case "avc4": var o = Ot(r, ["avcC"])[0]; n += "." + Kt(o[1]) + Kt(o[2]) + Kt(o[3]); break; case "mp4a": var l = Ot(e, [i])[0], u = Ot(l.subarray(28), ["esds"])[0]; if (u && u.length > 12) { var h = 4; if (3 !== u[h++]) break; h = Gt(u, h), h += 2; var d = u[h++]; if (128 & d && (h += 2), 64 & d && (h += u[h++]), 4 !== u[h++]) break; h = Gt(u, h); var c = u[h++]; if (64 !== c) break; if (n += "." + Kt(c), h += 12, 5 !== u[h++]) break; h = Gt(u, h); var f = u[h++], g = (248 & f) >> 3; 31 === g && (g += 1 + ((7 & f) << 3) + ((224 & u[h]) >> 5)), n += "." + g } break; case "hvc1": case "hev1": var v = Ot(r, ["hvcC"])[0], m = v[1], p = ["", "A", "B", "C"][m >> 6], y = 31 & m, E = xt(v, 2), T = (32 & m) >> 5 ? "H" : "L", S = v[12], L = v.subarray(6, 12); n += "." + p + y, n += "." + E.toString(16).toUpperCase(), n += "." + T + S; for (var A = "", R = L.length; R--;) { var b = L[R]; (b || A) && (A = "." + b.toString(16).toUpperCase() + A) } n += A; break; case "dvh1": case "dvhe": var k = Ot(r, ["dvcC"])[0], D = k[2] >> 1 & 127, I = k[2] << 5 & 32 | k[3] >> 3 & 31; n += "." + Ht(D) + "." + Ht(I); break; case "vp09": var w = Ot(r, ["vpcC"])[0], C = w[4], _ = w[5], x = w[6] >> 4 & 15; n += "." + Ht(C) + "." + Ht(_) + "." + Ht(x); break; case "av01": var P = Ot(r, ["av1C"])[0], F = P[1] >>> 5, M = 31 & P[1], O = P[2] >>> 7 ? "H" : "M", N = (64 & P[2]) >> 6, U = (32 & P[2]) >> 5, B = 2 === F && N ? U ? 12 : 10 : N ? 10 : 8, G = (16 & P[2]) >> 4, K = (8 & P[2]) >> 3, H = (4 & P[2]) >> 2, V = 3 & P[2]; n += "." + F + "." + Ht(M) + O + "." + Ht(B) + "." + G + "." + K + H + V + "." + Ht(1) + "." + Ht(1) + "." + Ht(1) + ".0" }return { codec: n, encrypted: a } } function Gt(t, e) { for (var r = e + 5; 128 & t[e++] && e < r;); return e } function Kt(t) { return ("0" + t.toString(16).toUpperCase()).slice(-2) } function Ht(t) { return (t < 10 ? "0" : "") + t } function Vt(t) { var e = Ot(t, ["schm"])[0]; if (e) { var r = Ct(e.subarray(4, 8)); if ("cbcs" === r || "cenc" === r) return Ot(t, ["schi", "tenc"])[0] } return null } function Yt(t) { var e = xt(t, 0), r = 8; 1 & e && (r += 4), 4 & e && (r += 4); for (var i = 0, n = xt(t, 4), a = 0; a < n; a++)256 & e && (i += xt(t, r), r += 4), 512 & e && (r += 4), 1024 & e && (r += 4), 2048 & e && (r += 4); return i } function Wt(t, e) { var r = new Uint8Array(t.length + e.length); return r.set(t), r.set(e, t.length), r } function jt(t, e) { var r = [], i = e.samples, n = e.timescale, a = e.id, s = !1; return Ot(i, ["moof"]).map((function (o) { var l = o.byteOffset - 8; Ot(o, ["traf"]).map((function (o) { var u = Ot(o, ["tfdt"]).map((function (t) { var e = t[0], r = xt(t, 4); return 1 === e && (r *= Math.pow(2, 32), r += xt(t, 8)), r / n }))[0]; return void 0 !== u && (t = u), Ot(o, ["tfhd"]).map((function (u) { var h = xt(u, 4), d = 16777215 & xt(u, 0), c = 0, f = 0 != (16 & d), g = 0, v = 0 != (32 & d), m = 8; h === a && (0 != (1 & d) && (m += 8), 0 != (2 & d) && (m += 4), 0 != (8 & d) && (c = xt(u, m), m += 4), f && (g = xt(u, m), m += 4), v && (m += 4), "video" === e.type && (s = function (t) { if (!t) return !1; var e = t.indexOf("."), r = e < 0 ? t : t.substring(0, e); return "hvc1" === r || "hev1" === r || "dvh1" === r || "dvhe" === r }(e.codec)), Ot(o, ["trun"]).map((function (a) { var o = a[0], u = 16777215 & xt(a, 0), h = 0 != (1 & u), d = 0, f = 0 != (4 & u), v = 0 != (256 & u), m = 0, p = 0 != (512 & u), y = 0, E = 0 != (1024 & u), T = 0 != (2048 & u), S = 0, L = xt(a, 4), A = 8; h && (d = xt(a, A), A += 4), f && (A += 4); for (var R = d + l, b = 0; b < L; b++) { if (v ? (m = xt(a, A), A += 4) : m = c, p ? (y = xt(a, A), A += 4) : y = g, E && (A += 4), T && (S = 0 === o ? xt(a, A) : Ft(a, A), A += 4), e.type === N) for (var k = 0; k < y;) { var D = xt(i, R); qt(s, i[R += 4]) && Xt(i.subarray(R, R + D), s ? 2 : 1, t + S / n, r), R += D, k += D + 4 } t += m / n } }))) })) })) })), r } function qt(t, e) { if (t) { var r = e >> 1 & 63; return 39 === r || 40 === r } return 6 == (31 & e) } function Xt(t, e, r, i) { var n = zt(t), a = 0; a += e; for (var s = 0, o = 0, l = 0; a < n.length;) { s = 0; do { if (a >= n.length) break; s += l = n[a++] } while (255 === l); o = 0; do { if (a >= n.length) break; o += l = n[a++] } while (255 === l); var u = n.length - a, h = a; if (o < u) a += o; else if (o > u) { w.error("Malformed SEI payload. " + o + " is too small, only " + u + " bytes left to parse."); break } if (4 === s) { if (181 === n[h++]) { var d = _t(n, h); if (h += 2, 49 === d) { var c = xt(n, h); if (h += 4, 1195456820 === c) { var f = n[h++]; if (3 === f) { var g = n[h++], v = 64 & g, m = v ? 2 + 3 * (31 & g) : 0, p = new Uint8Array(m); if (v) { p[0] = g; for (var y = 1; y < m; y++)p[y] = n[h++] } i.push({ type: f, payloadType: s, pts: r, bytes: p }) } } } } } else if (5 === s && o > 16) { for (var E = [], T = 0; T < 16; T++) { var S = n[h++].toString(16); E.push(1 == S.length ? "0" + S : S), 3 !== T && 5 !== T && 7 !== T && 9 !== T || E.push("-") } for (var L = o - 16, A = new Uint8Array(L), R = 0; R < L; R++)A[R] = n[h++]; i.push({ payloadType: s, pts: r, uuid: E.join(""), userData: Rt(A), userDataBytes: A }) } } } function zt(t) { for (var e = t.byteLength, r = [], i = 1; i < e - 2;)0 === t[i] && 0 === t[i + 1] && 3 === t[i + 2] ? (r.push(i + 2), i += 2) : i++; if (0 === r.length) return t; var n = e - r.length, a = new Uint8Array(n), s = 0; for (i = 0; i < n; s++, i++)s === r[0] && (s++, r.shift()), a[i] = t[s]; return a } function Qt(t, e, r) { if (16 !== t.byteLength) throw new RangeError("Invalid system id"); var i, n, a; if (e) { i = 1, n = new Uint8Array(16 * e.length); for (var s = 0; s < e.length; s++) { var o = e[s]; if (16 !== o.byteLength) throw new RangeError("Invalid key"); n.set(o, 16 * s) } } else i = 0, n = new Uint8Array; i > 0 ? (a = new Uint8Array(4), e.length > 0 && new DataView(a.buffer).setUint32(0, e.length, !1)) : a = new Uint8Array; var l = new Uint8Array(4); return r && r.byteLength > 0 && new DataView(l.buffer).setUint32(0, r.byteLength, !1), function (t) { for (var e = arguments.length, r = new Array(e > 1 ? e - 1 : 0), i = 1; i < e; i++)r[i - 1] = arguments[i]; for (var n = r.length, a = 8, s = n; s--;)a += r[s].byteLength; var o = new Uint8Array(a); for (o[0] = a >> 24 & 255, o[1] = a >> 16 & 255, o[2] = a >> 8 & 255, o[3] = 255 & a, o.set(t, 4), s = 0, a = 8; s < n; s++)o.set(r[s], a), a += r[s].byteLength; return o }([112, 115, 115, 104], new Uint8Array([i, 0, 0, 0]), t, a, n, l, r || new Uint8Array) } function Jt(t) { var e = t.getUint32(0), r = t.byteOffset, i = t.byteLength; if (i < e) return { offset: r, size: i }; if (1886614376 !== t.getUint32(4)) return { offset: r, size: e }; var n = t.getUint32(8) >>> 24; if (0 !== n && 1 !== n) return { offset: r, size: e }; var a = t.buffer, s = kt.hexDump(new Uint8Array(a, r + 12, 16)), o = t.getUint32(28), l = null, u = null; if (0 === n) { if (e - 32 < o || o < 22) return { offset: r, size: e }; u = new Uint8Array(a, r + 32, o) } else if (1 === n) { if (!o || i < r + 32 + 16 * o + 16) return { offset: r, size: e }; l = []; for (var h = 0; h < o; h++)l.push(new Uint8Array(a, r + 32 + 16 * h, 16)) } return { version: n, systemId: s, kids: l, data: u, offset: r, size: e } } var $t = {}, Zt = function () { function t(t, e, r, i, n) { void 0 === i && (i = [1]), void 0 === n && (n = null), this.uri = void 0, this.method = void 0, this.keyFormat = void 0, this.keyFormatVersions = void 0, this.encrypted = void 0, this.isCommonEncryption = void 0, this.iv = null, this.key = null, this.keyId = null, this.pssh = null, this.method = t, this.uri = e, this.keyFormat = r, this.keyFormatVersions = i, this.iv = n, this.encrypted = !!t && "NONE" !== t, this.isCommonEncryption = this.encrypted && "AES-128" !== t } t.clearKeyUriToKeyIdMap = function () { $t = {} }; var e = t.prototype; return e.isSupported = function () { if (this.method) { if ("AES-128" === this.method || "NONE" === this.method) return !0; if ("identity" === this.keyFormat) return "SAMPLE-AES" === this.method; switch (this.keyFormat) { case z: case J: case Q: case X: return -1 !== ["ISO-23001-7", "SAMPLE-AES", "SAMPLE-AES-CENC", "SAMPLE-AES-CTR"].indexOf(this.method) } } return !1 }, e.getDecryptData = function (e) { if (!this.encrypted || !this.uri) return null; if ("AES-128" === this.method && this.uri && !this.iv) { "number" != typeof e && ("AES-128" !== this.method || this.iv || w.warn('missing IV for initialization segment with method="' + this.method + '" - compliance issue'), e = 0); var r = function (t) { for (var e = new Uint8Array(16), r = 12; r < 16; r++)e[r] = t >> 8 * (15 - r) & 255; return e }(e); return new t(this.method, this.uri, "identity", this.keyFormatVersions, r) } var i = Y(this.uri); if (i) switch (this.keyFormat) { case J: this.pssh = i, i.length >= 22 && (this.keyId = i.subarray(i.length - 22, i.length - 6)); break; case Q: var n = new Uint8Array([154, 4, 240, 121, 152, 64, 66, 134, 171, 146, 230, 91, 224, 136, 95, 149]); this.pssh = Qt(n, null, i); var a = new Uint16Array(i.buffer, i.byteOffset, i.byteLength / 2), s = String.fromCharCode.apply(null, Array.from(a)), o = s.substring(s.indexOf("<"), s.length), l = (new DOMParser).parseFromString(o, "text/xml").getElementsByTagName("KID")[0]; if (l) { var u = l.childNodes[0] ? l.childNodes[0].nodeValue : l.getAttribute("VALUE"); if (u) { var h = V(u).subarray(0, 16); !function (t) { var e = function (t, e, r) { var i = t[e]; t[e] = t[r], t[r] = i }; e(t, 0, 3), e(t, 1, 2), e(t, 4, 5), e(t, 6, 7) }(h), this.keyId = h } } break; default: var d = i.subarray(0, 16); if (16 !== d.length) { var c = new Uint8Array(16); c.set(d, 16 - d.length), d = c } this.keyId = d }if (!this.keyId || 16 !== this.keyId.byteLength) { var f = $t[this.uri]; if (!f) { var g = Object.keys($t).length % Number.MAX_SAFE_INTEGER; f = new Uint8Array(16), new DataView(f.buffer, 12, 4).setUint32(0, g), $t[this.uri] = f } this.keyId = f } return this }, t }(), te = /\{\$([a-zA-Z0-9-_]+)\}/g; function ee(t) { return te.test(t) } function re(t, e, r) { if (null !== t.variableList || t.hasVariableRefs) for (var i = r.length; i--;) { var n = r[i], a = e[n]; a && (e[n] = ie(t, a)) } } function ie(t, e) { if (null !== t.variableList || t.hasVariableRefs) { var r = t.variableList; return e.replace(te, (function (e) { var i = e.substring(2, e.length - 1), n = null == r ? void 0 : r[i]; return void 0 === n ? (t.playlistParsingError || (t.playlistParsingError = new Error('Missing preceding EXT-X-DEFINE tag for Variable Reference: "' + i + '"')), e) : n })) } return e } function ne(t, e, r) { var i, n, a = t.variableList; if (a || (t.variableList = a = {}), "QUERYPARAM" in e) { i = e.QUERYPARAM; try { var s = new self.URL(r).searchParams; if (!s.has(i)) throw new Error('"' + i + '" does not match any query parameter in URI: "' + r + '"'); n = s.get(i) } catch (e) { t.playlistParsingError || (t.playlistParsingError = new Error("EXT-X-DEFINE QUERYPARAM: " + e.message)) } } else i = e.NAME, n = e.VALUE; i in a ? t.playlistParsingError || (t.playlistParsingError = new Error('EXT-X-DEFINE duplicate Variable Name declarations: "' + i + '"')) : a[i] = n || "" } function ae(t, e, r) { var i = e.IMPORT; if (r && i in r) { var n = t.variableList; n || (t.variableList = n = {}), n[i] = r[i] } else t.playlistParsingError || (t.playlistParsingError = new Error('EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "' + i + '"')) } function se(t) { if (void 0 === t && (t = !0), "undefined" != typeof self) return (t || !self.MediaSource) && self.ManagedMediaSource || self.MediaSource || self.WebKitMediaSource } var oe = { audio: { a3ds: 1, "ac-3": .95, "ac-4": 1, alac: .9, alaw: 1, dra1: 1, "dts+": 1, "dts-": 1, dtsc: 1, dtse: 1, dtsh: 1, "ec-3": .9, enca: 1, fLaC: .9, flac: .9, FLAC: .9, g719: 1, g726: 1, m4ae: 1, mha1: 1, mha2: 1, mhm1: 1, mhm2: 1, mlpa: 1, mp4a: 1, "raw ": 1, Opus: 1, opus: 1, samr: 1, sawb: 1, sawp: 1, sevc: 1, sqcp: 1, ssmv: 1, twos: 1, ulaw: 1 }, video: { avc1: 1, avc2: 1, avc3: 1, avc4: 1, avcp: 1, av01: .8, drac: 1, dva1: 1, dvav: 1, dvh1: .7, dvhe: .7, encv: 1, hev1: .75, hvc1: .75, mjp2: 1, mp4v: 1, mvc1: 1, mvc2: 1, mvc3: 1, mvc4: 1, resv: 1, rv60: 1, s263: 1, svc1: 1, svc2: 1, "vc-1": 1, vp08: 1, vp09: .9 }, text: { stpp: 1, wvtt: 1 } }; function le(t, e, r) { return void 0 === r && (r = !0), !t.split(",").some((function (t) { return !ue(t, e, r) })) } function ue(t, e, r) { var i; void 0 === r && (r = !0); var n = se(r); return null != (i = null == n ? void 0 : n.isTypeSupported(he(t, e))) && i } function he(t, e) { return e + '/mp4;codecs="' + t + '"' } function de(t) { if (t) { var e = t.substring(0, 4); return oe.video[e] } return 2 } function ce(t) { return t.split(",").reduce((function (t, e) { var r = oe.video[e]; return r ? (2 * r + t) / (t ? 3 : 2) : (oe.audio[e] + t) / (t ? 2 : 1) }), 0) } var fe = {}, ge = /flac|opus/i; function ve(t, e) { return void 0 === e && (e = !0), t.replace(ge, (function (t) { return function (t, e) { if (void 0 === e && (e = !0), fe[t]) return fe[t]; for (var r = { flac: ["flac", "fLaC", "FLAC"], opus: ["opus", "Opus"] }[t], i = 0; i < r.length; i++)if (ue(r[i], "audio", e)) return fe[t] = r[i], r[i]; return t }(t.toLowerCase(), e) })) } function me(t, e) { return t && "mp4a" !== t ? t : e ? e.split(",")[0] : e } var pe = /#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g, ye = /#EXT-X-MEDIA:(.*)/g, Ee = /^#EXT(?:INF|-X-TARGETDURATION):/m, Te = new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source, /(?!#) *(\S[^\r\n]*)/.source, /#EXT-X-BYTERANGE:*(.+)/.source, /#EXT-X-PROGRAM-DATE-TIME:(.+)/.source, /#.*/.source].join("|"), "g"), Se = new RegExp([/#(EXTM3U)/.source, /#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source, /#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source, /#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source, /(#)([^:]*):(.*)/.source, /(#)(.*)(?:.*)\r?\n?/.source].join("|")), Le = function () { function t() { } return t.findGroup = function (t, e) { for (var r = 0; r < t.length; r++) { var i = t[r]; if (i.id === e) return i } }, t.resolve = function (t, e) { return p.buildAbsoluteURL(e, t, { alwaysNormalize: !0 }) }, t.isMediaPlaylist = function (t) { return Ee.test(t) }, t.parseMasterPlaylist = function (e, r) { var i, n = { contentSteering: null, levels: [], playlistParsingError: null, sessionData: null, sessionKeys: null, startTimeOffset: null, variableList: null, hasVariableRefs: ee(e) }, a = []; for (pe.lastIndex = 0; null != (i = pe.exec(e));)if (i[1]) { var s, o = new x(i[1]); re(n, o, ["CODECS", "SUPPLEMENTAL-CODECS", "ALLOWED-CPC", "PATHWAY-ID", "STABLE-VARIANT-ID", "AUDIO", "VIDEO", "SUBTITLES", "CLOSED-CAPTIONS", "NAME"]); var l = ie(n, i[2]), u = { attrs: o, bitrate: o.decimalInteger("BANDWIDTH") || o.decimalInteger("AVERAGE-BANDWIDTH"), name: o.NAME, url: t.resolve(l, r) }, h = o.decimalResolution("RESOLUTION"); h && (u.width = h.width, u.height = h.height), be(o.CODECS, u), null != (s = u.unknownCodecs) && s.length || a.push(u), n.levels.push(u) } else if (i[3]) { var d = i[3], c = i[4]; switch (d) { case "SESSION-DATA": var f = new x(c); re(n, f, ["DATA-ID", "LANGUAGE", "VALUE", "URI"]); var g = f["DATA-ID"]; g && (null === n.sessionData && (n.sessionData = {}), n.sessionData[g] = f); break; case "SESSION-KEY": var v = Ae(c, r, n); v.encrypted && v.isSupported() ? (null === n.sessionKeys && (n.sessionKeys = []), n.sessionKeys.push(v)) : w.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "' + c + '"'); break; case "DEFINE": var m = new x(c); re(n, m, ["NAME", "VALUE", "QUERYPARAM"]), ne(n, m, r); break; case "CONTENT-STEERING": var p = new x(c); re(n, p, ["SERVER-URI", "PATHWAY-ID"]), n.contentSteering = { uri: t.resolve(p["SERVER-URI"], r), pathwayId: p["PATHWAY-ID"] || "." }; break; case "START": n.startTimeOffset = Re(c) } } var y = a.length > 0 && a.length < n.levels.length; return n.levels = y ? a : n.levels, 0 === n.levels.length && (n.playlistParsingError = new Error("no levels found in manifest")), n }, t.parseMasterPlaylistMedia = function (e, r, i) { var n, a = {}, s = i.levels, o = { AUDIO: s.map((function (t) { return { id: t.attrs.AUDIO, audioCodec: t.audioCodec } })), SUBTITLES: s.map((function (t) { return { id: t.attrs.SUBTITLES, textCodec: t.textCodec } })), "CLOSED-CAPTIONS": [] }, l = 0; for (ye.lastIndex = 0; null !== (n = ye.exec(e));) { var u = new x(n[1]), h = u.TYPE; if (h) { var d = o[h], c = a[h] || []; a[h] = c, re(i, u, ["URI", "GROUP-ID", "LANGUAGE", "ASSOC-LANGUAGE", "STABLE-RENDITION-ID", "NAME", "INSTREAM-ID", "CHARACTERISTICS", "CHANNELS"]); var f = u.LANGUAGE, g = u["ASSOC-LANGUAGE"], v = u.CHANNELS, m = u.CHARACTERISTICS, p = u["INSTREAM-ID"], y = { attrs: u, bitrate: 0, id: l++, groupId: u["GROUP-ID"] || "", name: u.NAME || f || "", type: h, default: u.bool("DEFAULT"), autoselect: u.bool("AUTOSELECT"), forced: u.bool("FORCED"), lang: f, url: u.URI ? t.resolve(u.URI, r) : "" }; if (g && (y.assocLang = g), v && (y.channels = v), m && (y.characteristics = m), p && (y.instreamId = p), null != d && d.length) { var E = t.findGroup(d, y.groupId) || d[0]; ke(y, E, "audioCodec"), ke(y, E, "textCodec") } c.push(y) } } return a }, t.parseLevelPlaylist = function (t, e, r, i, n, a) { var s, l, u, h = new H(e), d = h.fragments, c = null, f = 0, g = 0, v = 0, m = 0, p = null, E = new G(i, e), T = -1, S = !1, L = null; for (Te.lastIndex = 0, h.m3u8 = t, h.hasVariableRefs = ee(t); null !== (s = Te.exec(t));) { S && (S = !1, (E = new G(i, e)).start = v, E.sn = f, E.cc = m, E.level = r, c && (E.initSegment = c, E.rawProgramDateTime = c.rawProgramDateTime, c.rawProgramDateTime = null, L && (E.setByteRange(L), L = null))); var A = s[1]; if (A) { E.duration = parseFloat(A); var R = (" " + s[2]).slice(1); E.title = R || null, E.tagList.push(R ? ["INF", A, R] : ["INF", A]) } else if (s[3]) { if (y(E.duration)) { E.start = v, u && we(E, u, h), E.sn = f, E.level = r, E.cc = m, d.push(E); var b = (" " + s[3]).slice(1); E.relurl = ie(h, b), De(E, p), p = E, v += E.duration, f++, g = 0, S = !0 } } else if (s[4]) { var k = (" " + s[4]).slice(1); p ? E.setByteRange(k, p) : E.setByteRange(k) } else if (s[5]) E.rawProgramDateTime = (" " + s[5]).slice(1), E.tagList.push(["PROGRAM-DATE-TIME", E.rawProgramDateTime]), -1 === T && (T = d.length); else { if (!(s = s[0].match(Se))) { w.warn("No matches on slow regex match for level playlist!"); continue } for (l = 1; l < s.length && void 0 === s[l]; l++); var D = (" " + s[l]).slice(1), I = (" " + s[l + 1]).slice(1), C = s[l + 2] ? (" " + s[l + 2]).slice(1) : ""; switch (D) { case "PLAYLIST-TYPE": h.type = I.toUpperCase(); break; case "MEDIA-SEQUENCE": f = h.startSN = parseInt(I); break; case "SKIP": var _ = new x(I); re(h, _, ["RECENTLY-REMOVED-DATERANGES"]); var P = _.decimalInteger("SKIPPED-SEGMENTS"); if (y(P)) { h.skippedSegments = P; for (var M = P; M--;)d.unshift(null); f += P } var O = _.enumeratedString("RECENTLY-REMOVED-DATERANGES"); O && (h.recentlyRemovedDateranges = O.split("\t")); break; case "TARGETDURATION": h.targetduration = Math.max(parseInt(I), 1); break; case "VERSION": h.version = parseInt(I); break; case "INDEPENDENT-SEGMENTS": case "EXTM3U": break; case "ENDLIST": h.live = !1; break; case "#": (I || C) && E.tagList.push(C ? [I, C] : [I]); break; case "DISCONTINUITY": m++, E.tagList.push(["DIS"]); break; case "GAP": E.gap = !0, E.tagList.push([D]); break; case "BITRATE": E.tagList.push([D, I]); break; case "DATERANGE": var N = new x(I); re(h, N, ["ID", "CLASS", "START-DATE", "END-DATE", "SCTE35-CMD", "SCTE35-OUT", "SCTE35-IN"]), re(h, N, N.clientAttrs); var U = new F(N, h.dateRanges[N.ID]); U.isValid || h.skippedSegments ? h.dateRanges[U.id] = U : w.warn('Ignoring invalid DATERANGE tag: "' + I + '"'), E.tagList.push(["EXT-X-DATERANGE", I]); break; case "DEFINE": var B = new x(I); re(h, B, ["NAME", "VALUE", "IMPORT", "QUERYPARAM"]), "IMPORT" in B ? ae(h, B, a) : ne(h, B, e); break; case "DISCONTINUITY-SEQUENCE": m = parseInt(I); break; case "KEY": var V = Ae(I, e, h); if (V.isSupported()) { if ("NONE" === V.method) { u = void 0; break } u || (u = {}), u[V.keyFormat] && (u = o({}, u)), u[V.keyFormat] = V } else w.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "' + I + '"'); break; case "START": h.startTimeOffset = Re(I); break; case "MAP": var Y = new x(I); if (re(h, Y, ["BYTERANGE", "URI"]), E.duration) { var W = new G(i, e); Ie(W, Y, r, u), c = W, E.initSegment = c, c.rawProgramDateTime && !E.rawProgramDateTime && (E.rawProgramDateTime = c.rawProgramDateTime) } else { var j = E.byteRangeEndOffset; if (j) { var q = E.byteRangeStartOffset; L = j - q + "@" + q } else L = null; Ie(E, Y, r, u), c = E, S = !0 } break; case "SERVER-CONTROL": var X = new x(I); h.canBlockReload = X.bool("CAN-BLOCK-RELOAD"), h.canSkipUntil = X.optionalFloat("CAN-SKIP-UNTIL", 0), h.canSkipDateRanges = h.canSkipUntil > 0 && X.bool("CAN-SKIP-DATERANGES"), h.partHoldBack = X.optionalFloat("PART-HOLD-BACK", 0), h.holdBack = X.optionalFloat("HOLD-BACK", 0); break; case "PART-INF": var z = new x(I); h.partTarget = z.decimalFloatingPoint("PART-TARGET"); break; case "PART": var Q = h.partList; Q || (Q = h.partList = []); var J = g > 0 ? Q[Q.length - 1] : void 0, $ = g++, Z = new x(I); re(h, Z, ["BYTERANGE", "URI"]); var tt = new K(Z, E, e, $, J); Q.push(tt), E.duration += tt.duration; break; case "PRELOAD-HINT": var et = new x(I); re(h, et, ["URI"]), h.preloadHint = et; break; case "RENDITION-REPORT": var rt = new x(I); re(h, rt, ["URI"]), h.renditionReports = h.renditionReports || [], h.renditionReports.push(rt); break; default: w.warn("line parsed but not handled: " + s) } } } p && !p.relurl ? (d.pop(), v -= p.duration, h.partList && (h.fragmentHint = p)) : h.partList && (De(E, p), E.cc = m, h.fragmentHint = E, u && we(E, u, h)); var it = d.length, nt = d[0], at = d[it - 1]; if ((v += h.skippedSegments * h.targetduration) > 0 && it && at) { h.averagetargetduration = v / it; var st = at.sn; h.endSN = "initSegment" !== st ? st : 0, h.live || (at.endList = !0), nt && (h.startCC = nt.cc) } else h.endSN = 0, h.startCC = 0; return h.fragmentHint && (v += h.fragmentHint.duration), h.totalduration = v, h.endCC = m, T > 0 && function (t, e) { for (var r = t[e], i = e; i--;) { var n = t[i]; if (!n) return; n.programDateTime = r.programDateTime - 1e3 * n.duration, r = n } }(d, T), h }, t }(); function Ae(t, e, r) { var i, n, a = new x(t); re(r, a, ["KEYFORMAT", "KEYFORMATVERSIONS", "URI", "IV", "URI"]); var s = null != (i = a.METHOD) ? i : "", o = a.URI, l = a.hexadecimalInteger("IV"), u = a.KEYFORMATVERSIONS, h = null != (n = a.KEYFORMAT) ? n : "identity"; o && a.IV && !l && w.error("Invalid IV: " + a.IV); var d = o ? Le.resolve(o, e) : "", c = (u || "1").split("/").map(Number).filter(Number.isFinite); return new Zt(s, d, h, c, l) } function Re(t) { var e = new x(t).decimalFloatingPoint("TIME-OFFSET"); return y(e) ? e : null } function be(t, e) { var r = (t || "").split(/[ ,]+/).filter((function (t) { return t }));["video", "audio", "text"].forEach((function (t) { var i = r.filter((function (e) { return function (t, e) { var r = oe[e]; return !!r && !!r[t.slice(0, 4)] }(e, t) })); i.length && (e[t + "Codec"] = i.join(","), r = r.filter((function (t) { return -1 === i.indexOf(t) }))) })), e.unknownCodecs = r } function ke(t, e, r) { var i = e[r]; i && (t[r] = i) } function De(t, e) { t.rawProgramDateTime ? t.programDateTime = Date.parse(t.rawProgramDateTime) : null != e && e.programDateTime && (t.programDateTime = e.endProgramDateTime), y(t.programDateTime) || (t.programDateTime = null, t.rawProgramDateTime = null) } function Ie(t, e, r, i) { t.relurl = e.URI, e.BYTERANGE && t.setByteRange(e.BYTERANGE), t.level = r, t.sn = "initSegment", i && (t.levelkeys = i), t.initSegment = null } function we(t, e, r) { t.levelkeys = e; var i = r.encryptedFragments; i.length && i[i.length - 1].levelkeys === e || !Object.keys(e).some((function (t) { return e[t].isCommonEncryption })) || i.push(t) } var Ce = "manifest", _e = "level", xe = "audioTrack", Pe = "subtitleTrack", Fe = "main", Me = "audio", Oe = "subtitle"; function Ne(t) { switch (t.type) { case xe: return Me; case Pe: return Oe; default: return Fe } } function Ue(t, e) { var r = t.url; return void 0 !== r && 0 !== r.indexOf("data:") || (r = e.url), r } var Be = function () { function t(t) { this.hls = void 0, this.loaders = Object.create(null), this.variableList = null, this.hls = t, this.registerListeners() } var e = t.prototype; return e.startLoad = function (t) { }, e.stopLoad = function () { this.destroyInternalLoaders() }, e.registerListeners = function () { var t = this.hls; t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.LEVEL_LOADING, this.onLevelLoading, this), t.on(S.AUDIO_TRACK_LOADING, this.onAudioTrackLoading, this), t.on(S.SUBTITLE_TRACK_LOADING, this.onSubtitleTrackLoading, this) }, e.unregisterListeners = function () { var t = this.hls; t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.LEVEL_LOADING, this.onLevelLoading, this), t.off(S.AUDIO_TRACK_LOADING, this.onAudioTrackLoading, this), t.off(S.SUBTITLE_TRACK_LOADING, this.onSubtitleTrackLoading, this) }, e.createInternalLoader = function (t) { var e = this.hls.config, r = e.pLoader, i = e.loader, n = new (r || i)(e); return this.loaders[t.type] = n, n }, e.getInternalLoader = function (t) { return this.loaders[t.type] }, e.resetInternalLoader = function (t) { this.loaders[t] && delete this.loaders[t] }, e.destroyInternalLoaders = function () { for (var t in this.loaders) { var e = this.loaders[t]; e && e.destroy(), this.resetInternalLoader(t) } }, e.destroy = function () { this.variableList = null, this.unregisterListeners(), this.destroyInternalLoaders() }, e.onManifestLoading = function (t, e) { var r = e.url; this.variableList = null, this.load({ id: null, level: 0, responseType: "text", type: Ce, url: r, deliveryDirectives: null }) }, e.onLevelLoading = function (t, e) { var r = e.id, i = e.level, n = e.pathwayId, a = e.url, s = e.deliveryDirectives; this.load({ id: r, level: i, pathwayId: n, responseType: "text", type: _e, url: a, deliveryDirectives: s }) }, e.onAudioTrackLoading = function (t, e) { var r = e.id, i = e.groupId, n = e.url, a = e.deliveryDirectives; this.load({ id: r, groupId: i, level: null, responseType: "text", type: xe, url: n, deliveryDirectives: a }) }, e.onSubtitleTrackLoading = function (t, e) { var r = e.id, i = e.groupId, n = e.url, a = e.deliveryDirectives; this.load({ id: r, groupId: i, level: null, responseType: "text", type: Pe, url: n, deliveryDirectives: a }) }, e.load = function (t) { var e, r, i, n = this, a = this.hls.config, s = this.getInternalLoader(t); if (s) { var l = s.context; if (l && l.url === t.url && l.level === t.level) return void w.trace("[playlist-loader]: playlist request ongoing"); w.log("[playlist-loader]: aborting previous loader for type: " + t.type), s.abort() } if (r = t.type === Ce ? a.manifestLoadPolicy.default : o({}, a.playlistLoadPolicy.default, { timeoutRetry: null, errorRetry: null }), s = this.createInternalLoader(t), y(null == (e = t.deliveryDirectives) ? void 0 : e.part) && (t.type === _e && null !== t.level ? i = this.hls.levels[t.level].details : t.type === xe && null !== t.id ? i = this.hls.audioTracks[t.id].details : t.type === Pe && null !== t.id && (i = this.hls.subtitleTracks[t.id].details), i)) { var u = i.partTarget, h = i.targetduration; if (u && h) { var d = 1e3 * Math.max(3 * u, .8 * h); r = o({}, r, { maxTimeToFirstByteMs: Math.min(d, r.maxTimeToFirstByteMs), maxLoadTimeMs: Math.min(d, r.maxTimeToFirstByteMs) }) } } var c = r.errorRetry || r.timeoutRetry || {}, f = { loadPolicy: r, timeout: r.maxLoadTimeMs, maxRetry: c.maxNumRetry || 0, retryDelay: c.retryDelayMs || 0, maxRetryDelay: c.maxRetryDelayMs || 0 }, g = { onSuccess: function (t, e, r, i) { var a = n.getInternalLoader(r); n.resetInternalLoader(r.type); var s = t.data; 0 === s.indexOf("#EXTM3U") ? (e.parsing.start = performance.now(), Le.isMediaPlaylist(s) ? n.handleTrackOrLevelPlaylist(t, e, r, i || null, a) : n.handleMasterPlaylist(t, e, r, i)) : n.handleManifestParsingError(t, r, new Error("no EXTM3U delimiter"), i || null, e) }, onError: function (t, e, r, i) { n.handleNetworkError(e, r, !1, t, i) }, onTimeout: function (t, e, r) { n.handleNetworkError(e, r, !0, void 0, t) } }; s.load(t, f, g) }, e.handleMasterPlaylist = function (t, e, r, i) { var n = this.hls, a = t.data, s = Ue(t, r), o = Le.parseMasterPlaylist(a, s); if (o.playlistParsingError) this.handleManifestParsingError(t, r, o.playlistParsingError, i, e); else { var l = o.contentSteering, u = o.levels, h = o.sessionData, d = o.sessionKeys, c = o.startTimeOffset, f = o.variableList; this.variableList = f; var g = Le.parseMasterPlaylistMedia(a, s, o), v = g.AUDIO, m = void 0 === v ? [] : v, p = g.SUBTITLES, y = g["CLOSED-CAPTIONS"]; m.length && (m.some((function (t) { return !t.url })) || !u[0].audioCodec || u[0].attrs.AUDIO || (w.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"), m.unshift({ type: "main", name: "main", groupId: "main", default: !1, autoselect: !1, forced: !1, id: -1, attrs: new x({}), bitrate: 0, url: "" }))), n.trigger(S.MANIFEST_LOADED, { levels: u, audioTracks: m, subtitles: p, captions: y, contentSteering: l, url: s, stats: e, networkDetails: i, sessionData: h, sessionKeys: d, startTimeOffset: c, variableList: f }) } }, e.handleTrackOrLevelPlaylist = function (t, e, r, i, n) { var a = this.hls, s = r.id, o = r.level, l = r.type, u = Ue(t, r), h = y(o) ? o : y(s) ? s : 0, d = Ne(r), c = Le.parseLevelPlaylist(t.data, u, h, d, 0, this.variableList); if (l === Ce) { var f = { attrs: new x({}), bitrate: 0, details: c, name: "", url: u }; a.trigger(S.MANIFEST_LOADED, { levels: [f], audioTracks: [], url: u, stats: e, networkDetails: i, sessionData: null, sessionKeys: null, contentSteering: null, startTimeOffset: null, variableList: null }) } e.parsing.end = performance.now(), r.levelDetails = c, this.handlePlaylistLoaded(c, t, e, r, i, n) }, e.handleManifestParsingError = function (t, e, r, i, n) { this.hls.trigger(S.ERROR, { type: L.NETWORK_ERROR, details: A.MANIFEST_PARSING_ERROR, fatal: e.type === Ce, url: t.url, err: r, error: r, reason: r.message, response: t, context: e, networkDetails: i, stats: n }) }, e.handleNetworkError = function (t, e, r, n, a) { void 0 === r && (r = !1); var s = "A network " + (r ? "timeout" : "error" + (n ? " (status " + n.code + ")" : "")) + " occurred while loading " + t.type; t.type === _e ? s += ": " + t.level + " id: " + t.id : t.type !== xe && t.type !== Pe || (s += " id: " + t.id + ' group-id: "' + t.groupId + '"'); var o = new Error(s); w.warn("[playlist-loader]: " + s); var l = A.UNKNOWN, u = !1, h = this.getInternalLoader(t); switch (t.type) { case Ce: l = r ? A.MANIFEST_LOAD_TIMEOUT : A.MANIFEST_LOAD_ERROR, u = !0; break; case _e: l = r ? A.LEVEL_LOAD_TIMEOUT : A.LEVEL_LOAD_ERROR, u = !1; break; case xe: l = r ? A.AUDIO_TRACK_LOAD_TIMEOUT : A.AUDIO_TRACK_LOAD_ERROR, u = !1; break; case Pe: l = r ? A.SUBTITLE_TRACK_LOAD_TIMEOUT : A.SUBTITLE_LOAD_ERROR, u = !1 }h && this.resetInternalLoader(t.type); var d = { type: L.NETWORK_ERROR, details: l, fatal: u, url: t.url, loader: h, context: t, error: o, networkDetails: e, stats: a }; if (n) { var c = (null == e ? void 0 : e.url) || t.url; d.response = i({ url: c, data: void 0 }, n) } this.hls.trigger(S.ERROR, d) }, e.handlePlaylistLoaded = function (t, e, r, i, n, a) { var s = this.hls, o = i.type, l = i.level, u = i.id, h = i.groupId, d = i.deliveryDirectives, c = Ue(e, i), f = Ne(i), g = "number" == typeof i.level && f === Fe ? l : void 0; if (t.fragments.length) { t.targetduration || (t.playlistParsingError = new Error("Missing Target Duration")); var v = t.playlistParsingError; if (v) s.trigger(S.ERROR, { type: L.NETWORK_ERROR, details: A.LEVEL_PARSING_ERROR, fatal: !1, url: c, error: v, reason: v.message, response: e, context: i, level: g, parent: f, networkDetails: n, stats: r }); else switch (t.live && a && (a.getCacheAge && (t.ageHeader = a.getCacheAge() || 0), a.getCacheAge && !isNaN(t.ageHeader) || (t.ageHeader = 0)), o) { case Ce: case _e: s.trigger(S.LEVEL_LOADED, { details: t, level: g || 0, id: u || 0, stats: r, networkDetails: n, deliveryDirectives: d }); break; case xe: s.trigger(S.AUDIO_TRACK_LOADED, { details: t, id: u || 0, groupId: h || "", stats: r, networkDetails: n, deliveryDirectives: d }); break; case Pe: s.trigger(S.SUBTITLE_TRACK_LOADED, { details: t, id: u || 0, groupId: h || "", stats: r, networkDetails: n, deliveryDirectives: d }) } } else { var m = new Error("No Segments found in Playlist"); s.trigger(S.ERROR, { type: L.NETWORK_ERROR, details: A.LEVEL_EMPTY_ERROR, fatal: !1, url: c, error: m, reason: m.message, response: e, context: i, level: g, parent: f, networkDetails: n, stats: r }) } }, t }(); function Ge(t, e) { var r; try { r = new Event("addtrack") } catch (t) { (r = document.createEvent("Event")).initEvent("addtrack", !1, !1) } r.track = t, e.dispatchEvent(r) } function Ke(t, e) { var r = t.mode; if ("disabled" === r && (t.mode = "hidden"), t.cues && !t.cues.getCueById(e.id)) try { if (t.addCue(e), !t.cues.getCueById(e.id)) throw new Error("addCue is failed for: " + e) } catch (r) { w.debug("[texttrack-utils]: " + r); try { var i = new self.TextTrackCue(e.startTime, e.endTime, e.text); i.id = e.id, t.addCue(i) } catch (t) { w.debug("[texttrack-utils]: Legacy TextTrackCue fallback failed: " + t) } } "disabled" === r && (t.mode = r) } function He(t) { var e = t.mode; if ("disabled" === e && (t.mode = "hidden"), t.cues) for (var r = t.cues.length; r--;)t.removeCue(t.cues[r]); "disabled" === e && (t.mode = e) } function Ve(t, e, r, i) { var n = t.mode; if ("disabled" === n && (t.mode = "hidden"), t.cues && t.cues.length > 0) for (var a = function (t, e, r) { var i = [], n = function (t, e) { if (e < t[0].startTime) return 0; var r = t.length - 1; if (e > t[r].endTime) return -1; for (var i = 0, n = r; i <= n;) { var a = Math.floor((n + i) / 2); if (e < t[a].startTime) n = a - 1; else { if (!(e > t[a].startTime && i < r)) return a; i = a + 1 } } return t[i].startTime - e < e - t[n].startTime ? i : n }(t, e); if (n > -1) for (var a = n, s = t.length; a < s; a++) { var o = t[a]; if (o.startTime >= e && o.endTime <= r) i.push(o); else if (o.startTime > r) return i } return i }(t.cues, e, r), s = 0; s < a.length; s++)i && !i(a[s]) || t.removeCue(a[s]); "disabled" === n && (t.mode = n) } function Ye(t) { for (var e = [], r = 0; r < t.length; r++) { var i = t[r]; "subtitles" !== i.kind && "captions" !== i.kind || !i.label || e.push(t[r]) } return e } var We = "org.id3", je = "com.apple.quicktime.HLS", qe = "https://aomedia.org/emsg/ID3"; function Xe() { if ("undefined" != typeof self) return self.VTTCue || self.TextTrackCue } function ze(t, e, r, n, a) { var s = new t(e, r, ""); try { s.value = n, a && (s.type = a) } catch (o) { s = new t(e, r, JSON.stringify(a ? i({ type: a }, n) : n)) } return s } var Qe = function () { var t = Xe(); try { t && new t(0, Number.POSITIVE_INFINITY, "") } catch (t) { return Number.MAX_VALUE } return Number.POSITIVE_INFINITY }(); function Je(t, e) { return t.getTime() / 1e3 - e } var $e = function () { function t(t) { this.hls = void 0, this.id3Track = null, this.media = null, this.dateRangeCuesAppended = {}, this.hls = t, this._registerListeners() } var e = t.prototype; return e.destroy = function () { this._unregisterListeners(), this.id3Track = null, this.media = null, this.dateRangeCuesAppended = {}, this.hls = null }, e._registerListeners = function () { var t = this.hls; t.on(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.FRAG_PARSING_METADATA, this.onFragParsingMetadata, this), t.on(S.BUFFER_FLUSHING, this.onBufferFlushing, this), t.on(S.LEVEL_UPDATED, this.onLevelUpdated, this) }, e._unregisterListeners = function () { var t = this.hls; t.off(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.FRAG_PARSING_METADATA, this.onFragParsingMetadata, this), t.off(S.BUFFER_FLUSHING, this.onBufferFlushing, this), t.off(S.LEVEL_UPDATED, this.onLevelUpdated, this) }, e.onMediaAttached = function (t, e) { this.media = e.media }, e.onMediaDetaching = function () { this.id3Track && (He(this.id3Track), this.id3Track = null, this.media = null, this.dateRangeCuesAppended = {}) }, e.onManifestLoading = function () { this.dateRangeCuesAppended = {} }, e.createTrack = function (t) { var e = this.getID3Track(t.textTracks); return e.mode = "hidden", e }, e.getID3Track = function (t) { if (this.media) { for (var e = 0; e < t.length; e++) { var r = t[e]; if ("metadata" === r.kind && "id3" === r.label) return Ge(r, this.media), r } return this.media.addTextTrack("metadata", "id3") } }, e.onFragParsingMetadata = function (t, e) { if (this.media) { var r = this.hls.config, i = r.enableEmsgMetadataCues, n = r.enableID3MetadataCues; if (i || n) { var a = e.samples; this.id3Track || (this.id3Track = this.createTrack(this.media)); var s = Xe(); if (s) for (var o = 0; o < a.length; o++) { var l = a[o].type; if ((l !== qe || i) && n) { var u = yt(a[o].data); if (u) { var h = a[o].pts, d = h + a[o].duration; d > Qe && (d = Qe), d - h <= 0 && (d = h + .25); for (var c = 0; c < u.length; c++) { var f = u[c]; if (!mt(f)) { this.updateId3CueEnds(h, l); var g = ze(s, h, d, f, l); g && this.id3Track.addCue(g) } } } } } } } }, e.updateId3CueEnds = function (t, e) { var r, i = null == (r = this.id3Track) ? void 0 : r.cues; if (i) for (var n = i.length; n--;) { var a = i[n]; a.type === e && a.startTime < t && a.endTime === Qe && (a.endTime = t) } }, e.onBufferFlushing = function (t, e) { var r = e.startOffset, i = e.endOffset, n = e.type, a = this.id3Track, s = this.hls; if (s) { var o = s.config, l = o.enableEmsgMetadataCues, u = o.enableID3MetadataCues; a && (l || u) && Ve(a, r, i, "audio" === n ? function (t) { return t.type === We && u } : "video" === n ? function (t) { return t.type === qe && l } : function (t) { return t.type === We && u || t.type === qe && l }) } }, e.onLevelUpdated = function (t, e) { var r = this, i = e.details; if (this.media && i.hasProgramDateTime && this.hls.config.enableDateRangeMetadataCues) { var n = this.dateRangeCuesAppended, a = this.id3Track, s = i.dateRanges, o = Object.keys(s); if (a) for (var l = Object.keys(n).filter((function (t) { return !o.includes(t) })), u = function () { var t = l[h]; Object.keys(n[t].cues).forEach((function (e) { a.removeCue(n[t].cues[e]) })), delete n[t] }, h = l.length; h--;)u(); var d = i.fragments[i.fragments.length - 1]; if (0 !== o.length && y(null == d ? void 0 : d.programDateTime)) { this.id3Track || (this.id3Track = this.createTrack(this.media)); for (var c = d.programDateTime / 1e3 - d.start, f = Xe(), g = function () { var t = o[v], e = s[t], i = Je(e.startDate, c), a = n[t], l = (null == a ? void 0 : a.cues) || {}, u = (null == a ? void 0 : a.durationKnown) || !1, h = Qe, d = e.endDate; if (d) h = Je(d, c), u = !0; else if (e.endOnNext && !u) { var g = o.reduce((function (t, r) { if (r !== e.id) { var i = s[r]; if (i.class === e.class && i.startDate > e.startDate && (!t || e.startDate < t.startDate)) return i } return t }), null); g && (h = Je(g.startDate, c), u = !0) } for (var m, p, y = Object.keys(e.attr), E = 0; E < y.length; E++) { var T = y[E]; if ("ID" !== (p = T) && "CLASS" !== p && "START-DATE" !== p && "DURATION" !== p && "END-DATE" !== p && "END-ON-NEXT" !== p) { var S = l[T]; if (S) u && !a.durationKnown && (S.endTime = h); else if (f) { var L = e.attr[T]; P(T) && (m = L, L = Uint8Array.from(m.replace(/^0x/, "").replace(/([\da-fA-F]{2}) ?/g, "0x$1 ").replace(/ +$/, "").split(" ")).buffer); var A = ze(f, i, h, { key: T, data: L }, je); A && (A.id = t, r.id3Track.addCue(A), l[T] = A) } } } n[t] = { cues: l, dateRange: e, durationKnown: u } }, v = 0; v < o.length; v++)g() } } }, t }(), Ze = function () { function t(t) { var e = this; this.hls = void 0, this.config = void 0, this.media = null, this.levelDetails = null, this.currentTime = 0, this.stallCount = 0, this._latency = null, this.timeupdateHandler = function () { return e.timeupdate() }, this.hls = t, this.config = t.config, this.registerListeners() } var e = t.prototype; return e.destroy = function () { this.unregisterListeners(), this.onMediaDetaching(), this.levelDetails = null, this.hls = this.timeupdateHandler = null }, e.registerListeners = function () { this.hls.on(S.MEDIA_ATTACHED, this.onMediaAttached, this), this.hls.on(S.MEDIA_DETACHING, this.onMediaDetaching, this), this.hls.on(S.MANIFEST_LOADING, this.onManifestLoading, this), this.hls.on(S.LEVEL_UPDATED, this.onLevelUpdated, this), this.hls.on(S.ERROR, this.onError, this) }, e.unregisterListeners = function () { this.hls.off(S.MEDIA_ATTACHED, this.onMediaAttached, this), this.hls.off(S.MEDIA_DETACHING, this.onMediaDetaching, this), this.hls.off(S.MANIFEST_LOADING, this.onManifestLoading, this), this.hls.off(S.LEVEL_UPDATED, this.onLevelUpdated, this), this.hls.off(S.ERROR, this.onError, this) }, e.onMediaAttached = function (t, e) { this.media = e.media, this.media.addEventListener("timeupdate", this.timeupdateHandler) }, e.onMediaDetaching = function () { this.media && (this.media.removeEventListener("timeupdate", this.timeupdateHandler), this.media = null) }, e.onManifestLoading = function () { this.levelDetails = null, this._latency = null, this.stallCount = 0 }, e.onLevelUpdated = function (t, e) { var r = e.details; this.levelDetails = r, r.advanced && this.timeupdate(), !r.live && this.media && this.media.removeEventListener("timeupdate", this.timeupdateHandler) }, e.onError = function (t, e) { var r; e.details === A.BUFFER_STALLED_ERROR && (this.stallCount++, null != (r = this.levelDetails) && r.live && w.warn("[playback-rate-controller]: Stall detected, adjusting target latency")) }, e.timeupdate = function () { var t = this.media, e = this.levelDetails; if (t && e) { this.currentTime = t.currentTime; var r = this.computeLatency(); if (null !== r) { this._latency = r; var i = this.config, n = i.lowLatencyMode, a = i.maxLiveSyncPlaybackRate; if (n && 1 !== a && e.live) { var s = this.targetLatency; if (null !== s) { var o = r - s; if (o < Math.min(this.maxLatency, s + e.targetduration) && o > .05 && this.forwardBufferLength > 1) { var l = Math.min(2, Math.max(1, a)), u = Math.round(2 / (1 + Math.exp(-.75 * o - this.edgeStalled)) * 20) / 20; t.playbackRate = Math.min(l, Math.max(1, u)) } else 1 !== t.playbackRate && 0 !== t.playbackRate && (t.playbackRate = 1) } } } } }, e.estimateLiveEdge = function () { var t = this.levelDetails; return null === t ? null : t.edge + t.age }, e.computeLatency = function () { var t = this.estimateLiveEdge(); return null === t ? null : t - this.currentTime }, s(t, [{ key: "latency", get: function () { return this._latency || 0 } }, { key: "maxLatency", get: function () { var t = this.config, e = this.levelDetails; return void 0 !== t.liveMaxLatencyDuration ? t.liveMaxLatencyDuration : e ? t.liveMaxLatencyDurationCount * e.targetduration : 0 } }, { key: "targetLatency", get: function () { var t = this.levelDetails; if (null === t) return null; var e = t.holdBack, r = t.partHoldBack, i = t.targetduration, n = this.config, a = n.liveSyncDuration, s = n.liveSyncDurationCount, o = n.lowLatencyMode, l = this.hls.userConfig, u = o && r || e; (l.liveSyncDuration || l.liveSyncDurationCount || 0 === u) && (u = void 0 !== a ? a : s * i); var h = i; return u + Math.min(1 * this.stallCount, h) } }, { key: "liveSyncPosition", get: function () { var t = this.estimateLiveEdge(), e = this.targetLatency, r = this.levelDetails; if (null === t || null === e || null === r) return null; var i = r.edge, n = t - e - this.edgeStalled, a = i - r.totalduration, s = i - (this.config.lowLatencyMode && r.partTarget || r.targetduration); return Math.min(Math.max(a, n), s) } }, { key: "drift", get: function () { var t = this.levelDetails; return null === t ? 1 : t.drift } }, { key: "edgeStalled", get: function () { var t = this.levelDetails; if (null === t) return 0; var e = 3 * (this.config.lowLatencyMode && t.partTarget || t.targetduration); return Math.max(t.age - e, 0) } }, { key: "forwardBufferLength", get: function () { var t = this.media, e = this.levelDetails; if (!t || !e) return 0; var r = t.buffered.length; return (r ? t.buffered.end(r - 1) : e.edge) - this.currentTime } }]), t }(), tr = ["NONE", "TYPE-0", "TYPE-1", null], er = ["SDR", "PQ", "HLG"], rr = "", ir = "YES", nr = "v2"; function ar(t) { var e = t.canSkipUntil, r = t.canSkipDateRanges, i = t.age; return e && i < e / 2 ? r ? nr : ir : rr } var sr = function () { function t(t, e, r) { this.msn = void 0, this.part = void 0, this.skip = void 0, this.msn = t, this.part = e, this.skip = r } return t.prototype.addDirectives = function (t) { var e = new self.URL(t); return void 0 !== this.msn && e.searchParams.set("_HLS_msn", this.msn.toString()), void 0 !== this.part && e.searchParams.set("_HLS_part", this.part.toString()), this.skip && e.searchParams.set("_HLS_skip", this.skip), e.href }, t }(), or = function () { function t(t) { this._attrs = void 0, this.audioCodec = void 0, this.bitrate = void 0, this.codecSet = void 0, this.url = void 0, this.frameRate = void 0, this.height = void 0, this.id = void 0, this.name = void 0, this.videoCodec = void 0, this.width = void 0, this.details = void 0, this.fragmentError = 0, this.loadError = 0, this.loaded = void 0, this.realBitrate = 0, this.supportedPromise = void 0, this.supportedResult = void 0, this._avgBitrate = 0, this._audioGroups = void 0, this._subtitleGroups = void 0, this._urlId = 0, this.url = [t.url], this._attrs = [t.attrs], this.bitrate = t.bitrate, t.details && (this.details = t.details), this.id = t.id || 0, this.name = t.name, this.width = t.width || 0, this.height = t.height || 0, this.frameRate = t.attrs.optionalFloat("FRAME-RATE", 0), this._avgBitrate = t.attrs.decimalInteger("AVERAGE-BANDWIDTH"), this.audioCodec = t.audioCodec, this.videoCodec = t.videoCodec, this.codecSet = [t.videoCodec, t.audioCodec].filter((function (t) { return !!t })).map((function (t) { return t.substring(0, 4) })).join(","), this.addGroupId("audio", t.attrs.AUDIO), this.addGroupId("text", t.attrs.SUBTITLES) } var e = t.prototype; return e.hasAudioGroup = function (t) { return lr(this._audioGroups, t) }, e.hasSubtitleGroup = function (t) { return lr(this._subtitleGroups, t) }, e.addGroupId = function (t, e) { if (e) if ("audio" === t) { var r = this._audioGroups; r || (r = this._audioGroups = []), -1 === r.indexOf(e) && r.push(e) } else if ("text" === t) { var i = this._subtitleGroups; i || (i = this._subtitleGroups = []), -1 === i.indexOf(e) && i.push(e) } }, e.addFallback = function () { }, s(t, [{ key: "maxBitrate", get: function () { return Math.max(this.realBitrate, this.bitrate) } }, { key: "averageBitrate", get: function () { return this._avgBitrate || this.realBitrate || this.bitrate } }, { key: "attrs", get: function () { return this._attrs[0] } }, { key: "codecs", get: function () { return this.attrs.CODECS || "" } }, { key: "pathwayId", get: function () { return this.attrs["PATHWAY-ID"] || "." } }, { key: "videoRange", get: function () { return this.attrs["VIDEO-RANGE"] || "SDR" } }, { key: "score", get: function () { return this.attrs.optionalFloat("SCORE", 0) } }, { key: "uri", get: function () { return this.url[0] || "" } }, { key: "audioGroups", get: function () { return this._audioGroups } }, { key: "subtitleGroups", get: function () { return this._subtitleGroups } }, { key: "urlId", get: function () { return 0 }, set: function (t) { } }, { key: "audioGroupIds", get: function () { return this.audioGroups ? [this.audioGroupId] : void 0 } }, { key: "textGroupIds", get: function () { return this.subtitleGroups ? [this.textGroupId] : void 0 } }, { key: "audioGroupId", get: function () { var t; return null == (t = this.audioGroups) ? void 0 : t[0] } }, { key: "textGroupId", get: function () { var t; return null == (t = this.subtitleGroups) ? void 0 : t[0] } }]), t }(); function lr(t, e) { return !(!e || !t) && -1 !== t.indexOf(e) } function ur(t, e) { var r = e.startPTS; if (y(r)) { var i, n = 0; e.sn > t.sn ? (n = r - t.start, i = t) : (n = t.start - r, i = e), i.duration !== n && (i.duration = n) } else e.sn > t.sn ? t.cc === e.cc && t.minEndPTS ? e.start = t.start + (t.minEndPTS - t.start) : e.start = t.start + t.duration : e.start = Math.max(t.start - e.duration, 0) } function hr(t, e, r, i, n, a) { i - r <= 0 && (w.warn("Fragment should have a positive duration", e), i = r + e.duration, a = n + e.duration); var s = r, o = i, l = e.startPTS, u = e.endPTS; if (y(l)) { var h = Math.abs(l - r); y(e.deltaPTS) ? e.deltaPTS = Math.max(h, e.deltaPTS) : e.deltaPTS = h, s = Math.max(r, l), r = Math.min(r, l), n = Math.min(n, e.startDTS), o = Math.min(i, u), i = Math.max(i, u), a = Math.max(a, e.endDTS) } var d = r - e.start; 0 !== e.start && (e.start = r), e.duration = i - e.start, e.startPTS = r, e.maxStartPTS = s, e.startDTS = n, e.endPTS = i, e.minEndPTS = o, e.endDTS = a; var c, f = e.sn; if (!t || f < t.startSN || f > t.endSN) return 0; var g = f - t.startSN, v = t.fragments; for (v[g] = e, c = g; c > 0; c--)ur(v[c], v[c - 1]); for (c = g; c < v.length - 1; c++)ur(v[c], v[c + 1]); return t.fragmentHint && ur(v[v.length - 1], t.fragmentHint), t.PTSKnown = t.alignedSliding = !0, d } function dr(t, e) { for (var r = null, i = t.fragments, n = i.length - 1; n >= 0; n--) { var a = i[n].initSegment; if (a) { r = a; break } } t.fragmentHint && delete t.fragmentHint.endPTS; var s, l, u, h, d, c = 0; if (function (t, e, r) { for (var i = e.skippedSegments, n = Math.max(t.startSN, e.startSN) - e.startSN, a = (t.fragmentHint ? 1 : 0) + (i ? e.endSN : Math.min(t.endSN, e.endSN)) - e.startSN, s = e.startSN - t.startSN, o = e.fragmentHint ? e.fragments.concat(e.fragmentHint) : e.fragments, l = t.fragmentHint ? t.fragments.concat(t.fragmentHint) : t.fragments, u = n; u <= a; u++) { var h = l[s + u], d = o[u]; i && !d && u < i && (d = e.fragments[u] = h), h && d && r(h, d) } }(t, e, (function (t, i) { t.relurl && (c = t.cc - i.cc), y(t.startPTS) && y(t.endPTS) && (i.start = i.startPTS = t.startPTS, i.startDTS = t.startDTS, i.maxStartPTS = t.maxStartPTS, i.endPTS = t.endPTS, i.endDTS = t.endDTS, i.minEndPTS = t.minEndPTS, i.duration = t.endPTS - t.startPTS, i.duration && (s = i), e.PTSKnown = e.alignedSliding = !0), i.elementaryStreams = t.elementaryStreams, i.loader = t.loader, i.stats = t.stats, t.initSegment && (i.initSegment = t.initSegment, r = t.initSegment) })), r && (e.fragmentHint ? e.fragments.concat(e.fragmentHint) : e.fragments).forEach((function (t) { var e; !t || t.initSegment && t.initSegment.relurl !== (null == (e = r) ? void 0 : e.relurl) || (t.initSegment = r) })), e.skippedSegments) if (e.deltaUpdateFailed = e.fragments.some((function (t) { return !t })), e.deltaUpdateFailed) { w.warn("[level-helper] Previous playlist missing segments skipped in delta playlist"); for (var f = e.skippedSegments; f--;)e.fragments.shift(); e.startSN = e.fragments[0].sn, e.startCC = e.fragments[0].cc } else e.canSkipDateRanges && (e.dateRanges = (l = t.dateRanges, u = e.dateRanges, h = e.recentlyRemovedDateranges, d = o({}, l), h && h.forEach((function (t) { delete d[t] })), Object.keys(u).forEach((function (t) { var e = new F(u[t].attr, d[t]); e.isValid ? d[t] = e : w.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "' + JSON.stringify(u[t].attr) + '"') })), d)); var g = e.fragments; if (c) { w.warn("discontinuity sliding from playlist, take drift into account"); for (var v = 0; v < g.length; v++)g[v].cc += c } e.skippedSegments && (e.startCC = e.fragments[0].cc), function (t, e, r) { if (t && e) for (var i = 0, n = 0, a = t.length; n <= a; n++) { var s = t[n], o = e[n + i]; s && o && s.index === o.index && s.fragment.sn === o.fragment.sn ? r(s, o) : i-- } }(t.partList, e.partList, (function (t, e) { e.elementaryStreams = t.elementaryStreams, e.stats = t.stats })), s ? hr(e, s, s.startPTS, s.endPTS, s.startDTS, s.endDTS) : cr(t, e), g.length && (e.totalduration = e.edge - g[0].start), e.driftStartTime = t.driftStartTime, e.driftStart = t.driftStart; var m = e.advancedDateTime; if (e.advanced && m) { var p = e.edge; e.driftStart || (e.driftStartTime = m, e.driftStart = p), e.driftEndTime = m, e.driftEnd = p } else e.driftEndTime = t.driftEndTime, e.driftEnd = t.driftEnd, e.advancedDateTime = t.advancedDateTime } function cr(t, e) { var r = e.startSN + e.skippedSegments - t.startSN, i = t.fragments; r < 0 || r >= i.length || fr(e, i[r].start) } function fr(t, e) { if (e) { for (var r = t.fragments, i = t.skippedSegments; i < r.length; i++)r[i].start += e; t.fragmentHint && (t.fragmentHint.start += e) } } function gr(t, e, r) { var i; return null != t && t.details ? vr(null == (i = t.details) ? void 0 : i.partList, e, r) : null } function vr(t, e, r) { if (t) for (var i = t.length; i--;) { var n = t[i]; if (n.index === r && n.fragment.sn === e) return n } return null } function mr(t) { t.forEach((function (t, e) { var r = t.details; null != r && r.fragments && r.fragments.forEach((function (t) { t.level = e })) })) } function pr(t) { switch (t.details) { case A.FRAG_LOAD_TIMEOUT: case A.KEY_LOAD_TIMEOUT: case A.LEVEL_LOAD_TIMEOUT: case A.MANIFEST_LOAD_TIMEOUT: return !0 }return !1 } function yr(t, e) { var r = pr(e); return t.default[(r ? "timeout" : "error") + "Retry"] } function Er(t, e) { var r = "linear" === t.backoff ? 1 : Math.pow(2, e); return Math.min(r * t.retryDelayMs, t.maxRetryDelayMs) } function Tr(t) { return i(i({}, t), { errorRetry: null, timeoutRetry: null }) } function Sr(t, e, r, i) { if (!t) return !1; var n = null == i ? void 0 : i.code, a = e < t.maxNumRetry && (function (t) { return 0 === t && !1 === navigator.onLine || !!t && (t < 400 || t > 499) }(n) || !!r); return t.shouldRetry ? t.shouldRetry(t, e, r, i, a) : a } var Lr = function (t, e) { for (var r = 0, i = t.length - 1, n = null, a = null; r <= i;) { var s = e(a = t[n = (r + i) / 2 | 0]); if (s > 0) r = n + 1; else { if (!(s < 0)) return a; i = n - 1 } } return null }; function Ar(t, e, r, i, n) { void 0 === r && (r = 0), void 0 === i && (i = 0), void 0 === n && (n = .005); var a = null; if (t) { a = e[t.sn - e[0].sn + 1] || null; var s = t.endDTS - r; s > 0 && s < 15e-7 && (r += 15e-7) } else 0 === r && 0 === e[0].start && (a = e[0]); if (a && ((!t || t.level === a.level) && 0 === Rr(r, i, a) || function (t, e, r) { if (e && 0 === e.start && e.level < t.level && (e.endPTS || 0) > 0) { var i = e.tagList.reduce((function (t, e) { return "INF" === e[0] && (t += parseFloat(e[1])), t }), r); return t.start <= i } return !1 }(a, t, Math.min(n, i)))) return a; var o = Lr(e, Rr.bind(null, r, i)); return !o || o === t && a ? a : o } function Rr(t, e, r) { if (void 0 === t && (t = 0), void 0 === e && (e = 0), r.start <= t && r.start + r.duration > t) return 0; var i = Math.min(e, r.duration + (r.deltaPTS ? r.deltaPTS : 0)); return r.start + r.duration - i <= t ? 1 : r.start - i > t && r.start ? -1 : 0 } function br(t, e, r) { var i = 1e3 * Math.min(e, r.duration + (r.deltaPTS ? r.deltaPTS : 0)); return (r.endProgramDateTime || 0) - i > t } var kr = 0, Dr = 2, Ir = 3, wr = 5, Cr = 0, _r = 1, xr = 2, Pr = function () { function t(t) { this.hls = void 0, this.playlistError = 0, this.penalizedRenditions = {}, this.log = void 0, this.warn = void 0, this.error = void 0, this.hls = t, this.log = w.log.bind(w, "[info]:"), this.warn = w.warn.bind(w, "[warning]:"), this.error = w.error.bind(w, "[error]:"), this.registerListeners() } var e = t.prototype; return e.registerListeners = function () { var t = this.hls; t.on(S.ERROR, this.onError, this), t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.LEVEL_UPDATED, this.onLevelUpdated, this) }, e.unregisterListeners = function () { var t = this.hls; t && (t.off(S.ERROR, this.onError, this), t.off(S.ERROR, this.onErrorOut, this), t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.LEVEL_UPDATED, this.onLevelUpdated, this)) }, e.destroy = function () { this.unregisterListeners(), this.hls = null, this.penalizedRenditions = {} }, e.startLoad = function (t) { }, e.stopLoad = function () { this.playlistError = 0 }, e.getVariantLevelIndex = function (t) { return (null == t ? void 0 : t.type) === Fe ? t.level : this.hls.loadLevel }, e.onManifestLoading = function () { this.playlistError = 0, this.penalizedRenditions = {} }, e.onLevelUpdated = function () { this.playlistError = 0 }, e.onError = function (t, e) { var r, i; if (!e.fatal) { var n = this.hls, a = e.context; switch (e.details) { case A.FRAG_LOAD_ERROR: case A.FRAG_LOAD_TIMEOUT: case A.KEY_LOAD_ERROR: case A.KEY_LOAD_TIMEOUT: return void (e.errorAction = this.getFragRetryOrSwitchAction(e)); case A.FRAG_PARSING_ERROR: if (null != (r = e.frag) && r.gap) return void (e.errorAction = { action: kr, flags: Cr }); case A.FRAG_GAP: case A.FRAG_DECRYPT_ERROR: return e.errorAction = this.getFragRetryOrSwitchAction(e), void (e.errorAction.action = Dr); case A.LEVEL_EMPTY_ERROR: case A.LEVEL_PARSING_ERROR: var s, o, l = e.parent === Fe ? e.level : n.loadLevel; return void (e.details === A.LEVEL_EMPTY_ERROR && null != (s = e.context) && null != (o = s.levelDetails) && o.live ? e.errorAction = this.getPlaylistRetryOrSwitchAction(e, l) : (e.levelRetry = !1, e.errorAction = this.getLevelSwitchAction(e, l))); case A.LEVEL_LOAD_ERROR: case A.LEVEL_LOAD_TIMEOUT: return void ("number" == typeof (null == a ? void 0 : a.level) && (e.errorAction = this.getPlaylistRetryOrSwitchAction(e, a.level))); case A.AUDIO_TRACK_LOAD_ERROR: case A.AUDIO_TRACK_LOAD_TIMEOUT: case A.SUBTITLE_LOAD_ERROR: case A.SUBTITLE_TRACK_LOAD_TIMEOUT: if (a) { var u = n.levels[n.loadLevel]; if (u && (a.type === xe && u.hasAudioGroup(a.groupId) || a.type === Pe && u.hasSubtitleGroup(a.groupId))) return e.errorAction = this.getPlaylistRetryOrSwitchAction(e, n.loadLevel), e.errorAction.action = Dr, void (e.errorAction.flags = _r) } return; case A.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED: var h = n.levels[n.loadLevel], d = null == h ? void 0 : h.attrs["HDCP-LEVEL"]; return void (d ? e.errorAction = { action: Dr, flags: xr, hdcpLevel: d } : this.keySystemError(e)); case A.BUFFER_ADD_CODEC_ERROR: case A.REMUX_ALLOC_ERROR: case A.BUFFER_APPEND_ERROR: return void (e.errorAction = this.getLevelSwitchAction(e, null != (i = e.level) ? i : n.loadLevel)); case A.INTERNAL_EXCEPTION: case A.BUFFER_APPENDING_ERROR: case A.BUFFER_FULL_ERROR: case A.LEVEL_SWITCH_ERROR: case A.BUFFER_STALLED_ERROR: case A.BUFFER_SEEK_OVER_HOLE: case A.BUFFER_NUDGE_ON_STALL: return void (e.errorAction = { action: kr, flags: Cr }) }e.type === L.KEY_SYSTEM_ERROR && this.keySystemError(e) } }, e.keySystemError = function (t) { var e = this.getVariantLevelIndex(t.frag); t.levelRetry = !1, t.errorAction = this.getLevelSwitchAction(t, e) }, e.getPlaylistRetryOrSwitchAction = function (t, e) { var r = yr(this.hls.config.playlistLoadPolicy, t), i = this.playlistError++; if (Sr(r, i, pr(t), t.response)) return { action: wr, flags: Cr, retryConfig: r, retryCount: i }; var n = this.getLevelSwitchAction(t, e); return r && (n.retryConfig = r, n.retryCount = i), n }, e.getFragRetryOrSwitchAction = function (t) { var e = this.hls, r = this.getVariantLevelIndex(t.frag), i = e.levels[r], n = e.config, a = n.fragLoadPolicy, s = n.keyLoadPolicy, o = yr(t.details.startsWith("key") ? s : a, t), l = e.levels.reduce((function (t, e) { return t + e.fragmentError }), 0); if (i && (t.details !== A.FRAG_GAP && i.fragmentError++, Sr(o, l, pr(t), t.response))) return { action: wr, flags: Cr, retryConfig: o, retryCount: l }; var u = this.getLevelSwitchAction(t, r); return o && (u.retryConfig = o, u.retryCount = l), u }, e.getLevelSwitchAction = function (t, e) { var r = this.hls; null == e && (e = r.loadLevel); var i = this.hls.levels[e]; if (i) { var n, a, s = t.details; i.loadError++, s === A.BUFFER_APPEND_ERROR && i.fragmentError++; var o = -1, l = r.levels, u = r.loadLevel, h = r.minAutoLevel, d = r.maxAutoLevel; r.autoLevelEnabled || (r.loadLevel = -1); for (var c, f = null == (n = t.frag) ? void 0 : n.type, g = (f === Me && s === A.FRAG_PARSING_ERROR || "audio" === t.sourceBufferName && (s === A.BUFFER_ADD_CODEC_ERROR || s === A.BUFFER_APPEND_ERROR)) && l.some((function (t) { var e = t.audioCodec; return i.audioCodec !== e })), v = "video" === t.sourceBufferName && (s === A.BUFFER_ADD_CODEC_ERROR || s === A.BUFFER_APPEND_ERROR) && l.some((function (t) { var e = t.codecSet, r = t.audioCodec; return i.codecSet !== e && i.audioCodec === r })), m = null != (a = t.context) ? a : {}, p = m.type, y = m.groupId, E = function () { var e = (T + u) % l.length; if (e !== u && e >= h && e <= d && 0 === l[e].loadError) { var r, n, a = l[e]; if (s === A.FRAG_GAP && f === Fe && t.frag) { var c = l[e].details; if (c) { var m = Ar(t.frag, c.fragments, t.frag.start); if (null != m && m.gap) return 0 } } else { if (p === xe && a.hasAudioGroup(y) || p === Pe && a.hasSubtitleGroup(y)) return 0; if (f === Me && null != (r = i.audioGroups) && r.some((function (t) { return a.hasAudioGroup(t) })) || f === Oe && null != (n = i.subtitleGroups) && n.some((function (t) { return a.hasSubtitleGroup(t) })) || g && i.audioCodec === a.audioCodec || !g && i.audioCodec !== a.audioCodec || v && i.codecSet === a.codecSet) return 0 } return o = e, 1 } }, T = l.length; T-- && (0 === (c = E()) || 1 !== c);); if (o > -1 && r.loadLevel !== o) return t.levelRetry = !0, this.playlistError = 0, { action: Dr, flags: Cr, nextAutoLevel: o } } return { action: Dr, flags: _r } }, e.onErrorOut = function (t, e) { var r; switch (null == (r = e.errorAction) ? void 0 : r.action) { case kr: break; case Dr: this.sendAlternateToPenaltyBox(e), e.errorAction.resolved || e.details === A.FRAG_GAP ? /MediaSource readyState: ended/.test(e.error.message) && (this.warn('MediaSource ended after "' + e.sourceBufferName + '" sourceBuffer append error. Attempting to recover from media error.'), this.hls.recoverMediaError()) : e.fatal = !0 }e.fatal && this.hls.stopLoad() }, e.sendAlternateToPenaltyBox = function (t) { var e = this.hls, r = t.errorAction; if (r) { var i = r.flags, n = r.hdcpLevel, a = r.nextAutoLevel; switch (i) { case Cr: this.switchLevel(t, a); break; case xr: n && (e.maxHdcpLevel = tr[tr.indexOf(n) - 1], r.resolved = !0), this.warn('Restricting playback to HDCP-LEVEL of "' + e.maxHdcpLevel + '" or lower') }r.resolved || this.switchLevel(t, a) } }, e.switchLevel = function (t, e) { void 0 !== e && t.errorAction && (this.warn("switching to level " + e + " after " + t.details), this.hls.nextAutoLevel = e, t.errorAction.resolved = !0, this.hls.nextLoadLevel = this.hls.nextAutoLevel) }, t }(), Fr = function () { function t(t, e) { this.hls = void 0, this.timer = -1, this.requestScheduled = -1, this.canLoad = !1, this.log = void 0, this.warn = void 0, this.log = w.log.bind(w, e + ":"), this.warn = w.warn.bind(w, e + ":"), this.hls = t } var e = t.prototype; return e.destroy = function () { this.clearTimer(), this.hls = this.log = this.warn = null }, e.clearTimer = function () { -1 !== this.timer && (self.clearTimeout(this.timer), this.timer = -1) }, e.startLoad = function () { this.canLoad = !0, this.requestScheduled = -1, this.loadPlaylist() }, e.stopLoad = function () { this.canLoad = !1, this.clearTimer() }, e.switchParams = function (t, e, r) { var i = null == e ? void 0 : e.renditionReports; if (i) { for (var n = -1, a = 0; a < i.length; a++) { var s = i[a], o = void 0; try { o = new self.URL(s.URI, e.url).href } catch (t) { w.warn("Could not construct new URL for Rendition Report: " + t), o = s.URI || "" } if (o === t) { n = a; break } o === t.substring(0, o.length) && (n = a) } if (-1 !== n) { var l = i[n], u = parseInt(l["LAST-MSN"]) || (null == e ? void 0 : e.lastPartSn), h = parseInt(l["LAST-PART"]) || (null == e ? void 0 : e.lastPartIndex); if (this.hls.config.lowLatencyMode) { var d = Math.min(e.age - e.partTarget, e.targetduration); h >= 0 && d > e.partTarget && (h += 1) } var c = r && ar(r); return new sr(u, h >= 0 ? h : void 0, c) } } }, e.loadPlaylist = function (t) { -1 === this.requestScheduled && (this.requestScheduled = self.performance.now()) }, e.shouldLoadPlaylist = function (t) { return this.canLoad && !!t && !!t.url && (!t.details || t.details.live) }, e.shouldReloadPlaylist = function (t) { return -1 === this.timer && -1 === this.requestScheduled && this.shouldLoadPlaylist(t) }, e.playlistLoaded = function (t, e, r) { var i = this, n = e.details, a = e.stats, s = self.performance.now(), o = a.loading.first ? Math.max(0, s - a.loading.first) : 0; if (n.advancedDateTime = Date.now() - o, n.live || null != r && r.live) { if (n.reloaded(r), r && this.log("live playlist " + t + " " + (n.advanced ? "REFRESHED " + n.lastPartSn + "-" + n.lastPartIndex : n.updated ? "UPDATED" : "MISSED")), r && n.fragments.length > 0 && dr(r, n), !this.canLoad || !n.live) return; var l, u = void 0, h = void 0; if (n.canBlockReload && n.endSN && n.advanced) { var d = this.hls.config.lowLatencyMode, c = n.lastPartSn, f = n.endSN, g = n.lastPartIndex, v = c === f; -1 !== g ? (u = v ? f + 1 : c, h = v ? d ? 0 : g : g + 1) : u = f + 1; var m = n.age, p = m + n.ageHeader, y = Math.min(p - n.partTarget, 1.5 * n.targetduration); if (y > 0) { if (r && y > r.tuneInGoal) this.warn("CDN Tune-in goal increased from: " + r.tuneInGoal + " to: " + y + " with playlist age: " + n.age), y = 0; else { var E = Math.floor(y / n.targetduration); u += E, void 0 !== h && (h += Math.round(y % n.targetduration / n.partTarget)), this.log("CDN Tune-in age: " + n.ageHeader + "s last advanced " + m.toFixed(2) + "s goal: " + y + " skip sn " + E + " to part " + h) } n.tuneInGoal = y } if (l = this.getDeliveryDirectives(n, e.deliveryDirectives, u, h), d || !v) return void this.loadPlaylist(l) } else (n.canBlockReload || n.canSkipUntil) && (l = this.getDeliveryDirectives(n, e.deliveryDirectives, u, h)); var T = this.hls.mainForwardBufferInfo, S = T ? T.end - T.len : 0, L = function (t, e) { void 0 === e && (e = 1 / 0); var r = 1e3 * t.targetduration; if (t.updated) { var i = t.fragments; if (i.length && 4 * r > e) { var n = 1e3 * i[i.length - 1].duration; n < r && (r = n) } } else r /= 2; return Math.round(r) }(n, 1e3 * (n.edge - S)); n.updated && s > this.requestScheduled + L && (this.requestScheduled = a.loading.start), void 0 !== u && n.canBlockReload ? this.requestScheduled = a.loading.first + L - (1e3 * n.partTarget || 1e3) : -1 === this.requestScheduled || this.requestScheduled + L < s ? this.requestScheduled = s : this.requestScheduled - s <= 0 && (this.requestScheduled += L); var A = this.requestScheduled - s; A = Math.max(0, A), this.log("reload live playlist " + t + " in " + Math.round(A) + " ms"), this.timer = self.setTimeout((function () { return i.loadPlaylist(l) }), A) } else this.clearTimer() }, e.getDeliveryDirectives = function (t, e, r, i) { var n = ar(t); return null != e && e.skip && t.deltaUpdateFailed && (r = e.msn, i = e.part, n = rr), new sr(r, i, n) }, e.checkRetry = function (t) { var e = this, r = t.details, i = pr(t), n = t.errorAction, a = n || {}, s = a.action, o = a.retryCount, l = void 0 === o ? 0 : o, u = a.retryConfig, h = !!n && !!u && (s === wr || !n.resolved && s === Dr); if (h) { var d; if (this.requestScheduled = -1, l >= u.maxNumRetry) return !1; if (i && null != (d = t.context) && d.deliveryDirectives) this.warn("Retrying playlist loading " + (l + 1) + "/" + u.maxNumRetry + ' after "' + r + '" without delivery-directives'), this.loadPlaylist(); else { var c = Er(u, l); this.timer = self.setTimeout((function () { return e.loadPlaylist() }), c), this.warn("Retrying playlist loading " + (l + 1) + "/" + u.maxNumRetry + ' after "' + r + '" in ' + c + "ms") } t.levelRetry = !0, n.resolved = !0 } return h }, t }(), Mr = function () { function t(t, e, r) { void 0 === e && (e = 0), void 0 === r && (r = 0), this.halfLife = void 0, this.alpha_ = void 0, this.estimate_ = void 0, this.totalWeight_ = void 0, this.halfLife = t, this.alpha_ = t ? Math.exp(Math.log(.5) / t) : 0, this.estimate_ = e, this.totalWeight_ = r } var e = t.prototype; return e.sample = function (t, e) { var r = Math.pow(this.alpha_, t); this.estimate_ = e * (1 - r) + r * this.estimate_, this.totalWeight_ += t }, e.getTotalWeight = function () { return this.totalWeight_ }, e.getEstimate = function () { if (this.alpha_) { var t = 1 - Math.pow(this.alpha_, this.totalWeight_); if (t) return this.estimate_ / t } return this.estimate_ }, t }(), Or = function () { function t(t, e, r, i) { void 0 === i && (i = 100), this.defaultEstimate_ = void 0, this.minWeight_ = void 0, this.minDelayMs_ = void 0, this.slow_ = void 0, this.fast_ = void 0, this.defaultTTFB_ = void 0, this.ttfb_ = void 0, this.defaultEstimate_ = r, this.minWeight_ = .001, this.minDelayMs_ = 50, this.slow_ = new Mr(t), this.fast_ = new Mr(e), this.defaultTTFB_ = i, this.ttfb_ = new Mr(t) } var e = t.prototype; return e.update = function (t, e) { var r = this.slow_, i = this.fast_, n = this.ttfb_; r.halfLife !== t && (this.slow_ = new Mr(t, r.getEstimate(), r.getTotalWeight())), i.halfLife !== e && (this.fast_ = new Mr(e, i.getEstimate(), i.getTotalWeight())), n.halfLife !== t && (this.ttfb_ = new Mr(t, n.getEstimate(), n.getTotalWeight())) }, e.sample = function (t, e) { var r = (t = Math.max(t, this.minDelayMs_)) / 1e3, i = 8 * e / r; this.fast_.sample(r, i), this.slow_.sample(r, i) }, e.sampleTTFB = function (t) { var e = t / 1e3, r = Math.sqrt(2) * Math.exp(-Math.pow(e, 2) / 2); this.ttfb_.sample(r, Math.max(t, 5)) }, e.canEstimate = function () { return this.fast_.getTotalWeight() >= this.minWeight_ }, e.getEstimate = function () { return this.canEstimate() ? Math.min(this.fast_.getEstimate(), this.slow_.getEstimate()) : this.defaultEstimate_ }, e.getEstimateTTFB = function () { return this.ttfb_.getTotalWeight() >= this.minWeight_ ? this.ttfb_.getEstimate() : this.defaultTTFB_ }, e.destroy = function () { }, t }(), Nr = { supported: !0, configurations: [], decodingInfoResults: [{ supported: !0, powerEfficient: !0, smooth: !0 }] }, Ur = {}; function Br(t, e, r) { var n = t.videoCodec, a = t.audioCodec; if (!n || !a || !r) return Promise.resolve(Nr); var s = { width: t.width, height: t.height, bitrate: Math.ceil(Math.max(.9 * t.bitrate, t.averageBitrate)), framerate: t.frameRate || 30 }, o = t.videoRange; "SDR" !== o && (s.transferFunction = o.toLowerCase()); var l = n.split(",").map((function (t) { return { type: "media-source", video: i(i({}, s), {}, { contentType: he(t, "video") }) } })); return a && t.audioGroups && t.audioGroups.forEach((function (t) { var r; t && (null == (r = e.groups[t]) || r.tracks.forEach((function (e) { if (e.groupId === t) { var r = e.channels || "", i = parseFloat(r); y(i) && i > 2 && l.push.apply(l, a.split(",").map((function (t) { return { type: "media-source", audio: { contentType: he(t, "audio"), channels: "" + i } } }))) } }))) })), Promise.all(l.map((function (t) { var e = function (t) { var e = t.audio, r = t.video, i = r || e; if (i) { var n = i.contentType.split('"')[1]; if (r) return "r" + r.height + "x" + r.width + "f" + Math.ceil(r.framerate) + (r.transferFunction || "sd") + "_" + n + "_" + Math.ceil(r.bitrate / 1e5); if (e) return "c" + e.channels + (e.spatialRendering ? "s" : "n") + "_" + n } return "" }(t); return Ur[e] || (Ur[e] = r.decodingInfo(t)) }))).then((function (t) { return { supported: !t.some((function (t) { return !t.supported })), configurations: l, decodingInfoResults: t } })).catch((function (t) { return { supported: !1, configurations: l, decodingInfoResults: [], error: t } })) } function Gr(t, e) { var r = !1, i = []; return t && (r = "SDR" !== t, i = [t]), e && (i = e.allowedVideoRanges || er.slice(0), i = (r = void 0 !== e.preferHDR ? e.preferHDR : function () { if ("function" == typeof matchMedia) { var t = matchMedia("(dynamic-range: high)"), e = matchMedia("bad query"); if (t.media !== e.media) return !0 === t.matches } return !1 }()) ? i.filter((function (t) { return "SDR" !== t })) : ["SDR"]), { preferHDR: r, allowedVideoRanges: i } } function Kr(t, e) { w.log('[abr] start candidates with "' + t + '" ignored because ' + e) } function Hr(t, e, r) { if ("attrs" in t) { var i = e.indexOf(t); if (-1 !== i) return i } for (var n = 0; n < e.length; n++)if (Vr(t, e[n], r)) return n; return -1 } function Vr(t, e, r) { var i = t.groupId, n = t.name, a = t.lang, s = t.assocLang, o = t.characteristics, l = t.default, u = t.forced; return (void 0 === i || e.groupId === i) && (void 0 === n || e.name === n) && (void 0 === a || e.lang === a) && (void 0 === a || e.assocLang === s) && (void 0 === l || e.default === l) && (void 0 === u || e.forced === u) && (void 0 === o || function (t, e) { void 0 === e && (e = ""); var r = t.split(","), i = e.split(","); return r.length === i.length && !r.some((function (t) { return -1 === i.indexOf(t) })) }(o, e.characteristics)) && (void 0 === r || r(t, e)) } function Yr(t, e) { var r = t.audioCodec, i = t.channels; return !(void 0 !== r && (e.audioCodec || "").substring(0, 4) !== r.substring(0, 4) || void 0 !== i && i !== (e.channels || "2")) } function Wr(t, e, r) { for (var i = e; i > -1; i--)if (r(t[i])) return i; for (var n = e + 1; n < t.length; n++)if (r(t[n])) return n; return -1 } var jr = function () { function t(t) { var e = this; this.hls = void 0, this.lastLevelLoadSec = 0, this.lastLoadedFragLevel = -1, this.firstSelection = -1, this._nextAutoLevel = -1, this.nextAutoLevelKey = "", this.audioTracksByGroup = null, this.codecTiers = null, this.timer = -1, this.fragCurrent = null, this.partCurrent = null, this.bitrateTestDelay = 0, this.bwEstimator = void 0, this._abandonRulesCheck = function () { var t = e.fragCurrent, r = e.partCurrent, i = e.hls, n = i.autoLevelEnabled, a = i.media; if (t && a) { var s = performance.now(), o = r ? r.stats : t.stats, l = r ? r.duration : t.duration, u = s - o.loading.start, h = i.minAutoLevel; if (o.aborted || o.loaded && o.loaded === o.total || t.level <= h) return e.clearTimer(), void (e._nextAutoLevel = -1); if (n && !a.paused && a.playbackRate && a.readyState) { var d = i.mainForwardBufferInfo; if (null !== d) { var c = e.bwEstimator.getEstimateTTFB(), f = Math.abs(a.playbackRate); if (!(u <= Math.max(c, l / (2 * f) * 1e3))) { var g = d.len / f, v = o.loading.first ? o.loading.first - o.loading.start : -1, m = o.loaded && v > -1, p = e.getBwEstimate(), E = i.levels, T = E[t.level], L = o.total || Math.max(o.loaded, Math.round(l * T.averageBitrate / 8)), A = m ? u - v : u; A < 1 && m && (A = Math.min(u, 8 * o.loaded / p)); var R = m ? 1e3 * o.loaded / A : 0, b = R ? (L - o.loaded) / R : 8 * L / p + c / 1e3; if (!(b <= g)) { var k, D = R ? 8 * R : p, I = Number.POSITIVE_INFINITY; for (k = t.level - 1; k > h; k--) { var C = E[k].maxBitrate; if ((I = e.getTimeToLoadFrag(c / 1e3, D, l * C, !E[k].details)) < g) break } if (!(I >= b || I > 10 * l)) { i.nextLoadLevel = i.nextAutoLevel = k, m ? e.bwEstimator.sample(u - Math.min(c, v), o.loaded) : e.bwEstimator.sampleTTFB(u); var _ = E[k].maxBitrate; e.getBwEstimate() * e.hls.config.abrBandWidthUpFactor > _ && e.resetEstimator(_), e.clearTimer(), w.warn("[abr] Fragment " + t.sn + (r ? " part " + r.index : "") + " of level " + t.level + " is loading too slowly;\n      Time to underbuffer: " + g.toFixed(3) + " s\n      Estimated load time for current fragment: " + b.toFixed(3) + " s\n      Estimated load time for down switch fragment: " + I.toFixed(3) + " s\n      TTFB estimate: " + (0 | v) + " ms\n      Current BW estimate: " + (y(p) ? 0 | p : "Unknown") + " bps\n      New BW estimate: " + (0 | e.getBwEstimate()) + " bps\n      Switching to level " + k + " @ " + (0 | _) + " bps"), i.trigger(S.FRAG_LOAD_EMERGENCY_ABORTED, { frag: t, part: r, stats: o }) } } } } } } }, this.hls = t, this.bwEstimator = this.initEstimator(), this.registerListeners() } var e = t.prototype; return e.resetEstimator = function (t) { t && (w.log("setting initial bwe to " + t), this.hls.config.abrEwmaDefaultEstimate = t), this.firstSelection = -1, this.bwEstimator = this.initEstimator() }, e.initEstimator = function () { var t = this.hls.config; return new Or(t.abrEwmaSlowVoD, t.abrEwmaFastVoD, t.abrEwmaDefaultEstimate) }, e.registerListeners = function () { var t = this.hls; t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.FRAG_LOADING, this.onFragLoading, this), t.on(S.FRAG_LOADED, this.onFragLoaded, this), t.on(S.FRAG_BUFFERED, this.onFragBuffered, this), t.on(S.LEVEL_SWITCHING, this.onLevelSwitching, this), t.on(S.LEVEL_LOADED, this.onLevelLoaded, this), t.on(S.LEVELS_UPDATED, this.onLevelsUpdated, this), t.on(S.MAX_AUTO_LEVEL_UPDATED, this.onMaxAutoLevelUpdated, this), t.on(S.ERROR, this.onError, this) }, e.unregisterListeners = function () { var t = this.hls; t && (t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.FRAG_LOADING, this.onFragLoading, this), t.off(S.FRAG_LOADED, this.onFragLoaded, this), t.off(S.FRAG_BUFFERED, this.onFragBuffered, this), t.off(S.LEVEL_SWITCHING, this.onLevelSwitching, this), t.off(S.LEVEL_LOADED, this.onLevelLoaded, this), t.off(S.LEVELS_UPDATED, this.onLevelsUpdated, this), t.off(S.MAX_AUTO_LEVEL_UPDATED, this.onMaxAutoLevelUpdated, this), t.off(S.ERROR, this.onError, this)) }, e.destroy = function () { this.unregisterListeners(), this.clearTimer(), this.hls = this._abandonRulesCheck = null, this.fragCurrent = this.partCurrent = null }, e.onManifestLoading = function (t, e) { this.lastLoadedFragLevel = -1, this.firstSelection = -1, this.lastLevelLoadSec = 0, this.fragCurrent = this.partCurrent = null, this.onLevelsUpdated(), this.clearTimer() }, e.onLevelsUpdated = function () { this.lastLoadedFragLevel > -1 && this.fragCurrent && (this.lastLoadedFragLevel = this.fragCurrent.level), this._nextAutoLevel = -1, this.onMaxAutoLevelUpdated(), this.codecTiers = null, this.audioTracksByGroup = null }, e.onMaxAutoLevelUpdated = function () { this.firstSelection = -1, this.nextAutoLevelKey = "" }, e.onFragLoading = function (t, e) { var r, i = e.frag; this.ignoreFragment(i) || (i.bitrateTest || (this.fragCurrent = i, this.partCurrent = null != (r = e.part) ? r : null), this.clearTimer(), this.timer = self.setInterval(this._abandonRulesCheck, 100)) }, e.onLevelSwitching = function (t, e) { this.clearTimer() }, e.onError = function (t, e) { if (!e.fatal) switch (e.details) { case A.BUFFER_ADD_CODEC_ERROR: case A.BUFFER_APPEND_ERROR: this.lastLoadedFragLevel = -1, this.firstSelection = -1; break; case A.FRAG_LOAD_TIMEOUT: var r = e.frag, i = this.fragCurrent, n = this.partCurrent; if (r && i && r.sn === i.sn && r.level === i.level) { var a = performance.now(), s = n ? n.stats : r.stats, o = a - s.loading.start, l = s.loading.first ? s.loading.first - s.loading.start : -1; if (s.loaded && l > -1) { var u = this.bwEstimator.getEstimateTTFB(); this.bwEstimator.sample(o - Math.min(u, l), s.loaded) } else this.bwEstimator.sampleTTFB(o) } } }, e.getTimeToLoadFrag = function (t, e, r, i) { return t + r / e + (i ? this.lastLevelLoadSec : 0) }, e.onLevelLoaded = function (t, e) { var r = this.hls.config, i = e.stats.loading, n = i.end - i.start; y(n) && (this.lastLevelLoadSec = n / 1e3), e.details.live ? this.bwEstimator.update(r.abrEwmaSlowLive, r.abrEwmaFastLive) : this.bwEstimator.update(r.abrEwmaSlowVoD, r.abrEwmaFastVoD) }, e.onFragLoaded = function (t, e) { var r = e.frag, i = e.part, n = i ? i.stats : r.stats; if (r.type === Fe && this.bwEstimator.sampleTTFB(n.loading.first - n.loading.start), !this.ignoreFragment(r)) { if (this.clearTimer(), r.level === this._nextAutoLevel && (this._nextAutoLevel = -1), this.firstSelection = -1, this.hls.config.abrMaxWithRealBitrate) { var a = i ? i.duration : r.duration, s = this.hls.levels[r.level], o = (s.loaded ? s.loaded.bytes : 0) + n.loaded, l = (s.loaded ? s.loaded.duration : 0) + a; s.loaded = { bytes: o, duration: l }, s.realBitrate = Math.round(8 * o / l) } if (r.bitrateTest) { var u = { stats: n, frag: r, part: i, id: r.type }; this.onFragBuffered(S.FRAG_BUFFERED, u), r.bitrateTest = !1 } else this.lastLoadedFragLevel = r.level } }, e.onFragBuffered = function (t, e) { var r = e.frag, i = e.part, n = null != i && i.stats.loaded ? i.stats : r.stats; if (!n.aborted && !this.ignoreFragment(r)) { var a = n.parsing.end - n.loading.start - Math.min(n.loading.first - n.loading.start, this.bwEstimator.getEstimateTTFB()); this.bwEstimator.sample(a, n.loaded), n.bwEstimate = this.getBwEstimate(), r.bitrateTest ? this.bitrateTestDelay = a / 1e3 : this.bitrateTestDelay = 0 } }, e.ignoreFragment = function (t) { return t.type !== Fe || "initSegment" === t.sn }, e.clearTimer = function () { this.timer > -1 && (self.clearInterval(this.timer), this.timer = -1) }, e.getAutoLevelKey = function () { return this.getBwEstimate() + "_" + this.getStarvationDelay().toFixed(2) }, e.getNextABRAutoLevel = function () { var t = this.fragCurrent, e = this.partCurrent, r = this.hls, i = r.maxAutoLevel, n = r.config, a = r.minAutoLevel, s = e ? e.duration : t ? t.duration : 0, o = this.getBwEstimate(), l = this.getStarvationDelay(), u = n.abrBandWidthFactor, h = n.abrBandWidthUpFactor; if (l) { var d = this.findBestLevel(o, a, i, l, 0, u, h); if (d >= 0) return d } var c = s ? Math.min(s, n.maxStarvationDelay) : n.maxStarvationDelay; if (!l) { var f = this.bitrateTestDelay; f && (c = (s ? Math.min(s, n.maxLoadingDelay) : n.maxLoadingDelay) - f, w.info("[abr] bitrate test took " + Math.round(1e3 * f) + "ms, set first fragment max fetchDuration to " + Math.round(1e3 * c) + " ms"), u = h = 1) } var g = this.findBestLevel(o, a, i, l, c, u, h); if (w.info("[abr] " + (l ? "rebuffering expected" : "buffer is empty") + ", optimal quality level " + g), g > -1) return g; var v = r.levels[a], m = r.levels[r.loadLevel]; return (null == v ? void 0 : v.bitrate) < (null == m ? void 0 : m.bitrate) ? a : r.loadLevel }, e.getStarvationDelay = function () { var t = this.hls, e = t.media; if (!e) return 1 / 0; var r = e && 0 !== e.playbackRate ? Math.abs(e.playbackRate) : 1, i = t.mainForwardBufferInfo; return (i ? i.len : 0) / r }, e.getBwEstimate = function () { return this.bwEstimator.canEstimate() ? this.bwEstimator.getEstimate() : this.hls.config.abrEwmaDefaultEstimate }, e.findBestLevel = function (t, e, r, i, n, a, s) { var o, l = this, u = i + n, h = this.lastLoadedFragLevel, d = -1 === h ? this.hls.firstLevel : h, c = this.fragCurrent, f = this.partCurrent, g = this.hls, v = g.levels, m = g.allAudioTracks, p = g.loadLevel, E = g.config; if (1 === v.length) return 0; var T, S = v[d], L = !(null == S || null == (o = S.details) || !o.live), A = -1 === p || -1 === h, R = "SDR", b = (null == S ? void 0 : S.frameRate) || 0, k = E.audioPreference, D = E.videoPreference, I = this.audioTracksByGroup || (this.audioTracksByGroup = function (t) { return t.reduce((function (t, e) { var r = t.groups[e.groupId]; r || (r = t.groups[e.groupId] = { tracks: [], channels: { 2: 0 }, hasDefault: !1, hasAutoSelect: !1 }), r.tracks.push(e); var i = e.channels || "2"; return r.channels[i] = (r.channels[i] || 0) + 1, r.hasDefault = r.hasDefault || e.default, r.hasAutoSelect = r.hasAutoSelect || e.autoselect, r.hasDefault && (t.hasDefaultAudio = !0), r.hasAutoSelect && (t.hasAutoSelectAudio = !0), t }), { hasDefaultAudio: !1, hasAutoSelectAudio: !1, groups: {} }) }(m)); if (A) { if (-1 !== this.firstSelection) return this.firstSelection; var C = this.codecTiers || (this.codecTiers = function (t, e, r, i) { return t.slice(r, i + 1).reduce((function (t, r) { if (!r.codecSet) return t; var i = r.audioGroups, n = t[r.codecSet]; n || (t[r.codecSet] = n = { minBitrate: 1 / 0, minHeight: 1 / 0, minFramerate: 1 / 0, maxScore: 0, videoRanges: { SDR: 0 }, channels: { 2: 0 }, hasDefaultAudio: !i, fragmentError: 0 }), n.minBitrate = Math.min(n.minBitrate, r.bitrate); var a = Math.min(r.height, r.width); return n.minHeight = Math.min(n.minHeight, a), n.minFramerate = Math.min(n.minFramerate, r.frameRate), n.maxScore = Math.max(n.maxScore, r.score), n.fragmentError += r.fragmentError, n.videoRanges[r.videoRange] = (n.videoRanges[r.videoRange] || 0) + 1, i && i.forEach((function (t) { if (t) { var r = e.groups[t]; r && (n.hasDefaultAudio = n.hasDefaultAudio || e.hasDefaultAudio ? r.hasDefault : r.hasAutoSelect || !e.hasDefaultAudio && !e.hasAutoSelectAudio, Object.keys(r.channels).forEach((function (t) { n.channels[t] = (n.channels[t] || 0) + r.channels[t] }))) } })), t }), {}) }(v, I, e, r)), _ = function (t, e, r, i, n) { for (var a = Object.keys(t), s = null == i ? void 0 : i.channels, o = null == i ? void 0 : i.audioCodec, l = s && 2 === parseInt(s), u = !0, h = !1, d = 1 / 0, c = 1 / 0, f = 1 / 0, g = 0, v = [], m = Gr(e, n), p = m.preferHDR, E = m.allowedVideoRanges, T = function () { var e = t[a[S]]; u = e.channels[2] > 0, d = Math.min(d, e.minHeight), c = Math.min(c, e.minFramerate), f = Math.min(f, e.minBitrate); var r = E.filter((function (t) { return e.videoRanges[t] > 0 })); r.length > 0 && (h = !0, v = r) }, S = a.length; S--;)T(); d = y(d) ? d : 0, c = y(c) ? c : 0; var L = Math.max(1080, d), A = Math.max(30, c); return f = y(f) ? f : r, r = Math.max(f, r), h || (e = void 0, v = []), { codecSet: a.reduce((function (e, i) { var n = t[i]; if (i === e) return e; if (n.minBitrate > r) return Kr(i, "min bitrate of " + n.minBitrate + " > current estimate of " + r), e; if (!n.hasDefaultAudio) return Kr(i, "no renditions with default or auto-select sound found"), e; if (o && i.indexOf(o.substring(0, 4)) % 5 != 0) return Kr(i, 'audio codec preference "' + o + '" not found'), e; if (s && !l) { if (!n.channels[s]) return Kr(i, "no renditions with " + s + " channel sound found (channels options: " + Object.keys(n.channels) + ")"), e } else if ((!o || l) && u && 0 === n.channels[2]) return Kr(i, "no renditions with stereo sound found"), e; return n.minHeight > L ? (Kr(i, "min resolution of " + n.minHeight + " > maximum of " + L), e) : n.minFramerate > A ? (Kr(i, "min framerate of " + n.minFramerate + " > maximum of " + A), e) : v.some((function (t) { return n.videoRanges[t] > 0 })) ? n.maxScore < g ? (Kr(i, "max score of " + n.maxScore + " < selected max of " + g), e) : e && (ce(i) >= ce(e) || n.fragmentError > t[e].fragmentError) ? e : (g = n.maxScore, i) : (Kr(i, "no variants with VIDEO-RANGE of " + JSON.stringify(v) + " found"), e) }), void 0), videoRanges: v, preferHDR: p, minFramerate: c, minBitrate: f } }(C, R, t, k, D), x = _.codecSet, P = _.videoRanges, F = _.minFramerate, M = _.minBitrate, O = _.preferHDR; T = x, R = O ? P[P.length - 1] : P[0], b = F, t = Math.max(t, M), w.log("[abr] picked start tier " + JSON.stringify(_)) } else T = null == S ? void 0 : S.codecSet, R = null == S ? void 0 : S.videoRange; for (var N, U = f ? f.duration : c ? c.duration : 0, B = this.bwEstimator.getEstimateTTFB() / 1e3, G = [], K = function () { var e, o = v[H], c = H > d; if (!o) return 0; if (E.useMediaCapabilities && !o.supportedResult && !o.supportedPromise) { var g = navigator.mediaCapabilities; "function" == typeof (null == g ? void 0 : g.decodingInfo) && function (t, e, r, i, n, a) { var s = t.audioCodec ? t.audioGroups : null, o = null == a ? void 0 : a.audioCodec, l = null == a ? void 0 : a.channels, u = l ? parseInt(l) : o ? 1 / 0 : 2, h = null; if (null != s && s.length) try { h = 1 === s.length && s[0] ? e.groups[s[0]].channels : s.reduce((function (t, r) { if (r) { var i = e.groups[r]; if (!i) throw new Error("Audio track group " + r + " not found"); Object.keys(i.channels).forEach((function (e) { t[e] = (t[e] || 0) + i.channels[e] })) } return t }), { 2: 0 }) } catch (t) { return !0 } return void 0 !== t.videoCodec && (t.width > 1920 && t.height > 1088 || t.height > 1920 && t.width > 1088 || t.frameRate > Math.max(i, 30) || "SDR" !== t.videoRange && t.videoRange !== r || t.bitrate > Math.max(n, 8e6)) || !!h && y(u) && Object.keys(h).some((function (t) { return parseInt(t) > u })) }(o, I, R, b, t, k) ? (o.supportedPromise = Br(o, I, g), o.supportedPromise.then((function (t) { if (l.hls) { o.supportedResult = t; var e = l.hls.levels, r = e.indexOf(o); t.error ? w.warn('[abr] MediaCapabilities decodingInfo error: "' + t.error + '" for level ' + r + " " + JSON.stringify(t)) : t.supported || (w.warn("[abr] Unsupported MediaCapabilities decodingInfo result for level " + r + " " + JSON.stringify(t)), r > -1 && e.length > 1 && (w.log("[abr] Removing unsupported level " + r), l.hls.removeLevel(r))) } }))) : o.supportedResult = Nr } if (T && o.codecSet !== T || R && o.videoRange !== R || c && b > o.frameRate || !c && b > 0 && b < o.frameRate || o.supportedResult && (null == (e = o.supportedResult.decodingInfoResults) || !e[0].smooth)) return G.push(H), 0; var m, D = o.details, C = (f ? null == D ? void 0 : D.partTarget : null == D ? void 0 : D.averagetargetduration) || U; m = c ? s * t : a * t; var _ = U && i >= 2 * U && 0 === n ? v[H].averageBitrate : v[H].maxBitrate, x = l.getTimeToLoadFrag(B, m, _ * C, void 0 === D); if (m >= _ && (H === h || 0 === o.loadError && 0 === o.fragmentError) && (x <= B || !y(x) || L && !l.bitrateTestDelay || x < u)) { var P = l.forcedAutoLevel; return H === p || -1 !== P && P === p || (G.length && w.trace("[abr] Skipped level(s) " + G.join(",") + " of " + r + ' max with CODECS and VIDEO-RANGE:"' + v[G[0]].codecs + '" ' + v[G[0]].videoRange + '; not compatible with "' + S.codecs + '" ' + R), w.info("[abr] switch candidate:" + d + "->" + H + " adjustedbw(" + Math.round(m) + ")-bitrate=" + Math.round(m - _) + " ttfb:" + B.toFixed(1) + " avgDuration:" + C.toFixed(1) + " maxFetchDuration:" + u.toFixed(1) + " fetchDuration:" + x.toFixed(1) + " firstSelection:" + A + " codecSet:" + T + " videoRange:" + R + " hls.loadLevel:" + p)), A && (l.firstSelection = H), { v: H } } }, H = r; H >= e; H--)if (0 !== (N = K()) && N) return N.v; return -1 }, s(t, [{ key: "firstAutoLevel", get: function () { var t = this.hls, e = t.maxAutoLevel, r = t.minAutoLevel, i = this.getBwEstimate(), n = this.hls.config.maxStarvationDelay, a = this.findBestLevel(i, r, e, 0, n, 1, 1); if (a > -1) return a; var s = this.hls.firstLevel, o = Math.min(Math.max(s, r), e); return w.warn("[abr] Could not find best starting auto level. Defaulting to first in playlist " + s + " clamped to " + o), o } }, { key: "forcedAutoLevel", get: function () { return this.nextAutoLevelKey ? -1 : this._nextAutoLevel } }, { key: "nextAutoLevel", get: function () { var t = this.forcedAutoLevel, e = this.bwEstimator.canEstimate(), r = this.lastLoadedFragLevel > -1; if (!(-1 === t || e && r && this.nextAutoLevelKey !== this.getAutoLevelKey())) return t; var i = e && r ? this.getNextABRAutoLevel() : this.firstAutoLevel; if (-1 !== t) { var n = this.hls.levels; if (n.length > Math.max(t, i) && n[t].loadError <= n[i].loadError) return t } return this._nextAutoLevel = i, this.nextAutoLevelKey = this.getAutoLevelKey(), i }, set: function (t) { var e = this.hls, r = e.maxAutoLevel, i = e.minAutoLevel, n = Math.min(Math.max(t, i), r); this._nextAutoLevel !== n && (this.nextAutoLevelKey = "", this._nextAutoLevel = n) } }]), t }(), qr = function () { function t() { this._boundTick = void 0, this._tickTimer = null, this._tickInterval = null, this._tickCallCount = 0, this._boundTick = this.tick.bind(this) } var e = t.prototype; return e.destroy = function () { this.onHandlerDestroying(), this.onHandlerDestroyed() }, e.onHandlerDestroying = function () { this.clearNextTick(), this.clearInterval() }, e.onHandlerDestroyed = function () { }, e.hasInterval = function () { return !!this._tickInterval }, e.hasNextTick = function () { return !!this._tickTimer }, e.setInterval = function (t) { return !this._tickInterval && (this._tickCallCount = 0, this._tickInterval = self.setInterval(this._boundTick, t), !0) }, e.clearInterval = function () { return !!this._tickInterval && (self.clearInterval(this._tickInterval), this._tickInterval = null, !0) }, e.clearNextTick = function () { return !!this._tickTimer && (self.clearTimeout(this._tickTimer), this._tickTimer = null, !0) }, e.tick = function () { this._tickCallCount++, 1 === this._tickCallCount && (this.doTick(), this._tickCallCount > 1 && this.tickImmediate(), this._tickCallCount = 0) }, e.tickImmediate = function () { this.clearNextTick(), this._tickTimer = self.setTimeout(this._boundTick, 0) }, e.doTick = function () { }, t }(), Xr = "NOT_LOADED", zr = "APPENDING", Qr = "PARTIAL", Jr = "OK", $r = function () { function t(t) { this.activePartLists = Object.create(null), this.endListFragments = Object.create(null), this.fragments = Object.create(null), this.timeRanges = Object.create(null), this.bufferPadding = .2, this.hls = void 0, this.hasGaps = !1, this.hls = t, this._registerListeners() } var e = t.prototype; return e._registerListeners = function () { var t = this.hls; t.on(S.BUFFER_APPENDED, this.onBufferAppended, this), t.on(S.FRAG_BUFFERED, this.onFragBuffered, this), t.on(S.FRAG_LOADED, this.onFragLoaded, this) }, e._unregisterListeners = function () { var t = this.hls; t.off(S.BUFFER_APPENDED, this.onBufferAppended, this), t.off(S.FRAG_BUFFERED, this.onFragBuffered, this), t.off(S.FRAG_LOADED, this.onFragLoaded, this) }, e.destroy = function () { this._unregisterListeners(), this.fragments = this.activePartLists = this.endListFragments = this.timeRanges = null }, e.getAppendedFrag = function (t, e) { var r = this.activePartLists[e]; if (r) for (var i = r.length; i--;) { var n = r[i]; if (!n) break; var a = n.end; if (n.start <= t && null !== a && t <= a) return n } return this.getBufferedFrag(t, e) }, e.getBufferedFrag = function (t, e) { for (var r = this.fragments, i = Object.keys(r), n = i.length; n--;) { var a = r[i[n]]; if ((null == a ? void 0 : a.body.type) === e && a.buffered) { var s = a.body; if (s.start <= t && t <= s.end) return s } } return null }, e.detectEvictedFragments = function (t, e, r, i) { var n = this; this.timeRanges && (this.timeRanges[t] = e); var a = (null == i ? void 0 : i.fragment.sn) || -1; Object.keys(this.fragments).forEach((function (i) { var s = n.fragments[i]; if (s && !(a >= s.body.sn)) if (s.buffered || s.loaded) { var o = s.range[t]; o && o.time.some((function (t) { var r = !n.isTimeBuffered(t.startPTS, t.endPTS, e); return r && n.removeFragment(s.body), r })) } else s.body.type === r && n.removeFragment(s.body) })) }, e.detectPartialFragments = function (t) { var e = this, r = this.timeRanges, i = t.frag, n = t.part; if (r && "initSegment" !== i.sn) { var a = ti(i), s = this.fragments[a]; if (!(!s || s.buffered && i.gap)) { var o = !i.relurl; Object.keys(r).forEach((function (t) { var a = i.elementaryStreams[t]; if (a) { var l = r[t], u = o || !0 === a.partial; s.range[t] = e.getBufferedTimes(i, n, u, l) } })), s.loaded = null, Object.keys(s.range).length ? (s.buffered = !0, (s.body.endList = i.endList || s.body.endList) && (this.endListFragments[s.body.type] = s), Zr(s) || this.removeParts(i.sn - 1, i.type)) : this.removeFragment(s.body) } } }, e.removeParts = function (t, e) { var r = this.activePartLists[e]; r && (this.activePartLists[e] = r.filter((function (e) { return e.fragment.sn >= t }))) }, e.fragBuffered = function (t, e) { var r = ti(t), i = this.fragments[r]; !i && e && (i = this.fragments[r] = { body: t, appendedPTS: null, loaded: null, buffered: !1, range: Object.create(null) }, t.gap && (this.hasGaps = !0)), i && (i.loaded = null, i.buffered = !0) }, e.getBufferedTimes = function (t, e, r, i) { for (var n = { time: [], partial: r }, a = t.start, s = t.end, o = t.minEndPTS || s, l = t.maxStartPTS || a, u = 0; u < i.length; u++) { var h = i.start(u) - this.bufferPadding, d = i.end(u) + this.bufferPadding; if (l >= h && o <= d) { n.time.push({ startPTS: Math.max(a, i.start(u)), endPTS: Math.min(s, i.end(u)) }); break } if (a < d && s > h) { var c = Math.max(a, i.start(u)), f = Math.min(s, i.end(u)); f > c && (n.partial = !0, n.time.push({ startPTS: c, endPTS: f })) } else if (s <= h) break } return n }, e.getPartialFragment = function (t) { var e, r, i, n = null, a = 0, s = this.bufferPadding, o = this.fragments; return Object.keys(o).forEach((function (l) { var u = o[l]; u && Zr(u) && (r = u.body.start - s, i = u.body.end + s, t >= r && t <= i && (e = Math.min(t - r, i - t), a <= e && (n = u.body, a = e))) })), n }, e.isEndListAppended = function (t) { var e = this.endListFragments[t]; return void 0 !== e && (e.buffered || Zr(e)) }, e.getState = function (t) { var e = ti(t), r = this.fragments[e]; return r ? r.buffered ? Zr(r) ? Qr : Jr : zr : Xr }, e.isTimeBuffered = function (t, e, r) { for (var i, n, a = 0; a < r.length; a++) { if (i = r.start(a) - this.bufferPadding, n = r.end(a) + this.bufferPadding, t >= i && e <= n) return !0; if (e <= i) return !1 } return !1 }, e.onFragLoaded = function (t, e) { var r = e.frag, i = e.part; if ("initSegment" !== r.sn && !r.bitrateTest) { var n = i ? null : e, a = ti(r); this.fragments[a] = { body: r, appendedPTS: null, loaded: n, buffered: !1, range: Object.create(null) } } }, e.onBufferAppended = function (t, e) { var r = this, i = e.frag, n = e.part, a = e.timeRanges; if ("initSegment" !== i.sn) { var s = i.type; if (n) { var o = this.activePartLists[s]; o || (this.activePartLists[s] = o = []), o.push(n) } this.timeRanges = a, Object.keys(a).forEach((function (t) { var e = a[t]; r.detectEvictedFragments(t, e, s, n) })) } }, e.onFragBuffered = function (t, e) { this.detectPartialFragments(e) }, e.hasFragment = function (t) { var e = ti(t); return !!this.fragments[e] }, e.hasParts = function (t) { var e; return !(null == (e = this.activePartLists[t]) || !e.length) }, e.removeFragmentsInRange = function (t, e, r, i, n) { var a = this; i && !this.hasGaps || Object.keys(this.fragments).forEach((function (s) { var o = a.fragments[s]; if (o) { var l = o.body; l.type !== r || i && !l.gap || l.start < e && l.end > t && (o.buffered || n) && a.removeFragment(l) } })) }, e.removeFragment = function (t) { var e = ti(t); t.stats.loaded = 0, t.clearElementaryStreamInfo(); var r = this.activePartLists[t.type]; if (r) { var i = t.sn; this.activePartLists[t.type] = r.filter((function (t) { return t.fragment.sn !== i })) } delete this.fragments[e], t.endList && delete this.endListFragments[t.type] }, e.removeAllFragments = function () { this.fragments = Object.create(null), this.endListFragments = Object.create(null), this.activePartLists = Object.create(null), this.hasGaps = !1 }, t }(); function Zr(t) { var e, r, i; return t.buffered && (t.body.gap || (null == (e = t.range.video) ? void 0 : e.partial) || (null == (r = t.range.audio) ? void 0 : r.partial) || (null == (i = t.range.audiovideo) ? void 0 : i.partial)) } function ti(t) { return t.type + "_" + t.level + "_" + t.sn } var ei = { length: 0, start: function () { return 0 }, end: function () { return 0 } }, ri = function () { function t() { } return t.isBuffered = function (e, r) { try { if (e) for (var i = t.getBuffered(e), n = 0; n < i.length; n++)if (r >= i.start(n) && r <= i.end(n)) return !0 } catch (t) { } return !1 }, t.bufferInfo = function (e, r, i) { try { if (e) { var n, a = t.getBuffered(e), s = []; for (n = 0; n < a.length; n++)s.push({ start: a.start(n), end: a.end(n) }); return this.bufferedInfo(s, r, i) } } catch (t) { } return { len: 0, start: r, end: r, nextStart: void 0 } }, t.bufferedInfo = function (t, e, r) { e = Math.max(0, e), t.sort((function (t, e) { var r = t.start - e.start; return r || e.end - t.end })); var i = []; if (r) for (var n = 0; n < t.length; n++) { var a = i.length; if (a) { var s = i[a - 1].end; t[n].start - s < r ? t[n].end > s && (i[a - 1].end = t[n].end) : i.push(t[n]) } else i.push(t[n]) } else i = t; for (var o, l = 0, u = e, h = e, d = 0; d < i.length; d++) { var c = i[d].start, f = i[d].end; if (e + r >= c && e < f) u = c, l = (h = f) - e; else if (e + r < c) { o = c; break } } return { len: l, start: u || 0, end: h || 0, nextStart: o } }, t.getBuffered = function (t) { try { return t.buffered } catch (t) { return w.log("failed to get media.buffered", t), ei } }, t }(), ii = function (t, e, r, i, n, a) { void 0 === i && (i = 0), void 0 === n && (n = -1), void 0 === a && (a = !1), this.level = void 0, this.sn = void 0, this.part = void 0, this.id = void 0, this.size = void 0, this.partial = void 0, this.transmuxing = { start: 0, executeStart: 0, executeEnd: 0, end: 0 }, this.buffering = { audio: { start: 0, executeStart: 0, executeEnd: 0, end: 0 }, video: { start: 0, executeStart: 0, executeEnd: 0, end: 0 }, audiovideo: { start: 0, executeStart: 0, executeEnd: 0, end: 0 } }, this.level = t, this.sn = e, this.id = r, this.size = i, this.part = n, this.partial = a }; function ni(t, e) { for (var r = 0, i = t.length; r < i; r++) { var n; if ((null == (n = t[r]) ? void 0 : n.cc) === e) return t[r] } return null } function ai(t, e) { if (t) { var r = t.start + e; t.start = t.startPTS = r, t.endPTS = r + t.duration } } function si(t, e) { for (var r = e.fragments, i = 0, n = r.length; i < n; i++)ai(r[i], t); e.fragmentHint && ai(e.fragmentHint, t), e.alignedSliding = !0 } function oi(t, e, r) { e && (function (t, e, r) { if (function (t, e, r) { return !(!e || !(r.endCC > r.startCC || t && t.cc < r.startCC)) }(t, r, e)) { var i = function (t, e) { var r = t.fragments, i = e.fragments; if (i.length && r.length) { var n = ni(r, i[0].cc); if (n && (!n || n.startPTS)) return n; w.log("No frag in previous level to align on") } else w.log("No fragments to align") }(r, e); i && y(i.start) && (w.log("Adjusting PTS using last level due to CC increase within current level " + e.url), si(i.start, e)) } }(t, r, e), !r.alignedSliding && e && li(r, e), r.alignedSliding || !e || r.skippedSegments || cr(e, r)) } function li(t, e) { if (t.hasProgramDateTime && e.hasProgramDateTime) { var r = t.fragments, i = e.fragments; if (r.length && i.length) { var n, a, s = Math.min(e.endCC, t.endCC); e.startCC < s && t.startCC < s && (n = ni(i, s), a = ni(r, s)), n && a || (a = ni(r, (n = i[Math.floor(i.length / 2)]).cc) || r[Math.floor(r.length / 2)]); var o = n.programDateTime, l = a.programDateTime; o && l && si((l - o) / 1e3 - (a.start - n.start), t) } } } var ui = Math.pow(2, 17), hi = function () { function t(t) { this.config = void 0, this.loader = null, this.partLoadTimeout = -1, this.config = t } var e = t.prototype; return e.destroy = function () { this.loader && (this.loader.destroy(), this.loader = null) }, e.abort = function () { this.loader && this.loader.abort() }, e.load = function (t, e) { var r = this, n = t.url; if (!n) return Promise.reject(new fi({ type: L.NETWORK_ERROR, details: A.FRAG_LOAD_ERROR, fatal: !1, frag: t, error: new Error("Fragment does not have a " + (n ? "part list" : "url")), networkDetails: null })); this.abort(); var a = this.config, s = a.fLoader, o = a.loader; return new Promise((function (l, u) { if (r.loader && r.loader.destroy(), t.gap) { if (t.tagList.some((function (t) { return "GAP" === t[0] }))) return void u(ci(t)); t.gap = !1 } var h = r.loader = t.loader = s ? new s(a) : new o(a), d = di(t), c = Tr(a.fragLoadPolicy.default), f = { loadPolicy: c, timeout: c.maxLoadTimeMs, maxRetry: 0, retryDelay: 0, maxRetryDelay: 0, highWaterMark: "initSegment" === t.sn ? 1 / 0 : ui }; t.stats = h.stats, h.load(d, f, { onSuccess: function (e, i, n, a) { r.resetLoader(t, h); var s = e.data; n.resetIV && t.decryptdata && (t.decryptdata.iv = new Uint8Array(s.slice(0, 16)), s = s.slice(16)), l({ frag: t, part: null, payload: s, networkDetails: a }) }, onError: function (e, a, s, o) { r.resetLoader(t, h), u(new fi({ type: L.NETWORK_ERROR, details: A.FRAG_LOAD_ERROR, fatal: !1, frag: t, response: i({ url: n, data: void 0 }, e), error: new Error("HTTP Error " + e.code + " " + e.text), networkDetails: s, stats: o })) }, onAbort: function (e, i, n) { r.resetLoader(t, h), u(new fi({ type: L.NETWORK_ERROR, details: A.INTERNAL_ABORTED, fatal: !1, frag: t, error: new Error("Aborted"), networkDetails: n, stats: e })) }, onTimeout: function (e, i, n) { r.resetLoader(t, h), u(new fi({ type: L.NETWORK_ERROR, details: A.FRAG_LOAD_TIMEOUT, fatal: !1, frag: t, error: new Error("Timeout after " + f.timeout + "ms"), networkDetails: n, stats: e })) }, onProgress: function (r, i, n, a) { e && e({ frag: t, part: null, payload: n, networkDetails: a }) } }) })) }, e.loadPart = function (t, e, r) { var n = this; this.abort(); var a = this.config, s = a.fLoader, o = a.loader; return new Promise((function (l, u) { if (n.loader && n.loader.destroy(), t.gap || e.gap) u(ci(t, e)); else { var h = n.loader = t.loader = s ? new s(a) : new o(a), d = di(t, e), c = Tr(a.fragLoadPolicy.default), f = { loadPolicy: c, timeout: c.maxLoadTimeMs, maxRetry: 0, retryDelay: 0, maxRetryDelay: 0, highWaterMark: ui }; e.stats = h.stats, h.load(d, f, { onSuccess: function (i, a, s, o) { n.resetLoader(t, h), n.updateStatsFromPart(t, e); var u = { frag: t, part: e, payload: i.data, networkDetails: o }; r(u), l(u) }, onError: function (r, a, s, o) { n.resetLoader(t, h), u(new fi({ type: L.NETWORK_ERROR, details: A.FRAG_LOAD_ERROR, fatal: !1, frag: t, part: e, response: i({ url: d.url, data: void 0 }, r), error: new Error("HTTP Error " + r.code + " " + r.text), networkDetails: s, stats: o })) }, onAbort: function (r, i, a) { t.stats.aborted = e.stats.aborted, n.resetLoader(t, h), u(new fi({ type: L.NETWORK_ERROR, details: A.INTERNAL_ABORTED, fatal: !1, frag: t, part: e, error: new Error("Aborted"), networkDetails: a, stats: r })) }, onTimeout: function (r, i, a) { n.resetLoader(t, h), u(new fi({ type: L.NETWORK_ERROR, details: A.FRAG_LOAD_TIMEOUT, fatal: !1, frag: t, part: e, error: new Error("Timeout after " + f.timeout + "ms"), networkDetails: a, stats: r })) } }) } })) }, e.updateStatsFromPart = function (t, e) { var r = t.stats, i = e.stats, n = i.total; if (r.loaded += i.loaded, n) { var a = Math.round(t.duration / e.duration), s = Math.min(Math.round(r.loaded / n), a), o = (a - s) * Math.round(r.loaded / s); r.total = r.loaded + o } else r.total = Math.max(r.loaded, r.total); var l = r.loading, u = i.loading; l.start ? l.first += u.first - u.start : (l.start = u.start, l.first = u.first), l.end = u.end }, e.resetLoader = function (t, e) { t.loader = null, this.loader === e && (self.clearTimeout(this.partLoadTimeout), this.loader = null), e.destroy() }, t }(); function di(t, e) { void 0 === e && (e = null); var r = e || t, i = { frag: t, part: e, responseType: "arraybuffer", url: r.url, headers: {}, rangeStart: 0, rangeEnd: 0 }, n = r.byteRangeStartOffset, a = r.byteRangeEndOffset; if (y(n) && y(a)) { var s, o = n, l = a; if ("initSegment" === t.sn && "AES-128" === (null == (s = t.decryptdata) ? void 0 : s.method)) { var u = a - n; u % 16 && (l = a + (16 - u % 16)), 0 !== n && (i.resetIV = !0, o = n - 16) } i.rangeStart = o, i.rangeEnd = l } return i } function ci(t, e) { var r = new Error("GAP " + (t.gap ? "tag" : "attribute") + " found"), i = { type: L.MEDIA_ERROR, details: A.FRAG_GAP, fatal: !1, frag: t, error: r, networkDetails: null }; return e && (i.part = e), (e || t).stats.aborted = !0, new fi(i) } var fi = function (t) { function e(e) { var r; return (r = t.call(this, e.error.message) || this).data = void 0, r.data = e, r } return l(e, t), e }(c(Error)), gi = function () { function t(t, e) { this.subtle = void 0, this.aesIV = void 0, this.subtle = t, this.aesIV = e } return t.prototype.decrypt = function (t, e) { return this.subtle.decrypt({ name: "AES-CBC", iv: this.aesIV }, e, t) }, t }(), vi = function () { function t(t, e) { this.subtle = void 0, this.key = void 0, this.subtle = t, this.key = e } return t.prototype.expandKey = function () { return this.subtle.importKey("raw", this.key, { name: "AES-CBC" }, !1, ["encrypt", "decrypt"]) }, t }(), mi = function () { function t() { this.rcon = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54], this.subMix = [new Uint32Array(256), new Uint32Array(256), new Uint32Array(256), new Uint32Array(256)], this.invSubMix = [new Uint32Array(256), new Uint32Array(256), new Uint32Array(256), new Uint32Array(256)], this.sBox = new Uint32Array(256), this.invSBox = new Uint32Array(256), this.key = new Uint32Array(0), this.ksRows = 0, this.keySize = 0, this.keySchedule = void 0, this.invKeySchedule = void 0, this.initTable() } var e = t.prototype; return e.uint8ArrayToUint32Array_ = function (t) { for (var e = new DataView(t), r = new Uint32Array(4), i = 0; i < 4; i++)r[i] = e.getUint32(4 * i); return r }, e.initTable = function () { var t = this.sBox, e = this.invSBox, r = this.subMix, i = r[0], n = r[1], a = r[2], s = r[3], o = this.invSubMix, l = o[0], u = o[1], h = o[2], d = o[3], c = new Uint32Array(256), f = 0, g = 0, v = 0; for (v = 0; v < 256; v++)c[v] = v < 128 ? v << 1 : v << 1 ^ 283; for (v = 0; v < 256; v++) { var m = g ^ g << 1 ^ g << 2 ^ g << 3 ^ g << 4; m = m >>> 8 ^ 255 & m ^ 99, t[f] = m, e[m] = f; var p = c[f], y = c[p], E = c[y], T = 257 * c[m] ^ 16843008 * m; i[f] = T << 24 | T >>> 8, n[f] = T << 16 | T >>> 16, a[f] = T << 8 | T >>> 24, s[f] = T, T = 16843009 * E ^ 65537 * y ^ 257 * p ^ 16843008 * f, l[m] = T << 24 | T >>> 8, u[m] = T << 16 | T >>> 16, h[m] = T << 8 | T >>> 24, d[m] = T, f ? (f = p ^ c[c[c[E ^ p]]], g ^= c[c[g]]) : f = g = 1 } }, e.expandKey = function (t) { for (var e = this.uint8ArrayToUint32Array_(t), r = !0, i = 0; i < e.length && r;)r = e[i] === this.key[i], i++; if (!r) { this.key = e; var n = this.keySize = e.length; if (4 !== n && 6 !== n && 8 !== n) throw new Error("Invalid aes key size=" + n); var a, s, o, l, u = this.ksRows = 4 * (n + 6 + 1), h = this.keySchedule = new Uint32Array(u), d = this.invKeySchedule = new Uint32Array(u), c = this.sBox, f = this.rcon, g = this.invSubMix, v = g[0], m = g[1], p = g[2], y = g[3]; for (a = 0; a < u; a++)a < n ? o = h[a] = e[a] : (l = o, a % n == 0 ? (l = c[(l = l << 8 | l >>> 24) >>> 24] << 24 | c[l >>> 16 & 255] << 16 | c[l >>> 8 & 255] << 8 | c[255 & l], l ^= f[a / n | 0] << 24) : n > 6 && a % n == 4 && (l = c[l >>> 24] << 24 | c[l >>> 16 & 255] << 16 | c[l >>> 8 & 255] << 8 | c[255 & l]), h[a] = o = (h[a - n] ^ l) >>> 0); for (s = 0; s < u; s++)a = u - s, l = 3 & s ? h[a] : h[a - 4], d[s] = s < 4 || a <= 4 ? l : v[c[l >>> 24]] ^ m[c[l >>> 16 & 255]] ^ p[c[l >>> 8 & 255]] ^ y[c[255 & l]], d[s] = d[s] >>> 0 } }, e.networkToHostOrderSwap = function (t) { return t << 24 | (65280 & t) << 8 | (16711680 & t) >> 8 | t >>> 24 }, e.decrypt = function (t, e, r) { for (var i, n, a, s, o, l, u, h, d, c, f, g, v, m, p = this.keySize + 6, y = this.invKeySchedule, E = this.invSBox, T = this.invSubMix, S = T[0], L = T[1], A = T[2], R = T[3], b = this.uint8ArrayToUint32Array_(r), k = b[0], D = b[1], I = b[2], w = b[3], C = new Int32Array(t), _ = new Int32Array(C.length), x = this.networkToHostOrderSwap; e < C.length;) { for (d = x(C[e]), c = x(C[e + 1]), f = x(C[e + 2]), g = x(C[e + 3]), o = d ^ y[0], l = g ^ y[1], u = f ^ y[2], h = c ^ y[3], v = 4, m = 1; m < p; m++)i = S[o >>> 24] ^ L[l >> 16 & 255] ^ A[u >> 8 & 255] ^ R[255 & h] ^ y[v], n = S[l >>> 24] ^ L[u >> 16 & 255] ^ A[h >> 8 & 255] ^ R[255 & o] ^ y[v + 1], a = S[u >>> 24] ^ L[h >> 16 & 255] ^ A[o >> 8 & 255] ^ R[255 & l] ^ y[v + 2], s = S[h >>> 24] ^ L[o >> 16 & 255] ^ A[l >> 8 & 255] ^ R[255 & u] ^ y[v + 3], o = i, l = n, u = a, h = s, v += 4; i = E[o >>> 24] << 24 ^ E[l >> 16 & 255] << 16 ^ E[u >> 8 & 255] << 8 ^ E[255 & h] ^ y[v], n = E[l >>> 24] << 24 ^ E[u >> 16 & 255] << 16 ^ E[h >> 8 & 255] << 8 ^ E[255 & o] ^ y[v + 1], a = E[u >>> 24] << 24 ^ E[h >> 16 & 255] << 16 ^ E[o >> 8 & 255] << 8 ^ E[255 & l] ^ y[v + 2], s = E[h >>> 24] << 24 ^ E[o >> 16 & 255] << 16 ^ E[l >> 8 & 255] << 8 ^ E[255 & u] ^ y[v + 3], _[e] = x(i ^ k), _[e + 1] = x(s ^ D), _[e + 2] = x(a ^ I), _[e + 3] = x(n ^ w), k = d, D = c, I = f, w = g, e += 4 } return _.buffer }, t }(), pi = function () { function t(t, e) { var r = (void 0 === e ? {} : e).removePKCS7Padding, i = void 0 === r || r; if (this.logEnabled = !0, this.removePKCS7Padding = void 0, this.subtle = null, this.softwareDecrypter = null, this.key = null, this.fastAesKey = null, this.remainderData = null, this.currentIV = null, this.currentResult = null, this.useSoftware = void 0, this.useSoftware = t.enableSoftwareAES, this.removePKCS7Padding = i, i) try { var n = self.crypto; n && (this.subtle = n.subtle || n.webkitSubtle) } catch (t) { } this.useSoftware = !this.subtle } var e = t.prototype; return e.destroy = function () { this.subtle = null, this.softwareDecrypter = null, this.key = null, this.fastAesKey = null, this.remainderData = null, this.currentIV = null, this.currentResult = null }, e.isSync = function () { return this.useSoftware }, e.flush = function () { var t = this.currentResult, e = this.remainderData; if (!t || e) return this.reset(), null; var r, i, n, a = new Uint8Array(t); return this.reset(), this.removePKCS7Padding ? (i = (r = a).byteLength, (n = i && new DataView(r.buffer).getUint8(i - 1)) ? lt(r, 0, i - n) : r) : a }, e.reset = function () { this.currentResult = null, this.currentIV = null, this.remainderData = null, this.softwareDecrypter && (this.softwareDecrypter = null) }, e.decrypt = function (t, e, r) { var i = this; return this.useSoftware ? new Promise((function (n, a) { i.softwareDecrypt(new Uint8Array(t), e, r); var s = i.flush(); s ? n(s.buffer) : a(new Error("[softwareDecrypt] Failed to decrypt data")) })) : this.webCryptoDecrypt(new Uint8Array(t), e, r) }, e.softwareDecrypt = function (t, e, r) { var i = this.currentIV, n = this.currentResult, a = this.remainderData; this.logOnce("JS AES decrypt"), a && (t = Wt(a, t), this.remainderData = null); var s = this.getValidChunk(t); if (!s.length) return null; i && (r = i); var o = this.softwareDecrypter; o || (o = this.softwareDecrypter = new mi), o.expandKey(e); var l = n; return this.currentResult = o.decrypt(s.buffer, 0, r), this.currentIV = lt(s, -16).buffer, l || null }, e.webCryptoDecrypt = function (t, e, r) { var i = this; if (this.key !== e || !this.fastAesKey) { if (!this.subtle) return Promise.resolve(this.onWebCryptoError(t, e, r)); this.key = e, this.fastAesKey = new vi(this.subtle, e) } return this.fastAesKey.expandKey().then((function (e) { return i.subtle ? (i.logOnce("WebCrypto AES decrypt"), new gi(i.subtle, new Uint8Array(r)).decrypt(t.buffer, e)) : Promise.reject(new Error("web crypto not initialized")) })).catch((function (n) { return w.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, " + n.name + ": " + n.message), i.onWebCryptoError(t, e, r) })) }, e.onWebCryptoError = function (t, e, r) { this.useSoftware = !0, this.logEnabled = !0, this.softwareDecrypt(t, e, r); var i = this.flush(); if (i) return i.buffer; throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data") }, e.getValidChunk = function (t) { var e = t, r = t.length - t.length % 16; return r !== t.length && (e = lt(t, 0, r), this.remainderData = lt(t, r)), e }, e.logOnce = function (t) { this.logEnabled && (w.log("[decrypter]: " + t), this.logEnabled = !1) }, t }(), yi = function (t) { for (var e = "", r = t.length, i = 0; i < r; i++)e += "[" + t.start(i).toFixed(3) + "-" + t.end(i).toFixed(3) + "]"; return e }, Ei = "STOPPED", Ti = "IDLE", Si = "KEY_LOADING", Li = "FRAG_LOADING", Ai = "FRAG_LOADING_WAITING_RETRY", Ri = "WAITING_TRACK", bi = "PARSING", ki = "PARSED", Di = "ENDED", Ii = "ERROR", wi = "WAITING_INIT_PTS", Ci = "WAITING_LEVEL", _i = function (t) { function e(e, r, i, n, a) { var s; return (s = t.call(this) || this).hls = void 0, s.fragPrevious = null, s.fragCurrent = null, s.fragmentTracker = void 0, s.transmuxer = null, s._state = Ei, s.playlistType = void 0, s.media = null, s.mediaBuffer = null, s.config = void 0, s.bitrateTest = !1, s.lastCurrentTime = 0, s.nextLoadPosition = 0, s.startPosition = 0, s.startTimeOffset = null, s.loadedmetadata = !1, s.retryDate = 0, s.levels = null, s.fragmentLoader = void 0, s.keyLoader = void 0, s.levelLastLoaded = null, s.startFragRequested = !1, s.decrypter = void 0, s.initPTS = [], s.onvseeking = null, s.onvended = null, s.logPrefix = "", s.log = void 0, s.warn = void 0, s.playlistType = a, s.logPrefix = n, s.log = w.log.bind(w, n + ":"), s.warn = w.warn.bind(w, n + ":"), s.hls = e, s.fragmentLoader = new hi(e.config), s.keyLoader = i, s.fragmentTracker = r, s.config = e.config, s.decrypter = new pi(e.config), e.on(S.MANIFEST_LOADED, s.onManifestLoaded, function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(s)), s } l(e, t); var r = e.prototype; return r.doTick = function () { this.onTickEnd() }, r.onTickEnd = function () { }, r.startLoad = function (t) { }, r.stopLoad = function () { this.fragmentLoader.abort(), this.keyLoader.abort(this.playlistType); var t = this.fragCurrent; null != t && t.loader && (t.abortRequests(), this.fragmentTracker.removeFragment(t)), this.resetTransmuxer(), this.fragCurrent = null, this.fragPrevious = null, this.clearInterval(), this.clearNextTick(), this.state = Ei }, r._streamEnded = function (t, e) { if (e.live || t.nextStart || !t.end || !this.media) return !1; var r = e.partList; if (null != r && r.length) { var i = r[r.length - 1]; return ri.isBuffered(this.media, i.start + i.duration / 2) } var n = e.fragments[e.fragments.length - 1].type; return this.fragmentTracker.isEndListAppended(n) }, r.getLevelDetails = function () { var t; if (this.levels && null !== this.levelLastLoaded) return null == (t = this.levelLastLoaded) ? void 0 : t.details }, r.onMediaAttached = function (t, e) { var r = this.media = this.mediaBuffer = e.media; this.onvseeking = this.onMediaSeeking.bind(this), this.onvended = this.onMediaEnded.bind(this), r.addEventListener("seeking", this.onvseeking), r.addEventListener("ended", this.onvended); var i = this.config; this.levels && i.autoStartLoad && this.state === Ei && this.startLoad(i.startPosition) }, r.onMediaDetaching = function () { var t = this.media; null != t && t.ended && (this.log("MSE detaching and video ended, reset startPosition"), this.startPosition = this.lastCurrentTime = 0), t && this.onvseeking && this.onvended && (t.removeEventListener("seeking", this.onvseeking), t.removeEventListener("ended", this.onvended), this.onvseeking = this.onvended = null), this.keyLoader && this.keyLoader.detach(), this.media = this.mediaBuffer = null, this.loadedmetadata = !1, this.fragmentTracker.removeAllFragments(), this.stopLoad() }, r.onMediaSeeking = function () { var t = this.config, e = this.fragCurrent, r = this.media, i = this.mediaBuffer, n = this.state, a = r ? r.currentTime : 0, s = ri.bufferInfo(i || r, a, t.maxBufferHole); if (this.log("media seeking to " + (y(a) ? a.toFixed(3) : a) + ", state: " + n), this.state === Di) this.resetLoadingState(); else if (e) { var o = t.maxFragLookUpTolerance, l = e.start - o, u = e.start + e.duration + o; if (!s.len || u < s.start || l > s.end) { var h = a > u; (a < l || h) && (h && e.loader && (this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"), e.abortRequests(), this.resetLoadingState()), this.fragPrevious = null) } } r && (this.fragmentTracker.removeFragmentsInRange(a, 1 / 0, this.playlistType, !0), this.lastCurrentTime = a), this.loadedmetadata || s.len || (this.nextLoadPosition = this.startPosition = a), this.tickImmediate() }, r.onMediaEnded = function () { this.startPosition = this.lastCurrentTime = 0 }, r.onManifestLoaded = function (t, e) { this.startTimeOffset = e.startTimeOffset, this.initPTS = [] }, r.onHandlerDestroying = function () { this.hls.off(S.MANIFEST_LOADED, this.onManifestLoaded, this), this.stopLoad(), t.prototype.onHandlerDestroying.call(this), this.hls = null }, r.onHandlerDestroyed = function () { this.state = Ei, this.fragmentLoader && this.fragmentLoader.destroy(), this.keyLoader && this.keyLoader.destroy(), this.decrypter && this.decrypter.destroy(), this.hls = this.log = this.warn = this.decrypter = this.keyLoader = this.fragmentLoader = this.fragmentTracker = null, t.prototype.onHandlerDestroyed.call(this) }, r.loadFragment = function (t, e, r) { this._loadFragForPlayback(t, e, r) }, r._loadFragForPlayback = function (t, e, r) { var i = this; this._doFragLoad(t, e, r, (function (e) { if (i.fragContextChanged(t)) return i.warn("Fragment " + t.sn + (e.part ? " p: " + e.part.index : "") + " of level " + t.level + " was dropped during download."), void i.fragmentTracker.removeFragment(t); t.stats.chunkCount++, i._handleFragmentLoadProgress(e) })).then((function (e) { if (e) { var r = i.state; i.fragContextChanged(t) ? (r === Li || !i.fragCurrent && r === bi) && (i.fragmentTracker.removeFragment(t), i.state = Ti) : ("payload" in e && (i.log("Loaded fragment " + t.sn + " of level " + t.level), i.hls.trigger(S.FRAG_LOADED, e)), i._handleFragmentLoadComplete(e)) } })).catch((function (e) { i.state !== Ei && i.state !== Ii && (i.warn("Frag error: " + ((null == e ? void 0 : e.message) || e)), i.resetFragmentLoading(t)) })) }, r.clearTrackerIfNeeded = function (t) { var e, r = this.fragmentTracker; if (r.getState(t) === zr) { var i = t.type, n = this.getFwdBufferInfo(this.mediaBuffer, i), a = Math.max(t.duration, n ? n.len : this.config.maxBufferLength), s = this.backtrackFragment; (1 == (s ? t.sn - s.sn : 0) || this.reduceMaxBufferLength(a, t.duration)) && r.removeFragment(t) } else 0 === (null == (e = this.mediaBuffer) ? void 0 : e.buffered.length) ? r.removeAllFragments() : r.hasParts(t.type) && (r.detectPartialFragments({ frag: t, part: null, stats: t.stats, id: t.type }), r.getState(t) === Qr && r.removeFragment(t)) }, r.checkLiveUpdate = function (t) { if (t.updated && !t.live) { var e = t.fragments[t.fragments.length - 1]; this.fragmentTracker.detectPartialFragments({ frag: e, part: null, stats: e.stats, id: e.type }) } t.fragments[0] || (t.deltaUpdateFailed = !0) }, r.flushMainBuffer = function (t, e, r) { if (void 0 === r && (r = null), t - e) { var i = { startOffset: t, endOffset: e, type: r }; this.hls.trigger(S.BUFFER_FLUSHING, i) } }, r._loadInitSegment = function (t, e) { var r = this; this._doFragLoad(t, e).then((function (e) { if (!e || r.fragContextChanged(t) || !r.levels) throw new Error("init load aborted"); return e })).then((function (e) { var i = r.hls, n = e.payload, a = t.decryptdata; if (n && n.byteLength > 0 && null != a && a.key && a.iv && "AES-128" === a.method) { var s = self.performance.now(); return r.decrypter.decrypt(new Uint8Array(n), a.key.buffer, a.iv.buffer).catch((function (e) { throw i.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_DECRYPT_ERROR, fatal: !1, error: e, reason: e.message, frag: t }), e })).then((function (n) { var a = self.performance.now(); return i.trigger(S.FRAG_DECRYPTED, { frag: t, payload: n, stats: { tstart: s, tdecrypt: a } }), e.payload = n, r.completeInitSegmentLoad(e) })) } return r.completeInitSegmentLoad(e) })).catch((function (e) { r.state !== Ei && r.state !== Ii && (r.warn(e), r.resetFragmentLoading(t)) })) }, r.completeInitSegmentLoad = function (t) { if (!this.levels) throw new Error("init load aborted, missing levels"); var e = t.frag.stats; this.state = Ti, t.frag.data = new Uint8Array(t.payload), e.parsing.start = e.buffering.start = self.performance.now(), e.parsing.end = e.buffering.end = self.performance.now(), this.tick() }, r.fragContextChanged = function (t) { var e = this.fragCurrent; return !t || !e || t.sn !== e.sn || t.level !== e.level }, r.fragBufferedComplete = function (t, e) { var r, i, n, a, s = this.mediaBuffer ? this.mediaBuffer : this.media; if (this.log("Buffered " + t.type + " sn: " + t.sn + (e ? " part: " + e.index : "") + " of " + (this.playlistType === Fe ? "level" : "track") + " " + t.level + " (frag:[" + (null != (r = t.startPTS) ? r : NaN).toFixed(3) + "-" + (null != (i = t.endPTS) ? i : NaN).toFixed(3) + "] > buffer:" + (s ? yi(ri.getBuffered(s)) : "(detached)") + ")"), "initSegment" !== t.sn) { var o; if (t.type !== Oe) { var l = t.elementaryStreams; if (!Object.keys(l).some((function (t) { return !!l[t] }))) return void (this.state = Ti) } var u = null == (o = this.levels) ? void 0 : o[t.level]; null != u && u.fragmentError && (this.log("Resetting level fragment error count of " + u.fragmentError + " on frag buffered"), u.fragmentError = 0) } this.state = Ti, s && (!this.loadedmetadata && t.type == Fe && s.buffered.length && (null == (n = this.fragCurrent) ? void 0 : n.sn) === (null == (a = this.fragPrevious) ? void 0 : a.sn) && (this.loadedmetadata = !0, this.seekToStartPos()), this.tick()) }, r.seekToStartPos = function () { }, r._handleFragmentLoadComplete = function (t) { var e = this.transmuxer; if (e) { var r = t.frag, i = t.part, n = t.partsLoaded, a = !n || 0 === n.length || n.some((function (t) { return !t })), s = new ii(r.level, r.sn, r.stats.chunkCount + 1, 0, i ? i.index : -1, !a); e.flush(s) } }, r._handleFragmentLoadProgress = function (t) { }, r._doFragLoad = function (t, e, r, i) { var n, a = this; void 0 === r && (r = null); var s = null == e ? void 0 : e.details; if (!this.levels || !s) throw new Error("frag load aborted, missing level" + (s ? "" : " detail") + "s"); var o = null; if (!t.encrypted || null != (n = t.decryptdata) && n.key ? !t.encrypted && s.encryptedFragments.length && this.keyLoader.loadClear(t, s.encryptedFragments) : (this.log("Loading key for " + t.sn + " of [" + s.startSN + "-" + s.endSN + "], " + ("[stream-controller]" === this.logPrefix ? "level" : "track") + " " + t.level), this.state = Si, this.fragCurrent = t, o = this.keyLoader.load(t).then((function (t) { if (!a.fragContextChanged(t.frag)) return a.hls.trigger(S.KEY_LOADED, t), a.state === Si && (a.state = Ti), t })), this.hls.trigger(S.KEY_LOADING, { frag: t }), null === this.fragCurrent && (o = Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))), r = Math.max(t.start, r || 0), this.config.lowLatencyMode && "initSegment" !== t.sn) { var l = s.partList; if (l && i) { r > t.end && s.fragmentHint && (t = s.fragmentHint); var u = this.getNextPart(l, t, r); if (u > -1) { var h, d = l[u]; return this.log("Loading part sn: " + t.sn + " p: " + d.index + " cc: " + t.cc + " of playlist [" + s.startSN + "-" + s.endSN + "] parts [0-" + u + "-" + (l.length - 1) + "] " + ("[stream-controller]" === this.logPrefix ? "level" : "track") + ": " + t.level + ", target: " + parseFloat(r.toFixed(3))), this.nextLoadPosition = d.start + d.duration, this.state = Li, h = o ? o.then((function (r) { return !r || a.fragContextChanged(r.frag) ? null : a.doFragPartsLoad(t, d, e, i) })).catch((function (t) { return a.handleFragLoadError(t) })) : this.doFragPartsLoad(t, d, e, i).catch((function (t) { return a.handleFragLoadError(t) })), this.hls.trigger(S.FRAG_LOADING, { frag: t, part: d, targetBufferTime: r }), null === this.fragCurrent ? Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")) : h } if (!t.url || this.loadedEndOfParts(l, r)) return Promise.resolve(null) } } this.log("Loading fragment " + t.sn + " cc: " + t.cc + " " + (s ? "of [" + s.startSN + "-" + s.endSN + "] " : "") + ("[stream-controller]" === this.logPrefix ? "level" : "track") + ": " + t.level + ", target: " + parseFloat(r.toFixed(3))), y(t.sn) && !this.bitrateTest && (this.nextLoadPosition = t.start + t.duration), this.state = Li; var c, f = this.config.progressive; return c = f && o ? o.then((function (e) { return !e || a.fragContextChanged(null == e ? void 0 : e.frag) ? null : a.fragmentLoader.load(t, i) })).catch((function (t) { return a.handleFragLoadError(t) })) : Promise.all([this.fragmentLoader.load(t, f ? i : void 0), o]).then((function (t) { var e = t[0]; return !f && e && i && i(e), e })).catch((function (t) { return a.handleFragLoadError(t) })), this.hls.trigger(S.FRAG_LOADING, { frag: t, targetBufferTime: r }), null === this.fragCurrent ? Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")) : c }, r.doFragPartsLoad = function (t, e, r, i) { var n = this; return new Promise((function (a, s) { var o, l = [], u = null == (o = r.details) ? void 0 : o.partList; !function e(o) { n.fragmentLoader.loadPart(t, o, i).then((function (i) { l[o.index] = i; var s = i.part; n.hls.trigger(S.FRAG_LOADED, i); var h = gr(r, t.sn, o.index + 1) || vr(u, t.sn, o.index + 1); if (!h) return a({ frag: t, part: s, partsLoaded: l }); e(h) })).catch(s) }(e) })) }, r.handleFragLoadError = function (t) { if ("data" in t) { var e = t.data; t.data && e.details === A.INTERNAL_ABORTED ? this.handleFragLoadAborted(e.frag, e.part) : this.hls.trigger(S.ERROR, e) } else this.hls.trigger(S.ERROR, { type: L.OTHER_ERROR, details: A.INTERNAL_EXCEPTION, err: t, error: t, fatal: !0 }); return null }, r._handleTransmuxerFlush = function (t) { var e = this.getCurrentContext(t); if (e && this.state === bi) { var r = e.frag, i = e.part, n = e.level, a = self.performance.now(); r.stats.parsing.end = a, i && (i.stats.parsing.end = a), this.updateLevelTiming(r, i, n, t.partial) } else this.fragCurrent || this.state === Ei || this.state === Ii || (this.state = Ti) }, r.getCurrentContext = function (t) { var e = this.levels, r = this.fragCurrent, i = t.level, n = t.sn, a = t.part; if (null == e || !e[i]) return this.warn("Levels object was unset while buffering fragment " + n + " of level " + i + ". The current chunk will not be buffered."), null; var s = e[i], o = a > -1 ? gr(s, n, a) : null, l = o ? o.fragment : function (t, e, r) { if (null == t || !t.details) return null; var i = t.details, n = i.fragments[e - i.startSN]; return n || ((n = i.fragmentHint) && n.sn === e ? n : e < i.startSN && r && r.sn === e ? r : null) }(s, n, r); return l ? (r && r !== l && (l.stats = r.stats), { frag: l, part: o, level: s }) : null }, r.bufferFragmentData = function (t, e, r, i, n) { var a; if (t && this.state === bi) { var s = t.data1, o = t.data2, l = s; if (s && o && (l = Wt(s, o)), null != (a = l) && a.length) { var u = { type: t.type, frag: e, part: r, chunkMeta: i, parent: e.type, data: l }; if (this.hls.trigger(S.BUFFER_APPENDING, u), t.dropped && t.independent && !r) { if (n) return; this.flushBufferGap(e) } } } }, r.flushBufferGap = function (t) { var e = this.media; if (e) if (ri.isBuffered(e, e.currentTime)) { var r = e.currentTime, i = ri.bufferInfo(e, r, 0), n = t.duration, a = Math.min(2 * this.config.maxFragLookUpTolerance, .25 * n), s = Math.max(Math.min(t.start - a, i.end - a), r + a); t.start - s > a && this.flushMainBuffer(s, t.start) } else this.flushMainBuffer(0, t.start) }, r.getFwdBufferInfo = function (t, e) { var r = this.getLoadPosition(); return y(r) ? this.getFwdBufferInfoAtPos(t, r, e) : null }, r.getFwdBufferInfoAtPos = function (t, e, r) { var i = this.config.maxBufferHole, n = ri.bufferInfo(t, e, i); if (0 === n.len && void 0 !== n.nextStart) { var a = this.fragmentTracker.getBufferedFrag(e, r); if (a && n.nextStart < a.end) return ri.bufferInfo(t, e, Math.max(n.nextStart, i)) } return n }, r.getMaxBufferLength = function (t) { var e, r = this.config; return e = t ? Math.max(8 * r.maxBufferSize / t, r.maxBufferLength) : r.maxBufferLength, Math.min(e, r.maxMaxBufferLength) }, r.reduceMaxBufferLength = function (t, e) { var r = this.config, i = Math.max(Math.min(t - e, r.maxBufferLength), e), n = Math.max(t - 3 * e, r.maxMaxBufferLength / 2, i); return n >= i && (r.maxMaxBufferLength = n, this.warn("Reduce max buffer length to " + n + "s"), !0) }, r.getAppendedFrag = function (t, e) { var r = this.fragmentTracker.getAppendedFrag(t, Fe); return r && "fragment" in r ? r.fragment : r }, r.getNextFragment = function (t, e) { var r = e.fragments, i = r.length; if (!i) return null; var n, a = this.config, s = r[0].start; if (e.live) { var o = a.initialLiveManifestSize; if (i < o) return this.warn("Not enough fragments to start playback (have: " + i + ", need: " + o + ")"), null; (!e.PTSKnown && !this.startFragRequested && -1 === this.startPosition || t < s) && (n = this.getInitialLiveFragment(e, r), this.startPosition = this.nextLoadPosition = n ? this.hls.liveSyncPosition || n.start : t) } else t <= s && (n = r[0]); if (!n) { var l = a.lowLatencyMode ? e.partEnd : e.fragmentEnd; n = this.getFragmentAtPosition(t, l, e) } return this.mapToInitFragWhenRequired(n) }, r.isLoopLoading = function (t, e) { var r = this.fragmentTracker.getState(t); return (r === Jr || r === Qr && !!t.gap) && this.nextLoadPosition > e }, r.getNextFragmentLoopLoading = function (t, e, r, i, n) { var a = t.gap, s = this.getNextFragment(this.nextLoadPosition, e); if (null === s) return s; if (t = s, a && t && !t.gap && r.nextStart) { var o = this.getFwdBufferInfoAtPos(this.mediaBuffer ? this.mediaBuffer : this.media, r.nextStart, i); if (null !== o && r.len + o.len >= n) return this.log('buffer full after gaps in "' + i + '" playlist starting at sn: ' + t.sn), null } return t }, r.mapToInitFragWhenRequired = function (t) { return null == t || !t.initSegment || null != t && t.initSegment.data || this.bitrateTest ? t : t.initSegment }, r.getNextPart = function (t, e, r) { for (var i = -1, n = !1, a = !0, s = 0, o = t.length; s < o; s++) { var l = t[s]; if (a = a && !l.independent, i > -1 && r < l.start) break; var u = l.loaded; u ? i = -1 : (n || l.independent || a) && l.fragment === e && (i = s), n = u } return i }, r.loadedEndOfParts = function (t, e) { var r = t[t.length - 1]; return r && e > r.start && r.loaded }, r.getInitialLiveFragment = function (t, e) { var r = this.fragPrevious, i = null; if (r) { if (t.hasProgramDateTime && (this.log("Live playlist, switching playlist, load frag with same PDT: " + r.programDateTime), i = function (t, e, r) { if (null === e || !Array.isArray(t) || !t.length || !y(e)) return null; if (e < (t[0].programDateTime || 0)) return null; if (e >= (t[t.length - 1].endProgramDateTime || 0)) return null; r = r || 0; for (var i = 0; i < t.length; ++i) { var n = t[i]; if (br(e, r, n)) return n } return null }(e, r.endProgramDateTime, this.config.maxFragLookUpTolerance)), !i) { var n = r.sn + 1; if (n >= t.startSN && n <= t.endSN) { var a = e[n - t.startSN]; r.cc === a.cc && (i = a, this.log("Live playlist, switching playlist, load frag with next SN: " + i.sn)) } i || (i = function (t, e) { return Lr(t, (function (t) { return t.cc < e ? 1 : t.cc > e ? -1 : 0 })) }(e, r.cc), i && this.log("Live playlist, switching playlist, load frag with same CC: " + i.sn)) } } else { var s = this.hls.liveSyncPosition; null !== s && (i = this.getFragmentAtPosition(s, this.bitrateTest ? t.fragmentEnd : t.edge, t)) } return i }, r.getFragmentAtPosition = function (t, e, r) { var i, n = this.config, a = this.fragPrevious, s = r.fragments, o = r.endSN, l = r.fragmentHint, u = n.maxFragLookUpTolerance, h = r.partList, d = !!(n.lowLatencyMode && null != h && h.length && l); if (d && l && !this.bitrateTest && (s = s.concat(l), o = l.sn), i = t < e ? Ar(a, s, t, t > e - u ? 0 : u) : s[s.length - 1]) { var c = i.sn - r.startSN, f = this.fragmentTracker.getState(i); if ((f === Jr || f === Qr && i.gap) && (a = i), a && i.sn === a.sn && (!d || h[0].fragment.sn > i.sn) && a && i.level === a.level) { var g = s[c + 1]; i = i.sn < o && this.fragmentTracker.getState(g) !== Jr ? g : null } } return i }, r.synchronizeToLiveEdge = function (t) { var e = this.config, r = this.media; if (r) { var i = this.hls.liveSyncPosition, n = r.currentTime, a = t.fragments[0].start, s = t.edge, o = n >= a - e.maxFragLookUpTolerance && n <= s; if (null !== i && r.duration > i && (n < i || !o)) { var l = void 0 !== e.liveMaxLatencyDuration ? e.liveMaxLatencyDuration : e.liveMaxLatencyDurationCount * t.targetduration; (!o && r.readyState < 4 || n < s - l) && (this.loadedmetadata || (this.nextLoadPosition = i), r.readyState && (this.warn("Playback: " + n.toFixed(3) + " is located too far from the end of live sliding playlist: " + s + ", reset currentTime to : " + i.toFixed(3)), r.currentTime = i)) } } }, r.alignPlaylists = function (t, e, r) { var i = t.fragments.length; if (!i) return this.warn("No fragments in live playlist"), 0; var n = t.fragments[0].start, a = !e, s = t.alignedSliding && y(n); if (a || !s && !n) { var o = this.fragPrevious; oi(o, r, t); var l = t.fragments[0].start; return this.log("Live playlist sliding: " + l.toFixed(2) + " start-sn: " + (e ? e.startSN : "na") + "->" + t.startSN + " prev-sn: " + (o ? o.sn : "na") + " fragments: " + i), l } return n }, r.waitForCdnTuneIn = function (t) { return t.live && t.canBlockReload && t.partTarget && t.tuneInGoal > Math.max(t.partHoldBack, 3 * t.partTarget) }, r.setStartPosition = function (t, e) { var r = this.startPosition; if (r < e && (r = -1), -1 === r || -1 === this.lastCurrentTime) { var i = null !== this.startTimeOffset, n = i ? this.startTimeOffset : t.startTimeOffset; null !== n && y(n) ? (r = e + n, n < 0 && (r += t.totalduration), r = Math.min(Math.max(e, r), e + t.totalduration), this.log("Start time offset " + n + " found in " + (i ? "multivariant" : "media") + " playlist, adjust startPosition to " + r), this.startPosition = r) : t.live ? r = this.hls.liveSyncPosition || e : this.startPosition = r = 0, this.lastCurrentTime = r } this.nextLoadPosition = r }, r.getLoadPosition = function () { var t = this.media, e = 0; return this.loadedmetadata && t ? e = t.currentTime : this.nextLoadPosition && (e = this.nextLoadPosition), e }, r.handleFragLoadAborted = function (t, e) { this.transmuxer && "initSegment" !== t.sn && t.stats.aborted && (this.warn("Fragment " + t.sn + (e ? " part " + e.index : "") + " of level " + t.level + " was aborted"), this.resetFragmentLoading(t)) }, r.resetFragmentLoading = function (t) { this.fragCurrent && (this.fragContextChanged(t) || this.state === Ai) || (this.state = Ti) }, r.onFragmentOrKeyLoadError = function (t, e) { if (e.chunkMeta && !e.frag) { var r = this.getCurrentContext(e.chunkMeta); r && (e.frag = r.frag) } var i = e.frag; if (i && i.type === t && this.levels) if (this.fragContextChanged(i)) { var n; this.warn("Frag load error must match current frag to retry " + i.url + " > " + (null == (n = this.fragCurrent) ? void 0 : n.url)) } else { var a = e.details === A.FRAG_GAP; a && this.fragmentTracker.fragBuffered(i, !0); var s = e.errorAction, o = s || {}, l = o.action, u = o.retryCount, h = void 0 === u ? 0 : u, d = o.retryConfig; if (s && l === wr && d) { this.resetStartWhenNotLoaded(this.levelLastLoaded); var c = Er(d, h); this.warn("Fragment " + i.sn + " of " + t + " " + i.level + " errored with " + e.details + ", retrying loading " + (h + 1) + "/" + d.maxNumRetry + " in " + c + "ms"), s.resolved = !0, this.retryDate = self.performance.now() + c, this.state = Ai } else if (d && s) { if (this.resetFragmentErrors(t), !(h < d.maxNumRetry)) return void w.warn(e.details + " reached or exceeded max retry (" + h + ")"); a || l === Ir || (s.resolved = !0) } else (null == s ? void 0 : s.action) === Dr ? this.state = Ci : this.state = Ii; this.tickImmediate() } }, r.reduceLengthAndFlushBuffer = function (t) { if (this.state === bi || this.state === ki) { var e = t.frag, r = t.parent, i = this.getFwdBufferInfo(this.mediaBuffer, r), n = i && i.len > .5; n && this.reduceMaxBufferLength(i.len, (null == e ? void 0 : e.duration) || 10); var a = !n; return a && this.warn("Buffer full error while media.currentTime is not buffered, flush " + r + " buffer"), e && (this.fragmentTracker.removeFragment(e), this.nextLoadPosition = e.start), this.resetLoadingState(), a } return !1 }, r.resetFragmentErrors = function (t) { t === Me && (this.fragCurrent = null), this.loadedmetadata || (this.startFragRequested = !1), this.state !== Ei && (this.state = Ti) }, r.afterBufferFlushed = function (t, e, r) { if (t) { var i = ri.getBuffered(t); this.fragmentTracker.detectEvictedFragments(e, i, r), this.state === Di && this.resetLoadingState() } }, r.resetLoadingState = function () { this.log("Reset loading state"), this.fragCurrent = null, this.fragPrevious = null, this.state = Ti }, r.resetStartWhenNotLoaded = function (t) { if (!this.loadedmetadata) { this.startFragRequested = !1; var e = t ? t.details : null; null != e && e.live ? (this.startPosition = -1, this.setStartPosition(e, 0), this.resetLoadingState()) : this.nextLoadPosition = this.startPosition } }, r.resetWhenMissingContext = function (t) { this.warn("The loading context changed while buffering fragment " + t.sn + " of level " + t.level + ". This chunk will not be buffered."), this.removeUnbufferedFrags(), this.resetStartWhenNotLoaded(this.levelLastLoaded), this.resetLoadingState() }, r.removeUnbufferedFrags = function (t) { void 0 === t && (t = 0), this.fragmentTracker.removeFragmentsInRange(t, 1 / 0, this.playlistType, !1, !0) }, r.updateLevelTiming = function (t, e, r, i) { var n, a = this, s = r.details; if (s) { if (!Object.keys(t.elementaryStreams).reduce((function (e, n) { var o = t.elementaryStreams[n]; if (o) { var l = o.endPTS - o.startPTS; if (l <= 0) return a.warn("Could not parse fragment " + t.sn + " " + n + " duration reliably (" + l + ")"), e || !1; var u = i ? 0 : hr(s, t, o.startPTS, o.endPTS, o.startDTS, o.endDTS); return a.hls.trigger(S.LEVEL_PTS_UPDATED, { details: s, level: r, drift: u, type: n, frag: t, start: o.startPTS, end: o.endPTS }), !0 } return e }), !1) && null === (null == (n = this.transmuxer) ? void 0 : n.error)) { var o = new Error("Found no media in fragment " + t.sn + " of level " + t.level + " resetting transmuxer to fallback to playlist timing"); if (0 === r.fragmentError && (r.fragmentError++, t.gap = !0, this.fragmentTracker.removeFragment(t), this.fragmentTracker.fragBuffered(t, !0)), this.warn(o.message), this.hls.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_PARSING_ERROR, fatal: !1, error: o, frag: t, reason: "Found no media in msn " + t.sn + ' of level "' + r.url + '"' }), !this.hls) return; this.resetTransmuxer() } this.state = ki, this.hls.trigger(S.FRAG_PARSED, { frag: t, part: e }) } else this.warn("level.details undefined") }, r.resetTransmuxer = function () { this.transmuxer && (this.transmuxer.destroy(), this.transmuxer = null) }, r.recoverWorkerError = function (t) { "demuxerWorker" === t.event && (this.fragmentTracker.removeAllFragments(), this.resetTransmuxer(), this.resetStartWhenNotLoaded(this.levelLastLoaded), this.resetLoadingState()) }, s(e, [{ key: "state", get: function () { return this._state }, set: function (t) { var e = this._state; e !== t && (this._state = t, this.log(e + "->" + t)) } }]), e }(qr), xi = function () { function t() { this.chunks = [], this.dataLength = 0 } var e = t.prototype; return e.push = function (t) { this.chunks.push(t), this.dataLength += t.length }, e.flush = function () { var t, e = this.chunks, r = this.dataLength; return e.length ? (t = 1 === e.length ? e[0] : function (t, e) { for (var r = new Uint8Array(e), i = 0, n = 0; n < t.length; n++) { var a = t[n]; r.set(a, i), i += a.length } return r }(e, r), this.reset(), t) : new Uint8Array(0) }, e.reset = function () { this.chunks.length = 0, this.dataLength = 0 }, t }(); function Pi(t, e) { return void 0 === t && (t = ""), void 0 === e && (e = 9e4), { type: t, id: -1, pid: -1, inputTimeScale: e, sequenceNumber: -1, samples: [], dropped: 0 } } var Fi = function () { function t() { this._audioTrack = void 0, this._id3Track = void 0, this.frameIndex = 0, this.cachedData = null, this.basePTS = null, this.initPTS = null, this.lastPTS = null } var e = t.prototype; return e.resetInitSegment = function (t, e, r, i) { this._id3Track = { type: "id3", id: 3, pid: -1, inputTimeScale: 9e4, sequenceNumber: 0, samples: [], dropped: 0 } }, e.resetTimeStamp = function (t) { this.initPTS = t, this.resetContiguity() }, e.resetContiguity = function () { this.basePTS = null, this.lastPTS = null, this.frameIndex = 0 }, e.canParse = function (t, e) { return !1 }, e.appendFrame = function (t, e, r) { }, e.demux = function (t, e) { this.cachedData && (t = Wt(this.cachedData, t), this.cachedData = null); var r, i = ct(t, 0), n = i ? i.length : 0, a = this._audioTrack, s = this._id3Track, o = i ? vt(i) : void 0, l = t.length; for ((null === this.basePTS || 0 === this.frameIndex && y(o)) && (this.basePTS = Mi(o, e, this.initPTS), this.lastPTS = this.basePTS), null === this.lastPTS && (this.lastPTS = this.basePTS), i && i.length > 0 && s.samples.push({ pts: this.lastPTS, dts: this.lastPTS, data: i, type: We, duration: Number.POSITIVE_INFINITY }); n < l;) { if (this.canParse(t, n)) { var u = this.appendFrame(a, t, n); u ? (this.frameIndex++, this.lastPTS = u.sample.pts, r = n += u.length) : n = l } else gt(t, n) ? (i = ct(t, n), s.samples.push({ pts: this.lastPTS, dts: this.lastPTS, data: i, type: We, duration: Number.POSITIVE_INFINITY }), r = n += i.length) : n++; if (n === l && r !== l) { var h = lt(t, r); this.cachedData ? this.cachedData = Wt(this.cachedData, h) : this.cachedData = h } } return { audioTrack: a, videoTrack: Pi(), id3Track: s, textTrack: Pi() } }, e.demuxSampleAes = function (t, e, r) { return Promise.reject(new Error("[" + this + "] This demuxer does not support Sample-AES decryption")) }, e.flush = function (t) { var e = this.cachedData; return e && (this.cachedData = null, this.demux(e, 0)), { audioTrack: this._audioTrack, videoTrack: Pi(), id3Track: this._id3Track, textTrack: Pi() } }, e.destroy = function () { }, t }(), Mi = function (t, e, r) { return y(t) ? 90 * t : 9e4 * e + (r ? 9e4 * r.baseTime / r.timescale : 0) }; function Oi(t, e) { return 255 === t[e] && 240 == (246 & t[e + 1]) } function Ni(t, e) { return 1 & t[e + 1] ? 7 : 9 } function Ui(t, e) { return (3 & t[e + 3]) << 11 | t[e + 4] << 3 | (224 & t[e + 5]) >>> 5 } function Bi(t, e) { return e + 1 < t.length && Oi(t, e) } function Gi(t, e) { if (Bi(t, e)) { var r = Ni(t, e); if (e + r >= t.length) return !1; var i = Ui(t, e); if (i <= r) return !1; var n = e + i; return n === t.length || Bi(t, n) } return !1 } function Ki(t, e, r, i, n) { if (!t.samplerate) { var a = function (t, e, r, i) { var n, a, s, o, l = navigator.userAgent.toLowerCase(), u = i, h = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350]; n = 1 + ((192 & e[r + 2]) >>> 6); var d = (60 & e[r + 2]) >>> 2; if (!(d > h.length - 1)) return s = (1 & e[r + 2]) << 2, s |= (192 & e[r + 3]) >>> 6, w.log("manifest codec:" + i + ", ADTS type:" + n + ", samplingIndex:" + d), /firefox/i.test(l) ? d >= 6 ? (n = 5, o = new Array(4), a = d - 3) : (n = 2, o = new Array(2), a = d) : -1 !== l.indexOf("android") ? (n = 2, o = new Array(2), a = d) : (n = 5, o = new Array(4), i && (-1 !== i.indexOf("mp4a.40.29") || -1 !== i.indexOf("mp4a.40.5")) || !i && d >= 6 ? a = d - 3 : ((i && -1 !== i.indexOf("mp4a.40.2") && (d >= 6 && 1 === s || /vivaldi/i.test(l)) || !i && 1 === s) && (n = 2, o = new Array(2)), a = d)), o[0] = n << 3, o[0] |= (14 & d) >> 1, o[1] |= (1 & d) << 7, o[1] |= s << 3, 5 === n && (o[1] |= (14 & a) >> 1, o[2] = (1 & a) << 7, o[2] |= 8, o[3] = 0), { config: o, samplerate: h[d], channelCount: s, codec: "mp4a.40." + n, manifestCodec: u }; var c = new Error("invalid ADTS sampling index:" + d); t.emit(S.ERROR, S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_PARSING_ERROR, fatal: !0, error: c, reason: c.message }) }(e, r, i, n); if (!a) return; t.config = a.config, t.samplerate = a.samplerate, t.channelCount = a.channelCount, t.codec = a.codec, t.manifestCodec = a.manifestCodec, w.log("parsed codec:" + t.codec + ", rate:" + a.samplerate + ", channels:" + a.channelCount) } } function Hi(t) { return 9216e4 / t } function Vi(t, e, r, i, n) { var a, s = i + n * Hi(t.samplerate), o = function (t, e) { var r = Ni(t, e); if (e + r <= t.length) { var i = Ui(t, e) - r; if (i > 0) return { headerLength: r, frameLength: i } } }(e, r); if (o) { var l = o.frameLength, u = o.headerLength, h = u + l, d = Math.max(0, r + h - e.length); d ? (a = new Uint8Array(h - u)).set(e.subarray(r + u, e.length), 0) : a = e.subarray(r + u, r + h); var c = { unit: a, pts: s }; return d || t.samples.push(c), { sample: c, length: h, missing: d } } var f = e.length - r; return (a = new Uint8Array(f)).set(e.subarray(r, e.length), 0), { sample: { unit: a, pts: s }, length: f, missing: -1 } } var Yi = null, Wi = [32, 64, 96, 128, 160, 192, 224, 256, 288, 320, 352, 384, 416, 448, 32, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 384, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 32, 48, 56, 64, 80, 96, 112, 128, 144, 160, 176, 192, 224, 256, 8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160], ji = [44100, 48e3, 32e3, 22050, 24e3, 16e3, 11025, 12e3, 8e3], qi = [[0, 72, 144, 12], [0, 0, 0, 0], [0, 72, 144, 12], [0, 144, 144, 12]], Xi = [0, 1, 1, 4]; function zi(t, e, r, i, n) { if (!(r + 24 > e.length)) { var a = Qi(e, r); if (a && r + a.frameLength <= e.length) { var s = i + n * (9e4 * a.samplesPerFrame / a.sampleRate), o = { unit: e.subarray(r, r + a.frameLength), pts: s, dts: s }; return t.config = [], t.channelCount = a.channelCount, t.samplerate = a.sampleRate, t.samples.push(o), { sample: o, length: a.frameLength, missing: 0 } } } } function Qi(t, e) { var r = t[e + 1] >> 3 & 3, i = t[e + 1] >> 1 & 3, n = t[e + 2] >> 4 & 15, a = t[e + 2] >> 2 & 3; if (1 !== r && 0 !== n && 15 !== n && 3 !== a) { var s = t[e + 2] >> 1 & 1, o = t[e + 3] >> 6, l = 1e3 * Wi[14 * (3 === r ? 3 - i : 3 === i ? 3 : 4) + n - 1], u = ji[3 * (3 === r ? 0 : 2 === r ? 1 : 2) + a], h = 3 === o ? 1 : 2, d = qi[r][i], c = Xi[i], f = 8 * d * c, g = Math.floor(d * l / u + s) * c; if (null === Yi) { var v = (navigator.userAgent || "").match(/Chrome\/(\d+)/i); Yi = v ? parseInt(v[1]) : 0 } return !!Yi && Yi <= 87 && 2 === i && l >= 224e3 && 0 === o && (t[e + 3] = 128 | t[e + 3]), { sampleRate: u, channelCount: h, frameLength: g, samplesPerFrame: f } } } function Ji(t, e) { return 255 === t[e] && 224 == (224 & t[e + 1]) && 0 != (6 & t[e + 1]) } function $i(t, e) { return e + 1 < t.length && Ji(t, e) } function Zi(t, e) { if (e + 1 < t.length && Ji(t, e)) { var r = Qi(t, e), i = 4; null != r && r.frameLength && (i = r.frameLength); var n = e + i; return n === t.length || $i(t, n) } return !1 } var tn = function (t) { function e(e, r) { var i; return (i = t.call(this) || this).observer = void 0, i.config = void 0, i.observer = e, i.config = r, i } l(e, t); var r = e.prototype; return r.resetInitSegment = function (e, r, i, n) { t.prototype.resetInitSegment.call(this, e, r, i, n), this._audioTrack = { container: "audio/adts", type: "audio", id: 2, pid: -1, sequenceNumber: 0, segmentCodec: "aac", samples: [], manifestCodec: r, duration: n, inputTimeScale: 9e4, dropped: 0 } }, e.probe = function (t) { if (!t) return !1; var e = ct(t, 0), r = (null == e ? void 0 : e.length) || 0; if (Zi(t, r)) return !1; for (var i = t.length; r < i; r++)if (Gi(t, r)) return w.log("ADTS sync word found !"), !0; return !1 }, r.canParse = function (t, e) { return function (t, e) { return function (t, e) { return e + 5 < t.length }(t, e) && Oi(t, e) && Ui(t, e) <= t.length - e }(t, e) }, r.appendFrame = function (t, e, r) { Ki(t, this.observer, e, r, t.manifestCodec); var i = Vi(t, e, r, this.basePTS, this.frameIndex); if (i && 0 === i.missing) return i }, e }(Fi), en = /\/emsg[-/]ID3/i, rn = function () { function t(t, e) { this.remainderData = null, this.timeOffset = 0, this.config = void 0, this.videoTrack = void 0, this.audioTrack = void 0, this.id3Track = void 0, this.txtTrack = void 0, this.config = e } var e = t.prototype; return e.resetTimeStamp = function () { }, e.resetInitSegment = function (t, e, r, i) { var n = this.videoTrack = Pi("video", 1), a = this.audioTrack = Pi("audio", 1), s = this.txtTrack = Pi("text", 1); if (this.id3Track = Pi("id3", 1), this.timeOffset = 0, null != t && t.byteLength) { var o = Ut(t); if (o.video) { var l = o.video, u = l.id, h = l.timescale, d = l.codec; n.id = u, n.timescale = s.timescale = h, n.codec = d } if (o.audio) { var c = o.audio, f = c.id, g = c.timescale, v = c.codec; a.id = f, a.timescale = g, a.codec = v } s.id = wt.text, n.sampleDuration = 0, n.duration = a.duration = i } }, e.resetContiguity = function () { this.remainderData = null }, t.probe = function (t) { return function (t) { for (var e = t.byteLength, r = 0; r < e;) { var i = xt(t, r); if (i > 8 && 109 === t[r + 4] && 111 === t[r + 5] && 111 === t[r + 6] && 102 === t[r + 7]) return !0; r = i > 1 ? r + i : e } return !1 }(t) }, e.demux = function (t, e) { this.timeOffset = e; var r = t, i = this.videoTrack, n = this.txtTrack; if (this.config.progressive) { this.remainderData && (r = Wt(this.remainderData, t)); var a = function (t) { var e = { valid: null, remainder: null }, r = Ot(t, ["moof"]); if (r.length < 2) return e.remainder = t, e; var i = r[r.length - 1]; return e.valid = lt(t, 0, i.byteOffset - 8), e.remainder = lt(t, i.byteOffset - 8), e }(r); this.remainderData = a.remainder, i.samples = a.valid || new Uint8Array } else i.samples = r; var s = this.extractID3Track(i, e); return n.samples = jt(e, i), { videoTrack: i, audioTrack: this.audioTrack, id3Track: s, textTrack: this.txtTrack } }, e.flush = function () { var t = this.timeOffset, e = this.videoTrack, r = this.txtTrack; e.samples = this.remainderData || new Uint8Array, this.remainderData = null; var i = this.extractID3Track(e, this.timeOffset); return r.samples = jt(t, e), { videoTrack: e, audioTrack: Pi(), id3Track: i, textTrack: Pi() } }, e.extractID3Track = function (t, e) { var r = this.id3Track; if (t.samples.length) { var i = Ot(t.samples, ["emsg"]); i && i.forEach((function (t) { var i = function (t) { var e = t[0], r = "", i = "", n = 0, a = 0, s = 0, o = 0, l = 0, u = 0; if (0 === e) { for (; "\0" !== Ct(t.subarray(u, u + 1));)r += Ct(t.subarray(u, u + 1)), u += 1; for (r += Ct(t.subarray(u, u + 1)), u += 1; "\0" !== Ct(t.subarray(u, u + 1));)i += Ct(t.subarray(u, u + 1)), u += 1; i += Ct(t.subarray(u, u + 1)), u += 1, n = xt(t, 12), a = xt(t, 16), o = xt(t, 20), l = xt(t, 24), u = 28 } else if (1 === e) { n = xt(t, u += 4); var h = xt(t, u += 4), d = xt(t, u += 4); for (u += 4, s = Math.pow(2, 32) * h + d, E(s) || (s = Number.MAX_SAFE_INTEGER, w.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")), o = xt(t, u), l = xt(t, u += 4), u += 4; "\0" !== Ct(t.subarray(u, u + 1));)r += Ct(t.subarray(u, u + 1)), u += 1; for (r += Ct(t.subarray(u, u + 1)), u += 1; "\0" !== Ct(t.subarray(u, u + 1));)i += Ct(t.subarray(u, u + 1)), u += 1; i += Ct(t.subarray(u, u + 1)), u += 1 } return { schemeIdUri: r, value: i, timeScale: n, presentationTime: s, presentationTimeDelta: a, eventDuration: o, id: l, payload: t.subarray(u, t.byteLength) } }(t); if (en.test(i.schemeIdUri)) { var n = y(i.presentationTime) ? i.presentationTime / i.timeScale : e + i.presentationTimeDelta / i.timeScale, a = 4294967295 === i.eventDuration ? Number.POSITIVE_INFINITY : i.eventDuration / i.timeScale; a <= .001 && (a = Number.POSITIVE_INFINITY); var s = i.payload; r.samples.push({ data: s, len: s.byteLength, dts: n, pts: n, type: qe, duration: a }) } })) } return r }, e.demuxSampleAes = function (t, e, r) { return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption")) }, e.destroy = function () { }, t }(), nn = function (t, e) { var r = 0, i = 5; e += i; for (var n = new Uint32Array(1), a = new Uint32Array(1), s = new Uint8Array(1); i > 0;) { s[0] = t[e]; var o = Math.min(i, 8), l = 8 - o; a[0] = 4278190080 >>> 24 + l << l, n[0] = (s[0] & a[0]) >> l, r = r ? r << o | n[0] : n[0], e += 1, i -= o } return r }, an = function (t) { function e(e) { var r; return (r = t.call(this) || this).observer = void 0, r.observer = e, r } l(e, t); var r = e.prototype; return r.resetInitSegment = function (e, r, i, n) { t.prototype.resetInitSegment.call(this, e, r, i, n), this._audioTrack = { container: "audio/ac-3", type: "audio", id: 2, pid: -1, sequenceNumber: 0, segmentCodec: "ac3", samples: [], manifestCodec: r, duration: n, inputTimeScale: 9e4, dropped: 0 } }, r.canParse = function (t, e) { return e + 64 < t.length }, r.appendFrame = function (t, e, r) { var i = sn(t, e, r, this.basePTS, this.frameIndex); if (-1 !== i) return { sample: t.samples[t.samples.length - 1], length: i, missing: 0 } }, e.probe = function (t) { if (!t) return !1; var e = ct(t, 0); if (!e) return !1; var r = e.length; return 11 === t[r] && 119 === t[r + 1] && void 0 !== vt(e) && nn(t, r) < 16 }, e }(Fi); function sn(t, e, r, i, n) { if (r + 8 > e.length) return -1; if (11 !== e[r] || 119 !== e[r + 1]) return -1; var a = e[r + 4] >> 6; if (a >= 3) return -1; var s = [48e3, 44100, 32e3][a], o = 63 & e[r + 4], l = 2 * [64, 69, 96, 64, 70, 96, 80, 87, 120, 80, 88, 120, 96, 104, 144, 96, 105, 144, 112, 121, 168, 112, 122, 168, 128, 139, 192, 128, 140, 192, 160, 174, 240, 160, 175, 240, 192, 208, 288, 192, 209, 288, 224, 243, 336, 224, 244, 336, 256, 278, 384, 256, 279, 384, 320, 348, 480, 320, 349, 480, 384, 417, 576, 384, 418, 576, 448, 487, 672, 448, 488, 672, 512, 557, 768, 512, 558, 768, 640, 696, 960, 640, 697, 960, 768, 835, 1152, 768, 836, 1152, 896, 975, 1344, 896, 976, 1344, 1024, 1114, 1536, 1024, 1115, 1536, 1152, 1253, 1728, 1152, 1254, 1728, 1280, 1393, 1920, 1280, 1394, 1920][3 * o + a]; if (r + l > e.length) return -1; var u = e[r + 6] >> 5, h = 0; 2 === u ? h += 2 : (1 & u && 1 !== u && (h += 2), 4 & u && (h += 2)); var d = (e[r + 6] << 8 | e[r + 7]) >> 12 - h & 1, c = [2, 1, 2, 3, 3, 4, 4, 5][u] + d, f = e[r + 5] >> 3, g = 7 & e[r + 5], v = new Uint8Array([a << 6 | f << 1 | g >> 2, (3 & g) << 6 | u << 3 | d << 2 | o >> 4, o << 4 & 224]), m = i + n * (1536 / s * 9e4), p = e.subarray(r, r + l); return t.config = v, t.channelCount = c, t.samplerate = s, t.samples.push({ unit: p, pts: m }), l } var on = function () { function t() { this.VideoSample = null } var e = t.prototype; return e.createVideoSample = function (t, e, r, i) { return { key: t, frame: !1, pts: e, dts: r, units: [], debug: i, length: 0 } }, e.getLastNalUnit = function (t) { var e, r, i = this.VideoSample; if (i && 0 !== i.units.length || (i = t[t.length - 1]), null != (e = i) && e.units) { var n = i.units; r = n[n.length - 1] } return r }, e.pushAccessUnit = function (t, e) { if (t.units.length && t.frame) { if (void 0 === t.pts) { var r = e.samples, i = r.length; if (!i) return void e.dropped++; var n = r[i - 1]; t.pts = n.pts, t.dts = n.dts } e.samples.push(t) } t.debug.length && w.log(t.pts + "/" + t.dts + ":" + t.debug) }, t }(), ln = function () { function t(t) { this.data = void 0, this.bytesAvailable = void 0, this.word = void 0, this.bitsAvailable = void 0, this.data = t, this.bytesAvailable = t.byteLength, this.word = 0, this.bitsAvailable = 0 } var e = t.prototype; return e.loadWord = function () { var t = this.data, e = this.bytesAvailable, r = t.byteLength - e, i = new Uint8Array(4), n = Math.min(4, e); if (0 === n) throw new Error("no bytes available"); i.set(t.subarray(r, r + n)), this.word = new DataView(i.buffer).getUint32(0), this.bitsAvailable = 8 * n, this.bytesAvailable -= n }, e.skipBits = function (t) { var e; t = Math.min(t, 8 * this.bytesAvailable + this.bitsAvailable), this.bitsAvailable > t ? (this.word <<= t, this.bitsAvailable -= t) : (t -= this.bitsAvailable, t -= (e = t >> 3) << 3, this.bytesAvailable -= e, this.loadWord(), this.word <<= t, this.bitsAvailable -= t) }, e.readBits = function (t) { var e = Math.min(this.bitsAvailable, t), r = this.word >>> 32 - e; if (t > 32 && w.error("Cannot read more than 32 bits at a time"), this.bitsAvailable -= e, this.bitsAvailable > 0) this.word <<= e; else { if (!(this.bytesAvailable > 0)) throw new Error("no bits available"); this.loadWord() } return (e = t - e) > 0 && this.bitsAvailable ? r << e | this.readBits(e) : r }, e.skipLZ = function () { var t; for (t = 0; t < this.bitsAvailable; ++t)if (0 != (this.word & 2147483648 >>> t)) return this.word <<= t, this.bitsAvailable -= t, t; return this.loadWord(), t + this.skipLZ() }, e.skipUEG = function () { this.skipBits(1 + this.skipLZ()) }, e.skipEG = function () { this.skipBits(1 + this.skipLZ()) }, e.readUEG = function () { var t = this.skipLZ(); return this.readBits(t + 1) - 1 }, e.readEG = function () { var t = this.readUEG(); return 1 & t ? 1 + t >>> 1 : -1 * (t >>> 1) }, e.readBoolean = function () { return 1 === this.readBits(1) }, e.readUByte = function () { return this.readBits(8) }, e.readUShort = function () { return this.readBits(16) }, e.readUInt = function () { return this.readBits(32) }, e.skipScalingList = function (t) { for (var e = 8, r = 8, i = 0; i < t; i++)0 !== r && (r = (e + this.readEG() + 256) % 256), e = 0 === r ? e : r }, e.readSPS = function () { var t, e, r, i = 0, n = 0, a = 0, s = 0, o = this.readUByte.bind(this), l = this.readBits.bind(this), u = this.readUEG.bind(this), h = this.readBoolean.bind(this), d = this.skipBits.bind(this), c = this.skipEG.bind(this), f = this.skipUEG.bind(this), g = this.skipScalingList.bind(this); o(); var v = o(); if (l(5), d(3), o(), f(), 100 === v || 110 === v || 122 === v || 244 === v || 44 === v || 83 === v || 86 === v || 118 === v || 128 === v) { var m = u(); if (3 === m && d(1), f(), f(), d(1), h()) for (e = 3 !== m ? 8 : 12, r = 0; r < e; r++)h() && g(r < 6 ? 16 : 64) } f(); var p = u(); if (0 === p) u(); else if (1 === p) for (d(1), c(), c(), t = u(), r = 0; r < t; r++)c(); f(), d(1); var y = u(), E = u(), T = l(1); 0 === T && d(1), d(1), h() && (i = u(), n = u(), a = u(), s = u()); var S = [1, 1]; if (h() && h()) switch (o()) { case 1: S = [1, 1]; break; case 2: S = [12, 11]; break; case 3: S = [10, 11]; break; case 4: S = [16, 11]; break; case 5: S = [40, 33]; break; case 6: S = [24, 11]; break; case 7: S = [20, 11]; break; case 8: S = [32, 11]; break; case 9: S = [80, 33]; break; case 10: S = [18, 11]; break; case 11: S = [15, 11]; break; case 12: S = [64, 33]; break; case 13: S = [160, 99]; break; case 14: S = [4, 3]; break; case 15: S = [3, 2]; break; case 16: S = [2, 1]; break; case 255: S = [o() << 8 | o(), o() << 8 | o()] }return { width: Math.ceil(16 * (y + 1) - 2 * i - 2 * n), height: (2 - T) * (E + 1) * 16 - (T ? 2 : 4) * (a + s), pixelRatio: S } }, e.readSliceType = function () { return this.readUByte(), this.readUEG(), this.readUEG() }, t }(), un = function (t) { function e() { return t.apply(this, arguments) || this } l(e, t); var r = e.prototype; return r.parseAVCPES = function (t, e, r, i, n) { var a, s = this, o = this.parseAVCNALu(t, r.data), l = this.VideoSample, u = !1; r.data = null, l && o.length && !t.audFound && (this.pushAccessUnit(l, t), l = this.VideoSample = this.createVideoSample(!1, r.pts, r.dts, "")), o.forEach((function (i) { var o; switch (i.type) { case 1: var h = !1; a = !0; var d, c = i.data; if (u && c.length > 4) { var f = new ln(c).readSliceType(); 2 !== f && 4 !== f && 7 !== f && 9 !== f || (h = !0) } h && null != (d = l) && d.frame && !l.key && (s.pushAccessUnit(l, t), l = s.VideoSample = null), l || (l = s.VideoSample = s.createVideoSample(!0, r.pts, r.dts, "")), l.frame = !0, l.key = h; break; case 5: a = !0, null != (o = l) && o.frame && !l.key && (s.pushAccessUnit(l, t), l = s.VideoSample = null), l || (l = s.VideoSample = s.createVideoSample(!0, r.pts, r.dts, "")), l.key = !0, l.frame = !0; break; case 6: a = !0, Xt(i.data, 1, r.pts, e.samples); break; case 7: var g, v; a = !0, u = !0; var m = i.data, p = new ln(m).readSPS(); if (!t.sps || t.width !== p.width || t.height !== p.height || (null == (g = t.pixelRatio) ? void 0 : g[0]) !== p.pixelRatio[0] || (null == (v = t.pixelRatio) ? void 0 : v[1]) !== p.pixelRatio[1]) { t.width = p.width, t.height = p.height, t.pixelRatio = p.pixelRatio, t.sps = [m], t.duration = n; for (var y = m.subarray(1, 4), E = "avc1.", T = 0; T < 3; T++) { var S = y[T].toString(16); S.length < 2 && (S = "0" + S), E += S } t.codec = E } break; case 8: a = !0, t.pps = [i.data]; break; case 9: a = !0, t.audFound = !0, l && s.pushAccessUnit(l, t), l = s.VideoSample = s.createVideoSample(!1, r.pts, r.dts, ""); break; case 12: a = !0; break; default: a = !1, l && (l.debug += "unknown NAL " + i.type + " ") }l && a && l.units.push(i) })), i && l && (this.pushAccessUnit(l, t), this.VideoSample = null) }, r.parseAVCNALu = function (t, e) { var r, i, n = e.byteLength, a = t.naluState || 0, s = a, o = [], l = 0, u = -1, h = 0; for (-1 === a && (u = 0, h = 31 & e[0], a = 0, l = 1); l < n;)if (r = e[l++], a) if (1 !== a) if (r) if (1 === r) { if (i = l - a - 1, u >= 0) { var d = { data: e.subarray(u, i), type: h }; o.push(d) } else { var c = this.getLastNalUnit(t.samples); c && (s && l <= 4 - s && c.state && (c.data = c.data.subarray(0, c.data.byteLength - s)), i > 0 && (c.data = Wt(c.data, e.subarray(0, i)), c.state = 0)) } l < n ? (u = l, h = 31 & e[l], a = 0) : a = -1 } else a = 0; else a = 3; else a = r ? 0 : 2; else a = r ? 0 : 1; if (u >= 0 && a >= 0) { var f = { data: e.subarray(u, n), type: h, state: a }; o.push(f) } if (0 === o.length) { var g = this.getLastNalUnit(t.samples); g && (g.data = Wt(g.data, e)) } return t.naluState = a, o }, e }(on), hn = function () { function t(t, e, r) { this.keyData = void 0, this.decrypter = void 0, this.keyData = r, this.decrypter = new pi(e, { removePKCS7Padding: !1 }) } var e = t.prototype; return e.decryptBuffer = function (t) { return this.decrypter.decrypt(t, this.keyData.key.buffer, this.keyData.iv.buffer) }, e.decryptAacSample = function (t, e, r) { var i = this, n = t[e].unit; if (!(n.length <= 16)) { var a = n.subarray(16, n.length - n.length % 16), s = a.buffer.slice(a.byteOffset, a.byteOffset + a.length); this.decryptBuffer(s).then((function (a) { var s = new Uint8Array(a); n.set(s, 16), i.decrypter.isSync() || i.decryptAacSamples(t, e + 1, r) })) } }, e.decryptAacSamples = function (t, e, r) { for (; ; e++) { if (e >= t.length) return void r(); if (!(t[e].unit.length < 32 || (this.decryptAacSample(t, e, r), this.decrypter.isSync()))) return } }, e.getAvcEncryptedData = function (t) { for (var e = 16 * Math.floor((t.length - 48) / 160) + 16, r = new Int8Array(e), i = 0, n = 32; n < t.length - 16; n += 160, i += 16)r.set(t.subarray(n, n + 16), i); return r }, e.getAvcDecryptedUnit = function (t, e) { for (var r = new Uint8Array(e), i = 0, n = 32; n < t.length - 16; n += 160, i += 16)t.set(r.subarray(i, i + 16), n); return t }, e.decryptAvcSample = function (t, e, r, i, n) { var a = this, s = zt(n.data), o = this.getAvcEncryptedData(s); this.decryptBuffer(o.buffer).then((function (o) { n.data = a.getAvcDecryptedUnit(s, o), a.decrypter.isSync() || a.decryptAvcSamples(t, e, r + 1, i) })) }, e.decryptAvcSamples = function (t, e, r, i) { if (t instanceof Uint8Array) throw new Error("Cannot decrypt samples of type Uint8Array"); for (; ; e++, r = 0) { if (e >= t.length) return void i(); for (var n = t[e].units; !(r >= n.length); r++) { var a = n[r]; if (!(a.data.length <= 48 || 1 !== a.type && 5 !== a.type || (this.decryptAvcSample(t, e, r, i, a), this.decrypter.isSync()))) return } } }, t }(), dn = 188, cn = function () { function t(t, e, r) { this.observer = void 0, this.config = void 0, this.typeSupported = void 0, this.sampleAes = null, this.pmtParsed = !1, this.audioCodec = void 0, this.videoCodec = void 0, this._duration = 0, this._pmtId = -1, this._videoTrack = void 0, this._audioTrack = void 0, this._id3Track = void 0, this._txtTrack = void 0, this.aacOverFlow = null, this.remainderData = null, this.videoParser = void 0, this.observer = t, this.config = e, this.typeSupported = r, this.videoParser = new un } t.probe = function (e) { var r = t.syncOffset(e); return r > 0 && w.warn("MPEG2-TS detected but first sync word found @ offset " + r), -1 !== r }, t.syncOffset = function (t) { for (var e = t.length, r = Math.min(940, e - dn) + 1, i = 0; i < r;) { for (var n = !1, a = -1, s = 0, o = i; o < e; o += dn) { if (71 !== t[o] || e - o !== dn && 71 !== t[o + dn]) { if (s) return -1; break } if (s++, -1 === a && 0 !== (a = o) && (r = Math.min(a + 18612, t.length - dn) + 1), n || (n = 0 === fn(t, o)), n && s > 1 && (0 === a && s > 2 || o + dn > r)) return a } i++ } return -1 }, t.createTrack = function (t, e) { return { container: "video" === t || "audio" === t ? "video/mp2t" : void 0, type: t, id: wt[t], pid: -1, inputTimeScale: 9e4, sequenceNumber: 0, samples: [], dropped: 0, duration: "audio" === t ? e : void 0 } }; var e = t.prototype; return e.resetInitSegment = function (e, r, i, n) { this.pmtParsed = !1, this._pmtId = -1, this._videoTrack = t.createTrack("video"), this._audioTrack = t.createTrack("audio", n), this._id3Track = t.createTrack("id3"), this._txtTrack = t.createTrack("text"), this._audioTrack.segmentCodec = "aac", this.aacOverFlow = null, this.remainderData = null, this.audioCodec = r, this.videoCodec = i, this._duration = n }, e.resetTimeStamp = function () { }, e.resetContiguity = function () { var t = this._audioTrack, e = this._videoTrack, r = this._id3Track; t && (t.pesData = null), e && (e.pesData = null), r && (r.pesData = null), this.aacOverFlow = null, this.remainderData = null }, e.demux = function (e, r, i, n) { var a; void 0 === i && (i = !1), void 0 === n && (n = !1), i || (this.sampleAes = null); var s = this._videoTrack, o = this._audioTrack, l = this._id3Track, u = this._txtTrack, h = s.pid, d = s.pesData, c = o.pid, f = l.pid, g = o.pesData, v = l.pesData, m = null, p = this.pmtParsed, y = this._pmtId, E = e.length; if (this.remainderData && (E = (e = Wt(this.remainderData, e)).length, this.remainderData = null), E < dn && !n) return this.remainderData = e, { audioTrack: o, videoTrack: s, id3Track: l, textTrack: u }; var T = Math.max(0, t.syncOffset(e)); (E -= (E - T) % dn) < e.byteLength && !n && (this.remainderData = new Uint8Array(e.buffer, E, e.buffer.byteLength - E)); for (var S = 0, L = T; L < E; L += dn)if (71 === e[L]) { var A = !!(64 & e[L + 1]), R = fn(e, L), b = void 0; if ((48 & e[L + 3]) >> 4 > 1) { if ((b = L + 5 + e[L + 4]) === L + dn) continue } else b = L + 4; switch (R) { case h: A && (d && (a = yn(d)) && this.videoParser.parseAVCPES(s, u, a, !1, this._duration), d = { data: [], size: 0 }), d && (d.data.push(e.subarray(b, L + dn)), d.size += L + dn - b); break; case c: if (A) { if (g && (a = yn(g))) switch (o.segmentCodec) { case "aac": this.parseAACPES(o, a); break; case "mp3": this.parseMPEGPES(o, a); break; case "ac3": this.parseAC3PES(o, a) }g = { data: [], size: 0 } } g && (g.data.push(e.subarray(b, L + dn)), g.size += L + dn - b); break; case f: A && (v && (a = yn(v)) && this.parseID3PES(l, a), v = { data: [], size: 0 }), v && (v.data.push(e.subarray(b, L + dn)), v.size += L + dn - b); break; case 0: A && (b += e[b] + 1), y = this._pmtId = gn(e, b); break; case y: A && (b += e[b] + 1); var k = vn(e, b, this.typeSupported, i, this.observer); (h = k.videoPid) > 0 && (s.pid = h, s.segmentCodec = k.segmentVideoCodec), (c = k.audioPid) > 0 && (o.pid = c, o.segmentCodec = k.segmentAudioCodec), (f = k.id3Pid) > 0 && (l.pid = f), null === m || p || (w.warn("MPEG-TS PMT found at " + L + " after unknown PID '" + m + "'. Backtracking to sync byte @" + T + " to parse all TS packets."), m = null, L = T - 188), p = this.pmtParsed = !0; break; case 17: case 8191: break; default: m = R } } else S++; S > 0 && mn(this.observer, new Error("Found " + S + " TS packet/s that do not start with 0x47")), s.pesData = d, o.pesData = g, l.pesData = v; var D = { audioTrack: o, videoTrack: s, id3Track: l, textTrack: u }; return n && this.extractRemainingSamples(D), D }, e.flush = function () { var t, e = this.remainderData; return this.remainderData = null, t = e ? this.demux(e, -1, !1, !0) : { videoTrack: this._videoTrack, audioTrack: this._audioTrack, id3Track: this._id3Track, textTrack: this._txtTrack }, this.extractRemainingSamples(t), this.sampleAes ? this.decrypt(t, this.sampleAes) : t }, e.extractRemainingSamples = function (t) { var e, r = t.audioTrack, i = t.videoTrack, n = t.id3Track, a = t.textTrack, s = i.pesData, o = r.pesData, l = n.pesData; if (s && (e = yn(s)) ? (this.videoParser.parseAVCPES(i, a, e, !0, this._duration), i.pesData = null) : i.pesData = s, o && (e = yn(o))) { switch (r.segmentCodec) { case "aac": this.parseAACPES(r, e); break; case "mp3": this.parseMPEGPES(r, e); break; case "ac3": this.parseAC3PES(r, e) }r.pesData = null } else null != o && o.size && w.log("last AAC PES packet truncated,might overlap between fragments"), r.pesData = o; l && (e = yn(l)) ? (this.parseID3PES(n, e), n.pesData = null) : n.pesData = l }, e.demuxSampleAes = function (t, e, r) { var i = this.demux(t, r, !0, !this.config.progressive), n = this.sampleAes = new hn(this.observer, this.config, e); return this.decrypt(i, n) }, e.decrypt = function (t, e) { return new Promise((function (r) { var i = t.audioTrack, n = t.videoTrack; i.samples && "aac" === i.segmentCodec ? e.decryptAacSamples(i.samples, 0, (function () { n.samples ? e.decryptAvcSamples(n.samples, 0, 0, (function () { r(t) })) : r(t) })) : n.samples && e.decryptAvcSamples(n.samples, 0, 0, (function () { r(t) })) })) }, e.destroy = function () { this._duration = 0 }, e.parseAACPES = function (t, e) { var r, i, n, a = 0, s = this.aacOverFlow, o = e.data; if (s) { this.aacOverFlow = null; var l = s.missing, u = s.sample.unit.byteLength; if (-1 === l) o = Wt(s.sample.unit, o); else { var h = u - l; s.sample.unit.set(o.subarray(0, l), h), t.samples.push(s.sample), a = s.missing } } for (r = a, i = o.length; r < i - 1 && !Bi(o, r); r++); if (r !== a) { var d, c = r < i - 1; if (d = c ? "AAC PES did not start with ADTS header,offset:" + r : "No ADTS header found in AAC PES", mn(this.observer, new Error(d), c), !c) return } if (Ki(t, this.observer, o, r, this.audioCodec), void 0 !== e.pts) n = e.pts; else { if (!s) return void w.warn("[tsdemuxer]: AAC PES unknown PTS"); var f = Hi(t.samplerate); n = s.sample.pts + f } for (var g, v = 0; r < i;) { if (r += (g = Vi(t, o, r, n, v)).length, g.missing) { this.aacOverFlow = g; break } for (v++; r < i - 1 && !Bi(o, r); r++); } }, e.parseMPEGPES = function (t, e) { var r = e.data, i = r.length, n = 0, a = 0, s = e.pts; if (void 0 !== s) for (; a < i;)if ($i(r, a)) { var o = zi(t, r, a, s, n); if (!o) break; a += o.length, n++ } else a++; else w.warn("[tsdemuxer]: MPEG PES unknown PTS") }, e.parseAC3PES = function (t, e) { var r = e.data, i = e.pts; if (void 0 !== i) for (var n, a = r.length, s = 0, o = 0; o < a && (n = sn(t, r, o, i, s++)) > 0;)o += n; else w.warn("[tsdemuxer]: AC3 PES unknown PTS") }, e.parseID3PES = function (t, e) { if (void 0 !== e.pts) { var r = o({}, e, { type: this._videoTrack ? qe : We, duration: Number.POSITIVE_INFINITY }); t.samples.push(r) } else w.warn("[tsdemuxer]: ID3 PES unknown PTS") }, t }(); function fn(t, e) { return ((31 & t[e + 1]) << 8) + t[e + 2] } function gn(t, e) { return (31 & t[e + 10]) << 8 | t[e + 11] } function vn(t, e, r, i, n) { var a = { audioPid: -1, videoPid: -1, id3Pid: -1, segmentVideoCodec: "avc", segmentAudioCodec: "aac" }, s = e + 3 + ((15 & t[e + 1]) << 8 | t[e + 2]) - 4; for (e += 12 + ((15 & t[e + 10]) << 8 | t[e + 11]); e < s;) { var o = fn(t, e), l = (15 & t[e + 3]) << 8 | t[e + 4]; switch (t[e]) { case 207: if (!i) { pn("ADTS AAC"); break } case 15: -1 === a.audioPid && (a.audioPid = o); break; case 21: -1 === a.id3Pid && (a.id3Pid = o); break; case 219: if (!i) { pn("H.264"); break } case 27: -1 === a.videoPid && (a.videoPid = o, a.segmentVideoCodec = "avc"); break; case 3: case 4: r.mpeg || r.mp3 ? -1 === a.audioPid && (a.audioPid = o, a.segmentAudioCodec = "mp3") : w.log("MPEG audio found, not supported in this browser"); break; case 193: if (!i) { pn("AC-3"); break } case 129: r.ac3 ? -1 === a.audioPid && (a.audioPid = o, a.segmentAudioCodec = "ac3") : w.log("AC-3 audio found, not supported in this browser"); break; case 6: if (-1 === a.audioPid && l > 0) for (var u = e + 5, h = l; h > 2;) { 106 === t[u] && (!0 !== r.ac3 ? w.log("AC-3 audio found, not supported in this browser for now") : (a.audioPid = o, a.segmentAudioCodec = "ac3")); var d = t[u + 1] + 2; u += d, h -= d } break; case 194: case 135: return mn(n, new Error("Unsupported EC-3 in M2TS found")), a; case 36: return mn(n, new Error("Unsupported HEVC in M2TS found")), a }e += l + 5 } return a } function mn(t, e, r) { w.warn("parsing error: " + e.message), t.emit(S.ERROR, S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_PARSING_ERROR, fatal: !1, levelRetry: r, error: e, reason: e.message }) } function pn(t) { w.log(t + " with AES-128-CBC encryption found in unencrypted stream") } function yn(t) { var e, r, i, n, a, s = 0, o = t.data; if (!t || 0 === t.size) return null; for (; o[0].length < 19 && o.length > 1;)o[0] = Wt(o[0], o[1]), o.splice(1, 1); if (1 === ((e = o[0])[0] << 16) + (e[1] << 8) + e[2]) { if ((r = (e[4] << 8) + e[5]) && r > t.size - 6) return null; var l = e[7]; 192 & l && (n = 536870912 * (14 & e[9]) + 4194304 * (255 & e[10]) + 16384 * (254 & e[11]) + 128 * (255 & e[12]) + (254 & e[13]) / 2, 64 & l ? n - (a = 536870912 * (14 & e[14]) + 4194304 * (255 & e[15]) + 16384 * (254 & e[16]) + 128 * (255 & e[17]) + (254 & e[18]) / 2) > 54e5 && (w.warn(Math.round((n - a) / 9e4) + "s delta between PTS and DTS, align them"), n = a) : a = n); var u = (i = e[8]) + 9; if (t.size <= u) return null; t.size -= u; for (var h = new Uint8Array(t.size), d = 0, c = o.length; d < c; d++) { var f = (e = o[d]).byteLength; if (u) { if (u > f) { u -= f; continue } e = e.subarray(u), f -= u, u = 0 } h.set(e, s), s += f } return r && (r -= i + 3), { data: h, pts: n, dts: a, len: r } } return null } var En = function (t) { function e() { return t.apply(this, arguments) || this } l(e, t); var r = e.prototype; return r.resetInitSegment = function (e, r, i, n) { t.prototype.resetInitSegment.call(this, e, r, i, n), this._audioTrack = { container: "audio/mpeg", type: "audio", id: 2, pid: -1, sequenceNumber: 0, segmentCodec: "mp3", samples: [], manifestCodec: r, duration: n, inputTimeScale: 9e4, dropped: 0 } }, e.probe = function (t) { if (!t) return !1; var e = ct(t, 0), r = (null == e ? void 0 : e.length) || 0; if (e && 11 === t[r] && 119 === t[r + 1] && void 0 !== vt(e) && nn(t, r) <= 16) return !1; for (var i = t.length; r < i; r++)if (Zi(t, r)) return w.log("MPEG Audio sync word found !"), !0; return !1 }, r.canParse = function (t, e) { return function (t, e) { return Ji(t, e) && 4 <= t.length - e }(t, e) }, r.appendFrame = function (t, e, r) { if (null !== this.basePTS) return zi(t, e, r, this.basePTS, this.frameIndex) }, e }(Fi), Tn = function () { function t() { } return t.getSilentFrame = function (t, e) { if ("mp4a.40.2" === t) { if (1 === e) return new Uint8Array([0, 200, 0, 128, 35, 128]); if (2 === e) return new Uint8Array([33, 0, 73, 144, 2, 25, 0, 35, 128]); if (3 === e) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 142]); if (4 === e) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 128, 44, 128, 8, 2, 56]); if (5 === e) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 56]); if (6 === e) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 0, 178, 0, 32, 8, 224]) } else { if (1 === e) return new Uint8Array([1, 64, 34, 128, 163, 78, 230, 128, 186, 8, 0, 0, 0, 28, 6, 241, 193, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]); if (2 === e) return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]); if (3 === e) return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]) } }, t }(), Sn = Math.pow(2, 32) - 1, Ln = function () { function t() { } return t.init = function () { var e; for (e in t.types = { avc1: [], avcC: [], btrt: [], dinf: [], dref: [], esds: [], ftyp: [], hdlr: [], mdat: [], mdhd: [], mdia: [], mfhd: [], minf: [], moof: [], moov: [], mp4a: [], ".mp3": [], dac3: [], "ac-3": [], mvex: [], mvhd: [], pasp: [], sdtp: [], stbl: [], stco: [], stsc: [], stsd: [], stsz: [], stts: [], tfdt: [], tfhd: [], traf: [], trak: [], trun: [], trex: [], tkhd: [], vmhd: [], smhd: [] }, t.types) t.types.hasOwnProperty(e) && (t.types[e] = [e.charCodeAt(0), e.charCodeAt(1), e.charCodeAt(2), e.charCodeAt(3)]); var r = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114, 0]), i = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0]); t.HDLR_TYPES = { video: r, audio: i }; var n = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1]), a = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]); t.STTS = t.STSC = t.STCO = a, t.STSZ = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]), t.VMHD = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0]), t.SMHD = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]), t.STSD = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]); var s = new Uint8Array([105, 115, 111, 109]), o = new Uint8Array([97, 118, 99, 49]), l = new Uint8Array([0, 0, 0, 1]); t.FTYP = t.box(t.types.ftyp, s, l, s, o), t.DINF = t.box(t.types.dinf, t.box(t.types.dref, n)) }, t.box = function (t) { for (var e = 8, r = arguments.length, i = new Array(r > 1 ? r - 1 : 0), n = 1; n < r; n++)i[n - 1] = arguments[n]; for (var a = i.length, s = a; a--;)e += i[a].byteLength; var o = new Uint8Array(e); for (o[0] = e >> 24 & 255, o[1] = e >> 16 & 255, o[2] = e >> 8 & 255, o[3] = 255 & e, o.set(t, 4), a = 0, e = 8; a < s; a++)o.set(i[a], e), e += i[a].byteLength; return o }, t.hdlr = function (e) { return t.box(t.types.hdlr, t.HDLR_TYPES[e]) }, t.mdat = function (e) { return t.box(t.types.mdat, e) }, t.mdhd = function (e, r) { r *= e; var i = Math.floor(r / (Sn + 1)), n = Math.floor(r % (Sn + 1)); return t.box(t.types.mdhd, new Uint8Array([1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3, e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, 255 & e, i >> 24, i >> 16 & 255, i >> 8 & 255, 255 & i, n >> 24, n >> 16 & 255, n >> 8 & 255, 255 & n, 85, 196, 0, 0])) }, t.mdia = function (e) { return t.box(t.types.mdia, t.mdhd(e.timescale, e.duration), t.hdlr(e.type), t.minf(e)) }, t.mfhd = function (e) { return t.box(t.types.mfhd, new Uint8Array([0, 0, 0, 0, e >> 24, e >> 16 & 255, e >> 8 & 255, 255 & e])) }, t.minf = function (e) { return "audio" === e.type ? t.box(t.types.minf, t.box(t.types.smhd, t.SMHD), t.DINF, t.stbl(e)) : t.box(t.types.minf, t.box(t.types.vmhd, t.VMHD), t.DINF, t.stbl(e)) }, t.moof = function (e, r, i) { return t.box(t.types.moof, t.mfhd(e), t.traf(i, r)) }, t.moov = function (e) { for (var r = e.length, i = []; r--;)i[r] = t.trak(e[r]); return t.box.apply(null, [t.types.moov, t.mvhd(e[0].timescale, e[0].duration)].concat(i).concat(t.mvex(e))) }, t.mvex = function (e) { for (var r = e.length, i = []; r--;)i[r] = t.trex(e[r]); return t.box.apply(null, [t.types.mvex].concat(i)) }, t.mvhd = function (e, r) { r *= e; var i = Math.floor(r / (Sn + 1)), n = Math.floor(r % (Sn + 1)), a = new Uint8Array([1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3, e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, 255 & e, i >> 24, i >> 16 & 255, i >> 8 & 255, 255 & i, n >> 24, n >> 16 & 255, n >> 8 & 255, 255 & n, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255]); return t.box(t.types.mvhd, a) }, t.sdtp = function (e) { var r, i, n = e.samples || [], a = new Uint8Array(4 + n.length); for (r = 0; r < n.length; r++)i = n[r].flags, a[r + 4] = i.dependsOn << 4 | i.isDependedOn << 2 | i.hasRedundancy; return t.box(t.types.sdtp, a) }, t.stbl = function (e) { return t.box(t.types.stbl, t.stsd(e), t.box(t.types.stts, t.STTS), t.box(t.types.stsc, t.STSC), t.box(t.types.stsz, t.STSZ), t.box(t.types.stco, t.STCO)) }, t.avc1 = function (e) { var r, i, n, a = [], s = []; for (r = 0; r < e.sps.length; r++)n = (i = e.sps[r]).byteLength, a.push(n >>> 8 & 255), a.push(255 & n), a = a.concat(Array.prototype.slice.call(i)); for (r = 0; r < e.pps.length; r++)n = (i = e.pps[r]).byteLength, s.push(n >>> 8 & 255), s.push(255 & n), s = s.concat(Array.prototype.slice.call(i)); var o = t.box(t.types.avcC, new Uint8Array([1, a[3], a[4], a[5], 255, 224 | e.sps.length].concat(a).concat([e.pps.length]).concat(s))), l = e.width, u = e.height, h = e.pixelRatio[0], d = e.pixelRatio[1]; return t.box(t.types.avc1, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, l >> 8 & 255, 255 & l, u >> 8 & 255, 255 & u, 0, 72, 0, 0, 0, 72, 0, 0, 0, 0, 0, 0, 0, 1, 18, 100, 97, 105, 108, 121, 109, 111, 116, 105, 111, 110, 47, 104, 108, 115, 46, 106, 115, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 17, 17]), o, t.box(t.types.btrt, new Uint8Array([0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192])), t.box(t.types.pasp, new Uint8Array([h >> 24, h >> 16 & 255, h >> 8 & 255, 255 & h, d >> 24, d >> 16 & 255, d >> 8 & 255, 255 & d]))) }, t.esds = function (t) { var e = t.config.length; return new Uint8Array([0, 0, 0, 0, 3, 23 + e, 0, 1, 0, 4, 15 + e, 64, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5].concat([e]).concat(t.config).concat([6, 1, 2])) }, t.audioStsd = function (t) { var e = t.samplerate; return new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, t.channelCount, 0, 16, 0, 0, 0, 0, e >> 8 & 255, 255 & e, 0, 0]) }, t.mp4a = function (e) { return t.box(t.types.mp4a, t.audioStsd(e), t.box(t.types.esds, t.esds(e))) }, t.mp3 = function (e) { return t.box(t.types[".mp3"], t.audioStsd(e)) }, t.ac3 = function (e) { return t.box(t.types["ac-3"], t.audioStsd(e), t.box(t.types.dac3, e.config)) }, t.stsd = function (e) { return "audio" === e.type ? "mp3" === e.segmentCodec && "mp3" === e.codec ? t.box(t.types.stsd, t.STSD, t.mp3(e)) : "ac3" === e.segmentCodec ? t.box(t.types.stsd, t.STSD, t.ac3(e)) : t.box(t.types.stsd, t.STSD, t.mp4a(e)) : t.box(t.types.stsd, t.STSD, t.avc1(e)) }, t.tkhd = function (e) { var r = e.id, i = e.duration * e.timescale, n = e.width, a = e.height, s = Math.floor(i / (Sn + 1)), o = Math.floor(i % (Sn + 1)); return t.box(t.types.tkhd, new Uint8Array([1, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3, r >> 24 & 255, r >> 16 & 255, r >> 8 & 255, 255 & r, 0, 0, 0, 0, s >> 24, s >> 16 & 255, s >> 8 & 255, 255 & s, o >> 24, o >> 16 & 255, o >> 8 & 255, 255 & o, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, n >> 8 & 255, 255 & n, 0, 0, a >> 8 & 255, 255 & a, 0, 0])) }, t.traf = function (e, r) { var i = t.sdtp(e), n = e.id, a = Math.floor(r / (Sn + 1)), s = Math.floor(r % (Sn + 1)); return t.box(t.types.traf, t.box(t.types.tfhd, new Uint8Array([0, 0, 0, 0, n >> 24, n >> 16 & 255, n >> 8 & 255, 255 & n])), t.box(t.types.tfdt, new Uint8Array([1, 0, 0, 0, a >> 24, a >> 16 & 255, a >> 8 & 255, 255 & a, s >> 24, s >> 16 & 255, s >> 8 & 255, 255 & s])), t.trun(e, i.length + 16 + 20 + 8 + 16 + 8 + 8), i) }, t.trak = function (e) { return e.duration = e.duration || 4294967295, t.box(t.types.trak, t.tkhd(e), t.mdia(e)) }, t.trex = function (e) { var r = e.id; return t.box(t.types.trex, new Uint8Array([0, 0, 0, 0, r >> 24, r >> 16 & 255, r >> 8 & 255, 255 & r, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1])) }, t.trun = function (e, r) { var i, n, a, s, o, l, u = e.samples || [], h = u.length, d = 12 + 16 * h, c = new Uint8Array(d); for (r += 8 + d, c.set(["video" === e.type ? 1 : 0, 0, 15, 1, h >>> 24 & 255, h >>> 16 & 255, h >>> 8 & 255, 255 & h, r >>> 24 & 255, r >>> 16 & 255, r >>> 8 & 255, 255 & r], 0), i = 0; i < h; i++)a = (n = u[i]).duration, s = n.size, o = n.flags, l = n.cts, c.set([a >>> 24 & 255, a >>> 16 & 255, a >>> 8 & 255, 255 & a, s >>> 24 & 255, s >>> 16 & 255, s >>> 8 & 255, 255 & s, o.isLeading << 2 | o.dependsOn, o.isDependedOn << 6 | o.hasRedundancy << 4 | o.paddingValue << 1 | o.isNonSync, 61440 & o.degradPrio, 15 & o.degradPrio, l >>> 24 & 255, l >>> 16 & 255, l >>> 8 & 255, 255 & l], 12 + 16 * i); return t.box(t.types.trun, c) }, t.initSegment = function (e) { t.types || t.init(); var r = t.moov(e); return Wt(t.FTYP, r) }, t }(); Ln.types = void 0, Ln.HDLR_TYPES = void 0, Ln.STTS = void 0, Ln.STSC = void 0, Ln.STCO = void 0, Ln.STSZ = void 0, Ln.VMHD = void 0, Ln.SMHD = void 0, Ln.STSD = void 0, Ln.FTYP = void 0, Ln.DINF = void 0; var An = 9e4; function Rn(t, e, r, i) { void 0 === r && (r = 1), void 0 === i && (i = !1); var n = t * e * r; return i ? Math.round(n) : n } function bn(t, e) { return void 0 === e && (e = !1), Rn(t, 1e3, 1 / An, e) } var kn = null, Dn = null, In = function () { function t(t, e, r, i) { if (this.observer = void 0, this.config = void 0, this.typeSupported = void 0, this.ISGenerated = !1, this._initPTS = null, this._initDTS = null, this.nextAvcDts = null, this.nextAudioPts = null, this.videoSampleDuration = null, this.isAudioContiguous = !1, this.isVideoContiguous = !1, this.videoTrackConfig = void 0, this.observer = t, this.config = e, this.typeSupported = r, this.ISGenerated = !1, null === kn) { var n = (navigator.userAgent || "").match(/Chrome\/(\d+)/i); kn = n ? parseInt(n[1]) : 0 } if (null === Dn) { var a = navigator.userAgent.match(/Safari\/(\d+)/i); Dn = a ? parseInt(a[1]) : 0 } } var e = t.prototype; return e.destroy = function () { this.config = this.videoTrackConfig = this._initPTS = this._initDTS = null }, e.resetTimeStamp = function (t) { w.log("[mp4-remuxer]: initPTS & initDTS reset"), this._initPTS = this._initDTS = t }, e.resetNextTimestamp = function () { w.log("[mp4-remuxer]: reset next timestamp"), this.isVideoContiguous = !1, this.isAudioContiguous = !1 }, e.resetInitSegment = function () { w.log("[mp4-remuxer]: ISGenerated flag reset"), this.ISGenerated = !1, this.videoTrackConfig = void 0 }, e.getVideoStartPts = function (t) { var e = !1, r = t.reduce((function (t, r) { var i = r.pts - t; return i < -4294967296 ? (e = !0, wn(t, r.pts)) : i > 0 ? t : r.pts }), t[0].pts); return e && w.debug("PTS rollover detected"), r }, e.remux = function (t, e, r, i, n, a, s, o) { var l, u, h, d, c, f, g = n, v = n, m = t.pid > -1, p = e.pid > -1, y = e.samples.length, E = t.samples.length > 0, T = s && y > 0 || y > 1; if ((!m || E) && (!p || T) || this.ISGenerated || s) { if (this.ISGenerated) { var S, L, A, R, b = this.videoTrackConfig; !b || e.width === b.width && e.height === b.height && (null == (S = e.pixelRatio) ? void 0 : S[0]) === (null == (L = b.pixelRatio) ? void 0 : L[0]) && (null == (A = e.pixelRatio) ? void 0 : A[1]) === (null == (R = b.pixelRatio) ? void 0 : R[1]) || this.resetInitSegment() } else h = this.generateIS(t, e, n, a); var k, D = this.isVideoContiguous, I = -1; if (T && (I = function (t) { for (var e = 0; e < t.length; e++)if (t[e].key) return e; return -1 }(e.samples), !D && this.config.forceKeyFrameOnDiscontinuity)) if (f = !0, I > 0) { w.warn("[mp4-remuxer]: Dropped " + I + " out of " + y + " video samples due to a missing keyframe"); var C = this.getVideoStartPts(e.samples); e.samples = e.samples.slice(I), e.dropped += I, k = v += (e.samples[0].pts - C) / e.inputTimeScale } else -1 === I && (w.warn("[mp4-remuxer]: No keyframe found out of " + y + " video samples"), f = !1); if (this.ISGenerated) { if (E && T) { var _ = this.getVideoStartPts(e.samples), x = (wn(t.samples[0].pts, _) - _) / e.inputTimeScale; g += Math.max(0, x), v += Math.max(0, -x) } if (E) { if (t.samplerate || (w.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"), h = this.generateIS(t, e, n, a)), u = this.remuxAudio(t, g, this.isAudioContiguous, a, p || T || o === Me ? v : void 0), T) { var P = u ? u.endPTS - u.startPTS : 0; e.inputTimeScale || (w.warn("[mp4-remuxer]: regenerate InitSegment as video detected"), h = this.generateIS(t, e, n, a)), l = this.remuxVideo(e, v, D, P) } } else T && (l = this.remuxVideo(e, v, D, 0)); l && (l.firstKeyFrame = I, l.independent = -1 !== I, l.firstKeyFramePTS = k) } } return this.ISGenerated && this._initPTS && this._initDTS && (r.samples.length && (c = Cn(r, n, this._initPTS, this._initDTS)), i.samples.length && (d = _n(i, n, this._initPTS))), { audio: u, video: l, initSegment: h, independent: f, text: d, id3: c } }, e.generateIS = function (t, e, r, i) { var n, a, s, o = t.samples, l = e.samples, u = this.typeSupported, h = {}, d = this._initPTS, c = !d || i, f = "audio/mp4"; if (c && (n = a = 1 / 0), t.config && o.length) { switch (t.timescale = t.samplerate, t.segmentCodec) { case "mp3": u.mpeg ? (f = "audio/mpeg", t.codec = "") : u.mp3 && (t.codec = "mp3"); break; case "ac3": t.codec = "ac-3" }h.audio = { id: "audio", container: f, codec: t.codec, initSegment: "mp3" === t.segmentCodec && u.mpeg ? new Uint8Array(0) : Ln.initSegment([t]), metadata: { channelCount: t.channelCount } }, c && (s = t.inputTimeScale, d && s === d.timescale ? c = !1 : n = a = o[0].pts - Math.round(s * r)) } if (e.sps && e.pps && l.length) { if (e.timescale = e.inputTimeScale, h.video = { id: "main", container: "video/mp4", codec: e.codec, initSegment: Ln.initSegment([e]), metadata: { width: e.width, height: e.height } }, c) if (s = e.inputTimeScale, d && s === d.timescale) c = !1; else { var g = this.getVideoStartPts(l), v = Math.round(s * r); a = Math.min(a, wn(l[0].dts, g) - v), n = Math.min(n, g - v) } this.videoTrackConfig = { width: e.width, height: e.height, pixelRatio: e.pixelRatio } } if (Object.keys(h).length) return this.ISGenerated = !0, c ? (this._initPTS = { baseTime: n, timescale: s }, this._initDTS = { baseTime: a, timescale: s }) : n = s = void 0, { tracks: h, initPTS: n, timescale: s } }, e.remuxVideo = function (t, e, r, i) { var n, a, s = t.inputTimeScale, l = t.samples, u = [], h = l.length, d = this._initPTS, c = this.nextAvcDts, f = 8, g = this.videoSampleDuration, v = Number.POSITIVE_INFINITY, m = Number.NEGATIVE_INFINITY, p = !1; if (!r || null === c) { var y = e * s, E = l[0].pts - wn(l[0].dts, l[0].pts); kn && null !== c && Math.abs(y - E - c) < 15e3 ? r = !0 : c = y - E } for (var T = d.baseTime * s / d.timescale, R = 0; R < h; R++) { var b = l[R]; b.pts = wn(b.pts - T, c), b.dts = wn(b.dts - T, c), b.dts < l[R > 0 ? R - 1 : R].dts && (p = !0) } p && l.sort((function (t, e) { var r = t.dts - e.dts, i = t.pts - e.pts; return r || i })), n = l[0].dts; var k = (a = l[l.length - 1].dts) - n, D = k ? Math.round(k / (h - 1)) : g || t.inputTimeScale / 30; if (r) { var I = n - c, C = I > D, _ = I < -1; if ((C || _) && (C ? w.warn("AVC: " + bn(I, !0) + " ms (" + I + "dts) hole between fragments detected at " + e.toFixed(3)) : w.warn("AVC: " + bn(-I, !0) + " ms (" + I + "dts) overlapping between fragments detected at " + e.toFixed(3)), !_ || c >= l[0].pts || kn)) { n = c; var x = l[0].pts - I; if (C) l[0].dts = n, l[0].pts = x; else for (var P = 0; P < l.length && !(l[P].dts > x); P++)l[P].dts -= I, l[P].pts -= I; w.log("Video: Initial PTS/DTS adjusted: " + bn(x, !0) + "/" + bn(n, !0) + ", delta: " + bn(I, !0) + " ms") } } for (var F = 0, M = 0, O = n = Math.max(0, n), N = 0; N < h; N++) { for (var U = l[N], B = U.units, G = B.length, K = 0, H = 0; H < G; H++)K += B[H].data.length; M += K, F += G, U.length = K, U.dts < O ? (U.dts = O, O += D / 4 | 0 || 1) : O = U.dts, v = Math.min(U.pts, v), m = Math.max(U.pts, m) } a = l[h - 1].dts; var V, Y = M + 4 * F + 8; try { V = new Uint8Array(Y) } catch (t) { return void this.observer.emit(S.ERROR, S.ERROR, { type: L.MUX_ERROR, details: A.REMUX_ALLOC_ERROR, fatal: !1, error: t, bytes: Y, reason: "fail allocating video mdat " + Y }) } var W = new DataView(V.buffer); W.setUint32(0, Y), V.set(Ln.types.mdat, 4); for (var j = !1, q = Number.POSITIVE_INFINITY, X = Number.POSITIVE_INFINITY, z = Number.NEGATIVE_INFINITY, Q = Number.NEGATIVE_INFINITY, J = 0; J < h; J++) { for (var $ = l[J], Z = $.units, tt = 0, et = 0, rt = Z.length; et < rt; et++) { var it = Z[et], nt = it.data, at = it.data.byteLength; W.setUint32(f, at), f += 4, V.set(nt, f), f += at, tt += 4 + at } var st = void 0; if (J < h - 1) g = l[J + 1].dts - $.dts, st = l[J + 1].pts - $.pts; else { var ot = this.config, lt = J > 0 ? $.dts - l[J - 1].dts : D; if (st = J > 0 ? $.pts - l[J - 1].pts : D, ot.stretchShortVideoTrack && null !== this.nextAudioPts) { var ut = Math.floor(ot.maxBufferHole * s), ht = (i ? v + i * s : this.nextAudioPts) - $.pts; ht > ut ? ((g = ht - lt) < 0 ? g = lt : j = !0, w.log("[mp4-remuxer]: It is approximately " + ht / 90 + " ms to the next segment; using duration " + g / 90 + " ms for the last video frame.")) : g = lt } else g = lt } var dt = Math.round($.pts - $.dts); q = Math.min(q, g), z = Math.max(z, g), X = Math.min(X, st), Q = Math.max(Q, st), u.push(new Pn($.key, g, tt, dt)) } if (u.length) if (kn) { if (kn < 70) { var ct = u[0].flags; ct.dependsOn = 2, ct.isNonSync = 0 } } else if (Dn && Q - X < z - q && D / z < .025 && 0 === u[0].cts) { w.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration."); for (var ft = n, gt = 0, vt = u.length; gt < vt; gt++) { var mt = ft + u[gt].duration, pt = ft + u[gt].cts; if (gt < vt - 1) { var yt = mt + u[gt + 1].cts; u[gt].duration = yt - pt } else u[gt].duration = gt ? u[gt - 1].duration : D; u[gt].cts = 0, ft = mt } } g = j || !g ? D : g, this.nextAvcDts = c = a + g, this.videoSampleDuration = g, this.isVideoContiguous = !0; var Et = { data1: Ln.moof(t.sequenceNumber++, n, o({}, t, { samples: u })), data2: V, startPTS: v / s, endPTS: (m + g) / s, startDTS: n / s, endDTS: c / s, type: "video", hasAudio: !1, hasVideo: !0, nb: u.length, dropped: t.dropped }; return t.samples = [], t.dropped = 0, Et }, e.getSamplesPerFrame = function (t) { switch (t.segmentCodec) { case "mp3": return 1152; case "ac3": return 1536; default: return 1024 } }, e.remuxAudio = function (t, e, r, i, n) { var a = t.inputTimeScale, s = a / (t.samplerate ? t.samplerate : a), l = this.getSamplesPerFrame(t), u = l * s, h = this._initPTS, d = "mp3" === t.segmentCodec && this.typeSupported.mpeg, c = [], f = void 0 !== n, g = t.samples, v = d ? 0 : 8, m = this.nextAudioPts || -1, p = e * a, y = h.baseTime * a / h.timescale; if (this.isAudioContiguous = r = r || g.length && m > 0 && (i && Math.abs(p - m) < 9e3 || Math.abs(wn(g[0].pts - y, p) - m) < 20 * u), g.forEach((function (t) { t.pts = wn(t.pts - y, p) })), !r || m < 0) { if (g = g.filter((function (t) { return t.pts >= 0 })), !g.length) return; m = 0 === n ? 0 : i && !f ? Math.max(0, p) : g[0].pts } if ("aac" === t.segmentCodec) for (var E = this.config.maxAudioFramesDrift, T = 0, R = m; T < g.length; T++) { var b = g[T], k = b.pts, D = k - R, I = Math.abs(1e3 * D / a); if (D <= -E * u && f) 0 === T && (w.warn("Audio frame @ " + (k / a).toFixed(3) + "s overlaps nextAudioPts by " + Math.round(1e3 * D / a) + " ms."), this.nextAudioPts = m = R = k); else if (D >= E * u && I < 1e4 && f) { var C = Math.round(D / u); (R = k - C * u) < 0 && (C--, R += u), 0 === T && (this.nextAudioPts = m = R), w.warn("[mp4-remuxer]: Injecting " + C + " audio frame @ " + (R / a).toFixed(3) + "s due to " + Math.round(1e3 * D / a) + " ms gap."); for (var _ = 0; _ < C; _++) { var x = Math.max(R, 0), P = Tn.getSilentFrame(t.manifestCodec || t.codec, t.channelCount); P || (w.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."), P = b.unit.subarray()), g.splice(T, 0, { unit: P, pts: x }), R += u, T++ } } b.pts = R, R += u } for (var F, M = null, O = null, N = 0, U = g.length; U--;)N += g[U].unit.byteLength; for (var B = 0, G = g.length; B < G; B++) { var K = g[B], H = K.unit, V = K.pts; if (null !== O) c[B - 1].duration = Math.round((V - O) / s); else { if (r && "aac" === t.segmentCodec && (V = m), M = V, !(N > 0)) return; N += v; try { F = new Uint8Array(N) } catch (t) { return void this.observer.emit(S.ERROR, S.ERROR, { type: L.MUX_ERROR, details: A.REMUX_ALLOC_ERROR, fatal: !1, error: t, bytes: N, reason: "fail allocating audio mdat " + N }) } d || (new DataView(F.buffer).setUint32(0, N), F.set(Ln.types.mdat, 4)) } F.set(H, v); var Y = H.byteLength; v += Y, c.push(new Pn(!0, l, Y, 0)), O = V } var W = c.length; if (W) { var j = c[c.length - 1]; this.nextAudioPts = m = O + s * j.duration; var q = d ? new Uint8Array(0) : Ln.moof(t.sequenceNumber++, M / s, o({}, t, { samples: c })); t.samples = []; var X = M / a, z = m / a, Q = { data1: q, data2: F, startPTS: X, endPTS: z, startDTS: X, endDTS: z, type: "audio", hasAudio: !0, hasVideo: !1, nb: W }; return this.isAudioContiguous = !0, Q } }, e.remuxEmptyAudio = function (t, e, r, i) { var n = t.inputTimeScale, a = n / (t.samplerate ? t.samplerate : n), s = this.nextAudioPts, o = this._initDTS, l = 9e4 * o.baseTime / o.timescale, u = (null !== s ? s : i.startDTS * n) + l, h = i.endDTS * n + l, d = 1024 * a, c = Math.ceil((h - u) / d), f = Tn.getSilentFrame(t.manifestCodec || t.codec, t.channelCount); if (w.warn("[mp4-remuxer]: remux empty Audio"), f) { for (var g = [], v = 0; v < c; v++) { var m = u + v * d; g.push({ unit: f, pts: m, dts: m }) } return t.samples = g, this.remuxAudio(t, e, r, !1) } w.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec") }, t }(); function wn(t, e) { var r; if (null === e) return t; for (r = e < t ? -8589934592 : 8589934592; Math.abs(t - e) > 4294967296;)t += r; return t } function Cn(t, e, r, i) { var n = t.samples.length; if (n) { for (var a = t.inputTimeScale, s = 0; s < n; s++) { var o = t.samples[s]; o.pts = wn(o.pts - r.baseTime * a / r.timescale, e * a) / a, o.dts = wn(o.dts - i.baseTime * a / i.timescale, e * a) / a } var l = t.samples; return t.samples = [], { samples: l } } } function _n(t, e, r) { var i = t.samples.length; if (i) { for (var n = t.inputTimeScale, a = 0; a < i; a++) { var s = t.samples[a]; s.pts = wn(s.pts - r.baseTime * n / r.timescale, e * n) / n } t.samples.sort((function (t, e) { return t.pts - e.pts })); var o = t.samples; return t.samples = [], { samples: o } } } var xn, Pn = function (t, e, r, i) { this.size = void 0, this.duration = void 0, this.cts = void 0, this.flags = void 0, this.duration = e, this.size = r, this.cts = i, this.flags = { isLeading: 0, isDependedOn: 0, hasRedundancy: 0, degradPrio: 0, dependsOn: t ? 2 : 1, isNonSync: t ? 0 : 1 } }, Fn = function () { function t() { this.emitInitSegment = !1, this.audioCodec = void 0, this.videoCodec = void 0, this.initData = void 0, this.initPTS = null, this.initTracks = void 0, this.lastEndTime = null } var e = t.prototype; return e.destroy = function () { }, e.resetTimeStamp = function (t) { this.initPTS = t, this.lastEndTime = null }, e.resetNextTimestamp = function () { this.lastEndTime = null }, e.resetInitSegment = function (t, e, r, i) { this.audioCodec = e, this.videoCodec = r, this.generateInitSegment(function (t, e) { if (!t || !e) return t; var r = e.keyId; return r && e.isCommonEncryption && Ot(t, ["moov", "trak"]).forEach((function (t) { var e = Ot(t, ["mdia", "minf", "stbl", "stsd"])[0].subarray(8), i = Ot(e, ["enca"]), n = i.length > 0; n || (i = Ot(e, ["encv"])), i.forEach((function (t) { Ot(n ? t.subarray(28) : t.subarray(78), ["sinf"]).forEach((function (t) { var e = Vt(t); if (e) { var i = e.subarray(8, 24); i.some((function (t) { return 0 !== t })) || (w.log("[eme] Patching keyId in 'enc" + (n ? "a" : "v") + ">sinf>>tenc' box: " + kt.hexDump(i) + " -> " + kt.hexDump(r)), e.set(r, 8)) } })) })) })), t }(t, i)), this.emitInitSegment = !0 }, e.generateInitSegment = function (t) { var e = this.audioCodec, r = this.videoCodec; if (null == t || !t.byteLength) return this.initTracks = void 0, void (this.initData = void 0); var i = this.initData = Ut(t); i.audio && (e = Mn(i.audio, O)), i.video && (r = Mn(i.video, N)); var n = {}; i.audio && i.video ? n.audiovideo = { container: "video/mp4", codec: e + "," + r, initSegment: t, id: "main" } : i.audio ? n.audio = { container: "audio/mp4", codec: e, initSegment: t, id: "audio" } : i.video ? n.video = { container: "video/mp4", codec: r, initSegment: t, id: "main" } : w.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."), this.initTracks = n }, e.remux = function (t, e, r, i, n, a) { var s, o, l = this.initPTS, u = this.lastEndTime, h = { audio: void 0, video: void 0, text: i, id3: r, initSegment: void 0 }; y(u) || (u = this.lastEndTime = n || 0); var d = e.samples; if (null == d || !d.length) return h; var c = { initPTS: void 0, timescale: 1 }, f = this.initData; if (null != (s = f) && s.length || (this.generateInitSegment(d), f = this.initData), null == (o = f) || !o.length) return w.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."), h; this.emitInitSegment && (c.tracks = this.initTracks, this.emitInitSegment = !1); var g = function (t, e) { for (var r = 0, i = 0, n = 0, a = Ot(t, ["moof", "traf"]), s = 0; s < a.length; s++) { var o = a[s], l = Ot(o, ["tfhd"])[0], u = e[xt(l, 4)]; if (u) { var h = u.default, d = xt(l, 0) | (null == h ? void 0 : h.flags), c = null == h ? void 0 : h.duration; 8 & d && (c = xt(l, 2 & d ? 12 : 8)); for (var f = u.timescale || 9e4, g = Ot(o, ["trun"]), v = 0; v < g.length; v++)!(r = Yt(g[v])) && c && (r = c * xt(g[v], 4)), u.type === N ? i += r / f : u.type === O && (n += r / f) } } if (0 === i && 0 === n) { for (var m = 1 / 0, p = 0, E = 0, T = Ot(t, ["sidx"]), S = 0; S < T.length; S++) { var L = Nt(T[S]); if (null != L && L.references) { m = Math.min(m, L.earliestPresentationTime / L.timescale); var A = L.references.reduce((function (t, e) { return t + e.info.duration || 0 }), 0); E = (p = Math.max(p, A + L.earliestPresentationTime / L.timescale)) - m } } if (E && y(E)) return E } return i || n }(d, f), v = function (t, e) { return Ot(e, ["moof", "traf"]).reduce((function (e, r) { var i = Ot(r, ["tfdt"])[0], n = i[0], a = Ot(r, ["tfhd"]).reduce((function (e, r) { var a = xt(r, 4), s = t[a]; if (s) { var o = xt(i, 4); if (1 === n) { if (o === Dt) return w.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"), e; o *= Dt + 1, o += xt(i, 8) } var l = o / (s.timescale || 9e4); if (y(l) && (null === e || l < e)) return l } return e }), null); return null !== a && y(a) && (null === e || a < e) ? a : e }), null) }(f, d), m = null === v ? n : v; (function (t, e, r, i) { if (null === t) return !0; var n = Math.max(i, 1), a = e - t.baseTime / t.timescale; return Math.abs(a - r) > n }(l, m, n, g) || c.timescale !== l.timescale && a) && (c.initPTS = m - n, l && 1 === l.timescale && w.warn("Adjusting initPTS by " + (c.initPTS - l.baseTime)), this.initPTS = l = { baseTime: c.initPTS, timescale: 1 }); var p = t ? m - l.baseTime / l.timescale : u, E = p + g; !function (t, e, r) { Ot(e, ["moof", "traf"]).forEach((function (e) { Ot(e, ["tfhd"]).forEach((function (i) { var n = xt(i, 4), a = t[n]; if (a) { var s = a.timescale || 9e4; Ot(e, ["tfdt"]).forEach((function (t) { var e = t[0], i = r * s; if (i) { var n = xt(t, 4); if (0 === e) n -= i, Mt(t, 4, n = Math.max(n, 0)); else { n *= Math.pow(2, 32), n += xt(t, 8), n -= i, n = Math.max(n, 0); var a = Math.floor(n / (Dt + 1)), o = Math.floor(n % (Dt + 1)); Mt(t, 4, a), Mt(t, 8, o) } } })) } })) })) }(f, d, l.baseTime / l.timescale), g > 0 ? this.lastEndTime = E : (w.warn("Duration parsed from mp4 should be greater than zero"), this.resetNextTimestamp()); var T = !!f.audio, S = !!f.video, L = ""; T && (L += "audio"), S && (L += "video"); var A = { data1: d, startPTS: p, startDTS: p, endPTS: E, endDTS: E, type: L, hasAudio: T, hasVideo: S, nb: 1, dropped: 0 }; return h.audio = "audio" === A.type ? A : void 0, h.video = "audio" !== A.type ? A : void 0, h.initSegment = c, h.id3 = Cn(r, n, l, l), i.samples.length && (h.text = _n(i, n, l)), h }, t }(); function Mn(t, e) { var r = null == t ? void 0 : t.codec; if (r && r.length > 4) return r; if (e === O) { if ("ec-3" === r || "ac-3" === r || "alac" === r) return r; if ("fLaC" === r || "Opus" === r) return ve(r, !1); var i = "mp4a.40.5"; return w.info('Parsed audio codec "' + r + '" or audio object type not handled. Using "' + i + '"'), i } return w.warn('Unhandled video codec "' + r + '"'), "hvc1" === r || "hev1" === r ? "hvc1.1.6.L120.90" : "av01" === r ? "av01.0.04M.08" : "avc1.42e01e" } try { xn = self.performance.now.bind(self.performance) } catch (t) { w.debug("Unable to use Performance API on this environment"), xn = null == j ? void 0 : j.Date.now } var On = [{ demux: rn, remux: Fn }, { demux: cn, remux: In }, { demux: tn, remux: In }, { demux: En, remux: In }]; On.splice(2, 0, { demux: an, remux: In }); var Nn = function () { function t(t, e, r, i, n) { this.async = !1, this.observer = void 0, this.typeSupported = void 0, this.config = void 0, this.vendor = void 0, this.id = void 0, this.demuxer = void 0, this.remuxer = void 0, this.decrypter = void 0, this.probe = void 0, this.decryptionPromise = null, this.transmuxConfig = void 0, this.currentTransmuxState = void 0, this.observer = t, this.typeSupported = e, this.config = r, this.vendor = i, this.id = n } var e = t.prototype; return e.configure = function (t) { this.transmuxConfig = t, this.decrypter && this.decrypter.reset() }, e.push = function (t, e, r, i) { var n = this, a = r.transmuxing; a.executeStart = xn(); var s = new Uint8Array(t), o = this.currentTransmuxState, l = this.transmuxConfig; i && (this.currentTransmuxState = i); var u = i || o, h = u.contiguous, d = u.discontinuity, c = u.trackSwitch, f = u.accurateTimeOffset, g = u.timeOffset, v = u.initSegmentChange, m = l.audioCodec, p = l.videoCodec, y = l.defaultInitPts, E = l.duration, T = l.initSegmentData, R = function (t, e) { var r = null; return t.byteLength > 0 && null != (null == e ? void 0 : e.key) && null !== e.iv && null != e.method && (r = e), r }(s, e); if (R && "AES-128" === R.method) { var b = this.getDecrypter(); if (!b.isSync()) return this.decryptionPromise = b.webCryptoDecrypt(s, R.key.buffer, R.iv.buffer).then((function (t) { var e = n.push(t, null, r); return n.decryptionPromise = null, e })), this.decryptionPromise; var k = b.softwareDecrypt(s, R.key.buffer, R.iv.buffer); if (r.part > -1 && (k = b.flush()), !k) return a.executeEnd = xn(), Un(r); s = new Uint8Array(k) } var D = this.needsProbing(d, c); if (D) { var I = this.configureTransmuxer(s); if (I) return w.warn("[transmuxer] " + I.message), this.observer.emit(S.ERROR, S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_PARSING_ERROR, fatal: !1, error: I, reason: I.message }), a.executeEnd = xn(), Un(r) } (d || c || v || D) && this.resetInitSegment(T, m, p, E, e), (d || v || D) && this.resetInitialTimestamp(y), h || this.resetContiguity(); var C = this.transmux(s, R, g, f, r), _ = this.currentTransmuxState; return _.contiguous = !0, _.discontinuity = !1, _.trackSwitch = !1, a.executeEnd = xn(), C }, e.flush = function (t) { var e = this, r = t.transmuxing; r.executeStart = xn(); var i = this.decrypter, n = this.currentTransmuxState, a = this.decryptionPromise; if (a) return a.then((function () { return e.flush(t) })); var s = [], o = n.timeOffset; if (i) { var l = i.flush(); l && s.push(this.push(l, null, t)) } var u = this.demuxer, h = this.remuxer; if (!u || !h) return r.executeEnd = xn(), [Un(t)]; var d = u.flush(o); return Bn(d) ? d.then((function (r) { return e.flushRemux(s, r, t), s })) : (this.flushRemux(s, d, t), s) }, e.flushRemux = function (t, e, r) { var i = e.audioTrack, n = e.videoTrack, a = e.id3Track, s = e.textTrack, o = this.currentTransmuxState, l = o.accurateTimeOffset, u = o.timeOffset; w.log("[transmuxer.ts]: Flushed fragment " + r.sn + (r.part > -1 ? " p: " + r.part : "") + " of level " + r.level); var h = this.remuxer.remux(i, n, a, s, u, l, !0, this.id); t.push({ remuxResult: h, chunkMeta: r }), r.transmuxing.executeEnd = xn() }, e.resetInitialTimestamp = function (t) { var e = this.demuxer, r = this.remuxer; e && r && (e.resetTimeStamp(t), r.resetTimeStamp(t)) }, e.resetContiguity = function () { var t = this.demuxer, e = this.remuxer; t && e && (t.resetContiguity(), e.resetNextTimestamp()) }, e.resetInitSegment = function (t, e, r, i, n) { var a = this.demuxer, s = this.remuxer; a && s && (a.resetInitSegment(t, e, r, i), s.resetInitSegment(t, e, r, n)) }, e.destroy = function () { this.demuxer && (this.demuxer.destroy(), this.demuxer = void 0), this.remuxer && (this.remuxer.destroy(), this.remuxer = void 0) }, e.transmux = function (t, e, r, i, n) { return e && "SAMPLE-AES" === e.method ? this.transmuxSampleAes(t, e, r, i, n) : this.transmuxUnencrypted(t, r, i, n) }, e.transmuxUnencrypted = function (t, e, r, i) { var n = this.demuxer.demux(t, e, !1, !this.config.progressive), a = n.audioTrack, s = n.videoTrack, o = n.id3Track, l = n.textTrack; return { remuxResult: this.remuxer.remux(a, s, o, l, e, r, !1, this.id), chunkMeta: i } }, e.transmuxSampleAes = function (t, e, r, i, n) { var a = this; return this.demuxer.demuxSampleAes(t, e, r).then((function (t) { return { remuxResult: a.remuxer.remux(t.audioTrack, t.videoTrack, t.id3Track, t.textTrack, r, i, !1, a.id), chunkMeta: n } })) }, e.configureTransmuxer = function (t) { for (var e, r = this.config, i = this.observer, n = this.typeSupported, a = this.vendor, s = 0, o = On.length; s < o; s++) { var l; if (null != (l = On[s].demux) && l.probe(t)) { e = On[s]; break } } if (!e) return new Error("Failed to find demuxer by probing fragment data"); var u = this.demuxer, h = this.remuxer, d = e.remux, c = e.demux; h && h instanceof d || (this.remuxer = new d(i, r, n, a)), u && u instanceof c || (this.demuxer = new c(i, r, n), this.probe = c.probe) }, e.needsProbing = function (t, e) { return !this.demuxer || !this.remuxer || t || e }, e.getDecrypter = function () { var t = this.decrypter; return t || (t = this.decrypter = new pi(this.config)), t }, t }(), Un = function (t) { return { remuxResult: {}, chunkMeta: t } }; function Bn(t) { return "then" in t && t.then instanceof Function } var Gn = function (t, e, r, i, n) { this.audioCodec = void 0, this.videoCodec = void 0, this.initSegmentData = void 0, this.duration = void 0, this.defaultInitPts = void 0, this.audioCodec = t, this.videoCodec = e, this.initSegmentData = r, this.duration = i, this.defaultInitPts = n || null }, Kn = function (t, e, r, i, n, a) { this.discontinuity = void 0, this.contiguous = void 0, this.accurateTimeOffset = void 0, this.trackSwitch = void 0, this.timeOffset = void 0, this.initSegmentChange = void 0, this.discontinuity = t, this.contiguous = e, this.accurateTimeOffset = r, this.trackSwitch = i, this.timeOffset = n, this.initSegmentChange = a }, Hn = { exports: {} }; !function (t) { var e = Object.prototype.hasOwnProperty, r = "~"; function i() { } function n(t, e, r) { this.fn = t, this.context = e, this.once = r || !1 } function a(t, e, i, a, s) { if ("function" != typeof i) throw new TypeError("The listener must be a function"); var o = new n(i, a || t, s), l = r ? r + e : e; return t._events[l] ? t._events[l].fn ? t._events[l] = [t._events[l], o] : t._events[l].push(o) : (t._events[l] = o, t._eventsCount++), t } function s(t, e) { 0 == --t._eventsCount ? t._events = new i : delete t._events[e] } function o() { this._events = new i, this._eventsCount = 0 } Object.create && (i.prototype = Object.create(null), (new i).__proto__ || (r = !1)), o.prototype.eventNames = function () { var t, i, n = []; if (0 === this._eventsCount) return n; for (i in t = this._events) e.call(t, i) && n.push(r ? i.slice(1) : i); return Object.getOwnPropertySymbols ? n.concat(Object.getOwnPropertySymbols(t)) : n }, o.prototype.listeners = function (t) { var e = r ? r + t : t, i = this._events[e]; if (!i) return []; if (i.fn) return [i.fn]; for (var n = 0, a = i.length, s = new Array(a); n < a; n++)s[n] = i[n].fn; return s }, o.prototype.listenerCount = function (t) { var e = r ? r + t : t, i = this._events[e]; return i ? i.fn ? 1 : i.length : 0 }, o.prototype.emit = function (t, e, i, n, a, s) { var o = r ? r + t : t; if (!this._events[o]) return !1; var l, u, h = this._events[o], d = arguments.length; if (h.fn) { switch (h.once && this.removeListener(t, h.fn, void 0, !0), d) { case 1: return h.fn.call(h.context), !0; case 2: return h.fn.call(h.context, e), !0; case 3: return h.fn.call(h.context, e, i), !0; case 4: return h.fn.call(h.context, e, i, n), !0; case 5: return h.fn.call(h.context, e, i, n, a), !0; case 6: return h.fn.call(h.context, e, i, n, a, s), !0 }for (u = 1, l = new Array(d - 1); u < d; u++)l[u - 1] = arguments[u]; h.fn.apply(h.context, l) } else { var c, f = h.length; for (u = 0; u < f; u++)switch (h[u].once && this.removeListener(t, h[u].fn, void 0, !0), d) { case 1: h[u].fn.call(h[u].context); break; case 2: h[u].fn.call(h[u].context, e); break; case 3: h[u].fn.call(h[u].context, e, i); break; case 4: h[u].fn.call(h[u].context, e, i, n); break; default: if (!l) for (c = 1, l = new Array(d - 1); c < d; c++)l[c - 1] = arguments[c]; h[u].fn.apply(h[u].context, l) } } return !0 }, o.prototype.on = function (t, e, r) { return a(this, t, e, r, !1) }, o.prototype.once = function (t, e, r) { return a(this, t, e, r, !0) }, o.prototype.removeListener = function (t, e, i, n) { var a = r ? r + t : t; if (!this._events[a]) return this; if (!e) return s(this, a), this; var o = this._events[a]; if (o.fn) o.fn !== e || n && !o.once || i && o.context !== i || s(this, a); else { for (var l = 0, u = [], h = o.length; l < h; l++)(o[l].fn !== e || n && !o[l].once || i && o[l].context !== i) && u.push(o[l]); u.length ? this._events[a] = 1 === u.length ? u[0] : u : s(this, a) } return this }, o.prototype.removeAllListeners = function (t) { var e; return t ? (e = r ? r + t : t, this._events[e] && s(this, e)) : (this._events = new i, this._eventsCount = 0), this }, o.prototype.off = o.prototype.removeListener, o.prototype.addListener = o.prototype.on, o.prefixed = r, o.EventEmitter = o, t.exports = o }(Hn); var Vn = v(Hn.exports); function Yn(t, e) { if (!((r = e.remuxResult).audio || r.video || r.text || r.id3 || r.initSegment)) return !1; var r, i = [], n = e.remuxResult, a = n.audio, s = n.video; return a && Wn(i, a), s && Wn(i, s), t.postMessage({ event: "transmuxComplete", data: e }, i), !0 } function Wn(t, e) { e.data1 && t.push(e.data1.buffer), e.data2 && t.push(e.data2.buffer) } function jn(t, e, r) { e.reduce((function (e, r) { return Yn(t, r) || e }), !1) || t.postMessage({ event: "transmuxComplete", data: e[0] }), t.postMessage({ event: "flush", data: r }) } void 0 !== e && e && function (t) { var e = new Vn, r = function (e, r) { t.postMessage({ event: e, data: r }) }; e.on(S.FRAG_DECRYPTED, r), e.on(S.ERROR, r); var i = function () { var t = function (t) { var e = function (e) { r("workerLog", { logType: t, message: e }) }; w[t] = e }; for (var e in w) t(e) }; t.addEventListener("message", (function (n) { var a = n.data; switch (a.cmd) { case "init": var s = JSON.parse(a.config); t.transmuxer = new Nn(e, a.typeSupported, s, "", a.id), I(s.debug, a.id), i(), r("init", null); break; case "configure": t.transmuxer.configure(a.config); break; case "demux": var o = t.transmuxer.push(a.data, a.decryptdata, a.chunkMeta, a.state); Bn(o) ? (t.transmuxer.async = !0, o.then((function (e) { Yn(t, e) })).catch((function (t) { r(S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_PARSING_ERROR, chunkMeta: a.chunkMeta, fatal: !1, error: t, err: t, reason: "transmuxer-worker push error" }) }))) : (t.transmuxer.async = !1, Yn(t, o)); break; case "flush": var l = a.chunkMeta, u = t.transmuxer.flush(l); Bn(u) || t.transmuxer.async ? (Bn(u) || (u = Promise.resolve(u)), u.then((function (e) { jn(t, e, l) })).catch((function (t) { r(S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_PARSING_ERROR, chunkMeta: a.chunkMeta, fatal: !1, error: t, err: t, reason: "transmuxer-worker flush error" }) }))) : jn(t, u, l) } })) }(self); var qn = function () { function e(e, r, i, n) { var a = this; this.error = null, this.hls = void 0, this.id = void 0, this.observer = void 0, this.frag = null, this.part = null, this.useWorker = void 0, this.workerContext = null, this.onwmsg = void 0, this.transmuxer = null, this.onTransmuxComplete = void 0, this.onFlush = void 0; var s = e.config; this.hls = e, this.id = r, this.useWorker = !!s.enableWorker, this.onTransmuxComplete = i, this.onFlush = n; var o = function (t, e) { (e = e || {}).frag = a.frag, e.id = a.id, t === S.ERROR && (a.error = e.error), a.hls.trigger(t, e) }; this.observer = new Vn, this.observer.on(S.FRAG_DECRYPTED, o), this.observer.on(S.ERROR, o); var l, u, h, d, c = se(s.preferManagedMediaSource) || { isTypeSupported: function () { return !1 } }, f = { mpeg: c.isTypeSupported("audio/mpeg"), mp3: c.isTypeSupported('audio/mp4; codecs="mp3"'), ac3: c.isTypeSupported('audio/mp4; codecs="ac-3"') }; if (!this.useWorker || "undefined" == typeof Worker || (s.workerPath, 0)) this.transmuxer = new Nn(this.observer, f, s, "", r); else try { s.workerPath ? (w.log("loading Web Worker " + s.workerPath + ' for "' + r + '"'), this.workerContext = (h = s.workerPath, d = new self.URL(h, self.location.href).href, { worker: new self.Worker(d), scriptURL: d })) : (w.log('injecting Web Worker for "' + r + '"'), this.workerContext = (l = new self.Blob(["var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(" + t.toString() + ")(true);"], { type: "text/javascript" }), u = self.URL.createObjectURL(l), { worker: new self.Worker(u), objectURL: u })), this.onwmsg = function (t) { return a.onWorkerMessage(t) }; var g = this.workerContext.worker; g.addEventListener("message", this.onwmsg), g.onerror = function (t) { var e = new Error(t.message + "  (" + t.filename + ":" + t.lineno + ")"); s.enableWorker = !1, w.warn('Error in "' + r + '" Web Worker, fallback to inline'), a.hls.trigger(S.ERROR, { type: L.OTHER_ERROR, details: A.INTERNAL_EXCEPTION, fatal: !1, event: "demuxerWorker", error: e }) }, g.postMessage({ cmd: "init", typeSupported: f, vendor: "", id: r, config: JSON.stringify(s) }) } catch (t) { w.warn('Error setting up "' + r + '" Web Worker, fallback to inline', t), this.resetWorker(), this.error = null, this.transmuxer = new Nn(this.observer, f, s, "", r) } } var r = e.prototype; return r.resetWorker = function () { if (this.workerContext) { var t = this.workerContext, e = t.worker, r = t.objectURL; r && self.URL.revokeObjectURL(r), e.removeEventListener("message", this.onwmsg), e.onerror = null, e.terminate(), this.workerContext = null } }, r.destroy = function () { if (this.workerContext) this.resetWorker(), this.onwmsg = void 0; else { var t = this.transmuxer; t && (t.destroy(), this.transmuxer = null) } var e = this.observer; e && e.removeAllListeners(), this.frag = null, this.observer = null, this.hls = null }, r.push = function (t, e, r, i, n, a, s, o, l, u) { var h, d, c = this; l.transmuxing.start = self.performance.now(); var f = this.transmuxer, g = a ? a.start : n.start, v = n.decryptdata, m = this.frag, p = !(m && n.cc === m.cc), y = !(m && l.level === m.level), E = m ? l.sn - m.sn : -1, T = this.part ? l.part - this.part.index : -1, S = 0 === E && l.id > 1 && l.id === (null == m ? void 0 : m.stats.chunkCount), L = !y && (1 === E || 0 === E && (1 === T || S && T <= 0)), A = self.performance.now(); (y || E || 0 === n.stats.parsing.start) && (n.stats.parsing.start = A), !a || !T && L || (a.stats.parsing.start = A); var R = !(m && (null == (h = n.initSegment) ? void 0 : h.url) === (null == (d = m.initSegment) ? void 0 : d.url)), b = new Kn(p, L, o, y, g, R); if (!L || p || R) { w.log("[transmuxer-interface, " + n.type + "]: Starting new transmux session for sn: " + l.sn + " p: " + l.part + " level: " + l.level + " id: " + l.id + "\n        discontinuity: " + p + "\n        trackSwitch: " + y + "\n        contiguous: " + L + "\n        accurateTimeOffset: " + o + "\n        timeOffset: " + g + "\n        initSegmentChange: " + R); var k = new Gn(r, i, e, s, u); this.configureTransmuxer(k) } if (this.frag = n, this.part = a, this.workerContext) this.workerContext.worker.postMessage({ cmd: "demux", data: t, decryptdata: v, chunkMeta: l, state: b }, t instanceof ArrayBuffer ? [t] : []); else if (f) { var D = f.push(t, v, l, b); Bn(D) ? (f.async = !0, D.then((function (t) { c.handleTransmuxComplete(t) })).catch((function (t) { c.transmuxerError(t, l, "transmuxer-interface push error") }))) : (f.async = !1, this.handleTransmuxComplete(D)) } }, r.flush = function (t) { var e = this; t.transmuxing.start = self.performance.now(); var r = this.transmuxer; if (this.workerContext) this.workerContext.worker.postMessage({ cmd: "flush", chunkMeta: t }); else if (r) { var i = r.flush(t); Bn(i) || r.async ? (Bn(i) || (i = Promise.resolve(i)), i.then((function (r) { e.handleFlushResult(r, t) })).catch((function (r) { e.transmuxerError(r, t, "transmuxer-interface flush error") }))) : this.handleFlushResult(i, t) } }, r.transmuxerError = function (t, e, r) { this.hls && (this.error = t, this.hls.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_PARSING_ERROR, chunkMeta: e, frag: this.frag || void 0, fatal: !1, error: t, err: t, reason: r })) }, r.handleFlushResult = function (t, e) { var r = this; t.forEach((function (t) { r.handleTransmuxComplete(t) })), this.onFlush(e) }, r.onWorkerMessage = function (t) { var e = t.data; if (null != e && e.event) { var r = this.hls; if (this.hls) switch (e.event) { case "init": var i, n = null == (i = this.workerContext) ? void 0 : i.objectURL; n && self.URL.revokeObjectURL(n); break; case "transmuxComplete": this.handleTransmuxComplete(e.data); break; case "flush": this.onFlush(e.data); break; case "workerLog": w[e.data.logType] && w[e.data.logType](e.data.message); break; default: e.data = e.data || {}, e.data.frag = this.frag, e.data.id = this.id, r.trigger(e.event, e.data) } } else w.warn("worker message received with no " + (e ? "event name" : "data")) }, r.configureTransmuxer = function (t) { var e = this.transmuxer; this.workerContext ? this.workerContext.worker.postMessage({ cmd: "configure", config: t }) : e && e.configure(t) }, r.handleTransmuxComplete = function (t) { t.chunkMeta.transmuxing.end = self.performance.now(), this.onTransmuxComplete(t) }, e }(); function Xn(t, e) { if (t.length !== e.length) return !1; for (var r = 0; r < t.length; r++)if (!zn(t[r].attrs, e[r].attrs)) return !1; return !0 } function zn(t, e, r) { var i = t["STABLE-RENDITION-ID"]; return i && !r ? i === e["STABLE-RENDITION-ID"] : !(r || ["LANGUAGE", "NAME", "CHARACTERISTICS", "AUTOSELECT", "DEFAULT", "FORCED", "ASSOC-LANGUAGE"]).some((function (r) { return t[r] !== e[r] })) } function Qn(t, e) { return e.label.toLowerCase() === t.name.toLowerCase() && (!e.language || e.language.toLowerCase() === (t.lang || "").toLowerCase()) } var Jn = function (t) { function e(e, r, i) { var n; return (n = t.call(this, e, r, i, "[audio-stream-controller]", Me) || this).videoBuffer = null, n.videoTrackCC = -1, n.waitingVideoCC = -1, n.bufferedTrack = null, n.switchingTrack = null, n.trackId = -1, n.waitingData = null, n.mainDetails = null, n.flushing = !1, n.bufferFlushed = !1, n.cachedTrackLoadedData = null, n._registerListeners(), n } l(e, t); var r = e.prototype; return r.onHandlerDestroying = function () { this._unregisterListeners(), t.prototype.onHandlerDestroying.call(this), this.mainDetails = null, this.bufferedTrack = null, this.switchingTrack = null }, r._registerListeners = function () { var t = this.hls; t.on(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.LEVEL_LOADED, this.onLevelLoaded, this), t.on(S.AUDIO_TRACKS_UPDATED, this.onAudioTracksUpdated, this), t.on(S.AUDIO_TRACK_SWITCHING, this.onAudioTrackSwitching, this), t.on(S.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this), t.on(S.ERROR, this.onError, this), t.on(S.BUFFER_RESET, this.onBufferReset, this), t.on(S.BUFFER_CREATED, this.onBufferCreated, this), t.on(S.BUFFER_FLUSHING, this.onBufferFlushing, this), t.on(S.BUFFER_FLUSHED, this.onBufferFlushed, this), t.on(S.INIT_PTS_FOUND, this.onInitPtsFound, this), t.on(S.FRAG_BUFFERED, this.onFragBuffered, this) }, r._unregisterListeners = function () { var t = this.hls; t.off(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.LEVEL_LOADED, this.onLevelLoaded, this), t.off(S.AUDIO_TRACKS_UPDATED, this.onAudioTracksUpdated, this), t.off(S.AUDIO_TRACK_SWITCHING, this.onAudioTrackSwitching, this), t.off(S.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this), t.off(S.ERROR, this.onError, this), t.off(S.BUFFER_RESET, this.onBufferReset, this), t.off(S.BUFFER_CREATED, this.onBufferCreated, this), t.off(S.BUFFER_FLUSHING, this.onBufferFlushing, this), t.off(S.BUFFER_FLUSHED, this.onBufferFlushed, this), t.off(S.INIT_PTS_FOUND, this.onInitPtsFound, this), t.off(S.FRAG_BUFFERED, this.onFragBuffered, this) }, r.onInitPtsFound = function (t, e) { var r = e.frag, i = e.id, n = e.initPTS, a = e.timescale; if ("main" === i) { var s = r.cc; this.initPTS[r.cc] = { baseTime: n, timescale: a }, this.log("InitPTS for cc: " + s + " found from main: " + n), this.videoTrackCC = s, this.state === wi && this.tick() } }, r.startLoad = function (t) { if (!this.levels) return this.startPosition = t, void (this.state = Ei); var e = this.lastCurrentTime; this.stopLoad(), this.setInterval(100), e > 0 && -1 === t ? (this.log("Override startPosition with lastCurrentTime @" + e.toFixed(3)), t = e, this.state = Ti) : (this.loadedmetadata = !1, this.state = Ri), this.nextLoadPosition = this.startPosition = this.lastCurrentTime = t, this.tick() }, r.doTick = function () { switch (this.state) { case Ti: this.doTickIdle(); break; case Ri: var e, r = this.levels, i = this.trackId, n = null == r || null == (e = r[i]) ? void 0 : e.details; if (n) { if (this.waitForCdnTuneIn(n)) break; this.state = wi } break; case Ai: var a, s = performance.now(), o = this.retryDate; if (!o || s >= o || null != (a = this.media) && a.seeking) { var l = this.levels, u = this.trackId; this.log("RetryDate reached, switch back to IDLE state"), this.resetStartWhenNotLoaded((null == l ? void 0 : l[u]) || null), this.state = Ti } break; case wi: var h = this.waitingData; if (h) { var d = h.frag, c = h.part, f = h.cache, g = h.complete; if (void 0 !== this.initPTS[d.cc]) { this.waitingData = null, this.waitingVideoCC = -1, this.state = Li; var v = { frag: d, part: c, payload: f.flush(), networkDetails: null }; this._handleFragmentLoadProgress(v), g && t.prototype._handleFragmentLoadComplete.call(this, v) } else if (this.videoTrackCC !== this.waitingVideoCC) this.log("Waiting fragment cc (" + d.cc + ") cancelled because video is at cc " + this.videoTrackCC), this.clearWaitingFragment(); else { var m = this.getLoadPosition(), p = ri.bufferInfo(this.mediaBuffer, m, this.config.maxBufferHole); Rr(p.end, this.config.maxFragLookUpTolerance, d) < 0 && (this.log("Waiting fragment cc (" + d.cc + ") @ " + d.start + " cancelled because another fragment at " + p.end + " is needed"), this.clearWaitingFragment()) } } else this.state = Ti }this.onTickEnd() }, r.clearWaitingFragment = function () { var t = this.waitingData; t && (this.fragmentTracker.removeFragment(t.frag), this.waitingData = null, this.waitingVideoCC = -1, this.state = Ti) }, r.resetLoadingState = function () { this.clearWaitingFragment(), t.prototype.resetLoadingState.call(this) }, r.onTickEnd = function () { var t = this.media; null != t && t.readyState && (this.lastCurrentTime = t.currentTime) }, r.doTickIdle = function () { var t = this.hls, e = this.levels, r = this.media, i = this.trackId, n = t.config; if ((r || !this.startFragRequested && n.startFragPrefetch) && null != e && e[i]) { var a = e[i], s = a.details; if (!s || s.live && this.levelLastLoaded !== a || this.waitForCdnTuneIn(s)) this.state = Ri; else { var o = this.mediaBuffer ? this.mediaBuffer : this.media; this.bufferFlushed && o && (this.bufferFlushed = !1, this.afterBufferFlushed(o, O, Me)); var l = this.getFwdBufferInfo(o, Me); if (null !== l) { var u = this.bufferedTrack, h = this.switchingTrack; if (!h && this._streamEnded(l, s)) return t.trigger(S.BUFFER_EOS, { type: "audio" }), void (this.state = Di); var d = this.getFwdBufferInfo(this.videoBuffer ? this.videoBuffer : this.media, Fe), c = l.len, f = this.getMaxBufferLength(null == d ? void 0 : d.len), g = s.fragments, v = g[0].start, m = this.flushing ? this.getLoadPosition() : l.end; if (h && r) { var p = this.getLoadPosition(); u && !zn(h.attrs, u.attrs) && (m = p), s.PTSKnown && p < v && (l.end > v || l.nextStart) && (this.log("Alt audio track ahead of main track, seek to start of alt audio track"), r.currentTime = v + .05) } if (!(c >= f && !h && m < g[g.length - 1].start)) { var y = this.getNextFragment(m, s), E = !1; if (y && this.isLoopLoading(y, m) && (E = !!y.gap, y = this.getNextFragmentLoopLoading(y, s, l, Fe, f)), y) { var T = d && y.start > d.end + s.targetduration; if (T || (null == d || !d.len) && l.len) { var L = this.getAppendedFrag(y.start, Fe); if (null === L) return; if (E || (E = !!L.gap || !!T && 0 === d.len), T && !E || E && l.nextStart && l.nextStart < L.end) return } this.loadFragment(y, a, m) } else this.bufferFlushed = !0 } } } } }, r.getMaxBufferLength = function (e) { var r = t.prototype.getMaxBufferLength.call(this); return e ? Math.min(Math.max(r, e), this.config.maxMaxBufferLength) : r }, r.onMediaDetaching = function () { this.videoBuffer = null, this.bufferFlushed = this.flushing = !1, t.prototype.onMediaDetaching.call(this) }, r.onAudioTracksUpdated = function (t, e) { var r = e.audioTracks; this.resetTransmuxer(), this.levels = r.map((function (t) { return new or(t) })) }, r.onAudioTrackSwitching = function (t, e) { var r = !!e.url; this.trackId = e.id; var i = this.fragCurrent; i && (i.abortRequests(), this.removeUnbufferedFrags(i.start)), this.resetLoadingState(), r ? this.setInterval(100) : this.resetTransmuxer(), r ? (this.switchingTrack = e, this.state = Ti, this.flushAudioIfNeeded(e)) : (this.switchingTrack = null, this.bufferedTrack = e, this.state = Ei), this.tick() }, r.onManifestLoading = function () { this.fragmentTracker.removeAllFragments(), this.startPosition = this.lastCurrentTime = 0, this.bufferFlushed = this.flushing = !1, this.levels = this.mainDetails = this.waitingData = this.bufferedTrack = this.cachedTrackLoadedData = this.switchingTrack = null, this.startFragRequested = !1, this.trackId = this.videoTrackCC = this.waitingVideoCC = -1 }, r.onLevelLoaded = function (t, e) { this.mainDetails = e.details, null !== this.cachedTrackLoadedData && (this.hls.trigger(S.AUDIO_TRACK_LOADED, this.cachedTrackLoadedData), this.cachedTrackLoadedData = null) }, r.onAudioTrackLoaded = function (t, e) { var r; if (null != this.mainDetails) { var i = this.levels, n = e.details, a = e.id; if (i) { this.log("Audio track " + a + " loaded [" + n.startSN + "," + n.endSN + "]" + (n.lastPartSn ? "[part-" + n.lastPartSn + "-" + n.lastPartIndex + "]" : "") + ",duration:" + n.totalduration); var s = i[a], o = 0; if (n.live || null != (r = s.details) && r.live) { this.checkLiveUpdate(n); var l, u = this.mainDetails; if (n.deltaUpdateFailed || !u) return; !s.details && n.hasProgramDateTime && u.hasProgramDateTime ? (li(n, u), o = n.fragments[0].start) : o = this.alignPlaylists(n, s.details, null == (l = this.levelLastLoaded) ? void 0 : l.details) } s.details = n, this.levelLastLoaded = s, this.startFragRequested || !this.mainDetails && n.live || this.setStartPosition(this.mainDetails || n, o), this.state !== Ri || this.waitForCdnTuneIn(n) || (this.state = Ti), this.tick() } else this.warn("Audio tracks were reset while loading level " + a) } else this.cachedTrackLoadedData = e }, r._handleFragmentLoadProgress = function (t) { var e, r = t.frag, i = t.part, n = t.payload, a = this.config, s = this.trackId, o = this.levels; if (o) { var l = o[s]; if (l) { var u = l.details; if (!u) return this.warn("Audio track details undefined on fragment load progress"), void this.removeUnbufferedFrags(r.start); var h = a.defaultAudioCodec || l.audioCodec || "mp4a.40.2", d = this.transmuxer; d || (d = this.transmuxer = new qn(this.hls, Me, this._handleTransmuxComplete.bind(this), this._handleTransmuxerFlush.bind(this))); var c = this.initPTS[r.cc], f = null == (e = r.initSegment) ? void 0 : e.data; if (void 0 !== c) { var g = i ? i.index : -1, v = -1 !== g, m = new ii(r.level, r.sn, r.stats.chunkCount, n.byteLength, g, v); d.push(n, f, h, "", r, i, u.totalduration, !1, m, c) } else this.log("Unknown video PTS for cc " + r.cc + ", waiting for video PTS before demuxing audio frag " + r.sn + " of [" + u.startSN + " ," + u.endSN + "],track " + s), (this.waitingData = this.waitingData || { frag: r, part: i, cache: new xi, complete: !1 }).cache.push(new Uint8Array(n)), this.waitingVideoCC = this.videoTrackCC, this.state = wi } else this.warn("Audio track is undefined on fragment load progress") } else this.warn("Audio tracks were reset while fragment load was in progress. Fragment " + r.sn + " of level " + r.level + " will not be buffered") }, r._handleFragmentLoadComplete = function (e) { this.waitingData ? this.waitingData.complete = !0 : t.prototype._handleFragmentLoadComplete.call(this, e) }, r.onBufferReset = function () { this.mediaBuffer = this.videoBuffer = null, this.loadedmetadata = !1 }, r.onBufferCreated = function (t, e) { var r = e.tracks.audio; r && (this.mediaBuffer = r.buffer || null), e.tracks.video && (this.videoBuffer = e.tracks.video.buffer || null) }, r.onFragBuffered = function (t, e) { var r = e.frag, n = e.part; if (r.type === Me) if (this.fragContextChanged(r)) this.warn("Fragment " + r.sn + (n ? " p: " + n.index : "") + " of level " + r.level + " finished buffering, but was aborted. state: " + this.state + ", audioSwitch: " + (this.switchingTrack ? this.switchingTrack.name : "false")); else { if ("initSegment" !== r.sn) { this.fragPrevious = r; var a = this.switchingTrack; a && (this.bufferedTrack = a, this.switchingTrack = null, this.hls.trigger(S.AUDIO_TRACK_SWITCHED, i({}, a))) } this.fragBufferedComplete(r, n) } else if (!this.loadedmetadata && r.type === Fe) { var s = this.videoBuffer || this.media; s && ri.getBuffered(s).length && (this.loadedmetadata = !0) } }, r.onError = function (e, r) { var i; if (r.fatal) this.state = Ii; else switch (r.details) { case A.FRAG_GAP: case A.FRAG_PARSING_ERROR: case A.FRAG_DECRYPT_ERROR: case A.FRAG_LOAD_ERROR: case A.FRAG_LOAD_TIMEOUT: case A.KEY_LOAD_ERROR: case A.KEY_LOAD_TIMEOUT: this.onFragmentOrKeyLoadError(Me, r); break; case A.AUDIO_TRACK_LOAD_ERROR: case A.AUDIO_TRACK_LOAD_TIMEOUT: case A.LEVEL_PARSING_ERROR: r.levelRetry || this.state !== Ri || (null == (i = r.context) ? void 0 : i.type) !== xe || (this.state = Ti); break; case A.BUFFER_APPEND_ERROR: case A.BUFFER_FULL_ERROR: if (!r.parent || "audio" !== r.parent) return; if (r.details === A.BUFFER_APPEND_ERROR) return void this.resetLoadingState(); this.reduceLengthAndFlushBuffer(r) && (this.bufferedTrack = null, t.prototype.flushMainBuffer.call(this, 0, Number.POSITIVE_INFINITY, "audio")); break; case A.INTERNAL_EXCEPTION: this.recoverWorkerError(r) } }, r.onBufferFlushing = function (t, e) { e.type !== N && (this.flushing = !0) }, r.onBufferFlushed = function (t, e) { var r = e.type; if (r !== N) { this.flushing = !1, this.bufferFlushed = !0, this.state === Di && (this.state = Ti); var i = this.mediaBuffer || this.media; i && (this.afterBufferFlushed(i, r, Me), this.tick()) } }, r._handleTransmuxComplete = function (t) { var e, r = "audio", i = this.hls, n = t.remuxResult, a = t.chunkMeta, s = this.getCurrentContext(a); if (s) { var l = s.frag, u = s.part, h = s.level, d = h.details, c = n.audio, f = n.text, g = n.id3, v = n.initSegment; if (!this.fragContextChanged(l) && d) { if (this.state = bi, this.switchingTrack && c && this.completeAudioSwitch(this.switchingTrack), null != v && v.tracks) { var m = l.initSegment || l; this._bufferInitSegment(h, v.tracks, m, a), i.trigger(S.FRAG_PARSING_INIT_SEGMENT, { frag: m, id: r, tracks: v.tracks }) } if (c) { var p = c.startPTS, y = c.endPTS, E = c.startDTS, T = c.endDTS; u && (u.elementaryStreams[O] = { startPTS: p, endPTS: y, startDTS: E, endDTS: T }), l.setElementaryStreamInfo(O, p, y, E, T), this.bufferFragmentData(c, l, u, a) } if (null != g && null != (e = g.samples) && e.length) { var L = o({ id: r, frag: l, details: d }, g); i.trigger(S.FRAG_PARSING_METADATA, L) } if (f) { var A = o({ id: r, frag: l, details: d }, f); i.trigger(S.FRAG_PARSING_USERDATA, A) } } else this.fragmentTracker.removeFragment(l) } else this.resetWhenMissingContext(a) }, r._bufferInitSegment = function (t, e, r, i) { if (this.state === bi) { e.video && delete e.video; var n = e.audio; if (n) { n.id = "audio"; var a = t.audioCodec; this.log("Init audio buffer, container:" + n.container + ", codecs[level/parsed]=[" + a + "/" + n.codec + "]"), a && 1 === a.split(",").length && (n.levelCodec = a), this.hls.trigger(S.BUFFER_CODECS, e); var s = n.initSegment; if (null != s && s.byteLength) { var o = { type: "audio", frag: r, part: null, chunkMeta: i, parent: r.type, data: s }; this.hls.trigger(S.BUFFER_APPENDING, o) } this.tickImmediate() } } }, r.loadFragment = function (e, r, i) { var n, a = this.fragmentTracker.getState(e); if (this.fragCurrent = e, this.switchingTrack || a === Xr || a === Qr) if ("initSegment" === e.sn) this._loadInitSegment(e, r); else if (null != (n = r.details) && n.live && !this.initPTS[e.cc]) { this.log("Waiting for video PTS in continuity counter " + e.cc + " of live stream before loading audio fragment " + e.sn + " of level " + this.trackId), this.state = wi; var s = this.mainDetails; s && s.fragments[0].start !== r.details.fragments[0].start && li(r.details, s) } else this.startFragRequested = !0, t.prototype.loadFragment.call(this, e, r, i); else this.clearTrackerIfNeeded(e) }, r.flushAudioIfNeeded = function (e) { var r = this.media, i = this.bufferedTrack, n = null == i ? void 0 : i.attrs, a = e.attrs; r && n && (n.CHANNELS !== a.CHANNELS || i.name !== e.name || i.lang !== e.lang) && (this.log("Switching audio track : flushing all audio"), t.prototype.flushMainBuffer.call(this, 0, Number.POSITIVE_INFINITY, "audio"), this.bufferedTrack = null) }, r.completeAudioSwitch = function (t) { var e = this.hls; this.flushAudioIfNeeded(t), this.bufferedTrack = t, this.switchingTrack = null, e.trigger(S.AUDIO_TRACK_SWITCHED, i({}, t)) }, e }(_i), $n = function (t) { function e(e) { var r; return (r = t.call(this, e, "[audio-track-controller]") || this).tracks = [], r.groupIds = null, r.tracksInGroup = [], r.trackId = -1, r.currentTrack = null, r.selectDefaultTrack = !0, r.registerListeners(), r } l(e, t); var r = e.prototype; return r.registerListeners = function () { var t = this.hls; t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.MANIFEST_PARSED, this.onManifestParsed, this), t.on(S.LEVEL_LOADING, this.onLevelLoading, this), t.on(S.LEVEL_SWITCHING, this.onLevelSwitching, this), t.on(S.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this), t.on(S.ERROR, this.onError, this) }, r.unregisterListeners = function () { var t = this.hls; t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.MANIFEST_PARSED, this.onManifestParsed, this), t.off(S.LEVEL_LOADING, this.onLevelLoading, this), t.off(S.LEVEL_SWITCHING, this.onLevelSwitching, this), t.off(S.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this), t.off(S.ERROR, this.onError, this) }, r.destroy = function () { this.unregisterListeners(), this.tracks.length = 0, this.tracksInGroup.length = 0, this.currentTrack = null, t.prototype.destroy.call(this) }, r.onManifestLoading = function () { this.tracks = [], this.tracksInGroup = [], this.groupIds = null, this.currentTrack = null, this.trackId = -1, this.selectDefaultTrack = !0 }, r.onManifestParsed = function (t, e) { this.tracks = e.audioTracks || [] }, r.onAudioTrackLoaded = function (t, e) { var r = e.id, i = e.groupId, n = e.details, a = this.tracksInGroup[r]; if (a && a.groupId === i) { var s = a.details; a.details = e.details, this.log("Audio track " + r + ' "' + a.name + '" lang:' + a.lang + " group:" + i + " loaded [" + n.startSN + "-" + n.endSN + "]"), r === this.trackId && this.playlistLoaded(r, e, s) } else this.warn("Audio track with id:" + r + " and group:" + i + " not found in active group " + (null == a ? void 0 : a.groupId)) }, r.onLevelLoading = function (t, e) { this.switchLevel(e.level) }, r.onLevelSwitching = function (t, e) { this.switchLevel(e.level) }, r.switchLevel = function (t) { var e = this.hls.levels[t]; if (e) { var r = e.audioGroups || null, i = this.groupIds, n = this.currentTrack; if (!r || (null == i ? void 0 : i.length) !== (null == r ? void 0 : r.length) || null != r && r.some((function (t) { return -1 === (null == i ? void 0 : i.indexOf(t)) }))) { this.groupIds = r, this.trackId = -1, this.currentTrack = null; var a = this.tracks.filter((function (t) { return !r || -1 !== r.indexOf(t.groupId) })); if (a.length) this.selectDefaultTrack && !a.some((function (t) { return t.default })) && (this.selectDefaultTrack = !1), a.forEach((function (t, e) { t.id = e })); else if (!n && !this.tracksInGroup.length) return; this.tracksInGroup = a; var s = this.hls.config.audioPreference; if (!n && s) { var o = Hr(s, a, Yr); if (o > -1) n = a[o]; else { var l = Hr(s, this.tracks); n = this.tracks[l] } } var u = this.findTrackId(n); -1 === u && n && (u = this.findTrackId(null)); var h = { audioTracks: a }; this.log("Updating audio tracks, " + a.length + " track(s) found in group(s): " + (null == r ? void 0 : r.join(","))), this.hls.trigger(S.AUDIO_TRACKS_UPDATED, h); var d = this.trackId; if (-1 !== u && -1 === d) this.setAudioTrack(u); else if (a.length && -1 === d) { var c, f = new Error("No audio track selected for current audio group-ID(s): " + (null == (c = this.groupIds) ? void 0 : c.join(",")) + " track count: " + a.length); this.warn(f.message), this.hls.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.AUDIO_TRACK_LOAD_ERROR, fatal: !0, error: f }) } } else this.shouldReloadPlaylist(n) && this.setAudioTrack(this.trackId) } }, r.onError = function (t, e) { !e.fatal && e.context && (e.context.type !== xe || e.context.id !== this.trackId || this.groupIds && -1 === this.groupIds.indexOf(e.context.groupId) || (this.requestScheduled = -1, this.checkRetry(e))) }, r.setAudioOption = function (t) { var e = this.hls; if (e.config.audioPreference = t, t) { var r = this.allAudioTracks; if (this.selectDefaultTrack = !1, r.length) { var i = this.currentTrack; if (i && Vr(t, i, Yr)) return i; var n = Hr(t, this.tracksInGroup, Yr); if (n > -1) { var a = this.tracksInGroup[n]; return this.setAudioTrack(n), a } if (i) { var s = e.loadLevel; -1 === s && (s = e.firstAutoLevel); var o = function (t, e, r, i, n) { var a = e[i], s = e.reduce((function (t, e, r) { var i = e.uri; return (t[i] || (t[i] = [])).push(r), t }), {})[a.uri]; s.length > 1 && (i = Math.max.apply(Math, s)); var o = a.videoRange, l = a.frameRate, u = a.codecSet.substring(0, 4), h = Wr(e, i, (function (e) { if (e.videoRange !== o || e.frameRate !== l || e.codecSet.substring(0, 4) !== u) return !1; var i = e.audioGroups, a = r.filter((function (t) { return !i || -1 !== i.indexOf(t.groupId) })); return Hr(t, a, n) > -1 })); return h > -1 ? h : Wr(e, i, (function (e) { var i = e.audioGroups, a = r.filter((function (t) { return !i || -1 !== i.indexOf(t.groupId) })); return Hr(t, a, n) > -1 })) }(t, e.levels, r, s, Yr); if (-1 === o) return null; e.nextLoadLevel = o } if (t.channels || t.audioCodec) { var l = Hr(t, r); if (l > -1) return r[l] } } } return null }, r.setAudioTrack = function (t) { var e = this.tracksInGroup; if (t < 0 || t >= e.length) this.warn("Invalid audio track id: " + t); else { this.clearTimer(), this.selectDefaultTrack = !1; var r = this.currentTrack, n = e[t], a = n.details && !n.details.live; if (!(t === this.trackId && n === r && a || (this.log("Switching to audio-track " + t + ' "' + n.name + '" lang:' + n.lang + " group:" + n.groupId + " channels:" + n.channels), this.trackId = t, this.currentTrack = n, this.hls.trigger(S.AUDIO_TRACK_SWITCHING, i({}, n)), a))) { var s = this.switchParams(n.url, null == r ? void 0 : r.details, n.details); this.loadPlaylist(s) } } }, r.findTrackId = function (t) { for (var e = this.tracksInGroup, r = 0; r < e.length; r++) { var i = e[r]; if ((!this.selectDefaultTrack || i.default) && (!t || Vr(t, i, Yr))) return r } if (t) { for (var n = t.name, a = t.lang, s = t.assocLang, o = t.characteristics, l = t.audioCodec, u = t.channels, h = 0; h < e.length; h++)if (Vr({ name: n, lang: a, assocLang: s, characteristics: o, audioCodec: l, channels: u }, e[h], Yr)) return h; for (var d = 0; d < e.length; d++) { var c = e[d]; if (zn(t.attrs, c.attrs, ["LANGUAGE", "ASSOC-LANGUAGE", "CHARACTERISTICS"])) return d } for (var f = 0; f < e.length; f++) { var g = e[f]; if (zn(t.attrs, g.attrs, ["LANGUAGE"])) return f } } return -1 }, r.loadPlaylist = function (e) { var r = this.currentTrack; if (this.shouldLoadPlaylist(r) && r) { t.prototype.loadPlaylist.call(this); var i = r.id, n = r.groupId, a = r.url; if (e) try { a = e.addDirectives(a) } catch (t) { this.warn("Could not construct new URL with HLS Delivery Directives: " + t) } this.log("loading audio-track playlist " + i + ' "' + r.name + '" lang:' + r.lang + " group:" + n), this.clearTimer(), this.hls.trigger(S.AUDIO_TRACK_LOADING, { url: a, id: i, groupId: n, deliveryDirectives: e || null }) } }, s(e, [{ key: "allAudioTracks", get: function () { return this.tracks } }, { key: "audioTracks", get: function () { return this.tracksInGroup } }, { key: "audioTrack", get: function () { return this.trackId }, set: function (t) { this.selectDefaultTrack = !1, this.setAudioTrack(t) } }]), e }(Fr), Zn = function (t) { function e(e, r, i) { var n; return (n = t.call(this, e, r, i, "[subtitle-stream-controller]", Oe) || this).currentTrackId = -1, n.tracksBuffered = [], n.mainDetails = null, n._registerListeners(), n } l(e, t); var r = e.prototype; return r.onHandlerDestroying = function () { this._unregisterListeners(), t.prototype.onHandlerDestroying.call(this), this.mainDetails = null }, r._registerListeners = function () { var t = this.hls; t.on(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.LEVEL_LOADED, this.onLevelLoaded, this), t.on(S.ERROR, this.onError, this), t.on(S.SUBTITLE_TRACKS_UPDATED, this.onSubtitleTracksUpdated, this), t.on(S.SUBTITLE_TRACK_SWITCH, this.onSubtitleTrackSwitch, this), t.on(S.SUBTITLE_TRACK_LOADED, this.onSubtitleTrackLoaded, this), t.on(S.SUBTITLE_FRAG_PROCESSED, this.onSubtitleFragProcessed, this), t.on(S.BUFFER_FLUSHING, this.onBufferFlushing, this), t.on(S.FRAG_BUFFERED, this.onFragBuffered, this) }, r._unregisterListeners = function () { var t = this.hls; t.off(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.LEVEL_LOADED, this.onLevelLoaded, this), t.off(S.ERROR, this.onError, this), t.off(S.SUBTITLE_TRACKS_UPDATED, this.onSubtitleTracksUpdated, this), t.off(S.SUBTITLE_TRACK_SWITCH, this.onSubtitleTrackSwitch, this), t.off(S.SUBTITLE_TRACK_LOADED, this.onSubtitleTrackLoaded, this), t.off(S.SUBTITLE_FRAG_PROCESSED, this.onSubtitleFragProcessed, this), t.off(S.BUFFER_FLUSHING, this.onBufferFlushing, this), t.off(S.FRAG_BUFFERED, this.onFragBuffered, this) }, r.startLoad = function (t) { this.stopLoad(), this.state = Ti, this.setInterval(500), this.nextLoadPosition = this.startPosition = this.lastCurrentTime = t, this.tick() }, r.onManifestLoading = function () { this.mainDetails = null, this.fragmentTracker.removeAllFragments() }, r.onMediaDetaching = function () { this.tracksBuffered = [], t.prototype.onMediaDetaching.call(this) }, r.onLevelLoaded = function (t, e) { this.mainDetails = e.details }, r.onSubtitleFragProcessed = function (t, e) { var r = e.frag, i = e.success; if (this.fragPrevious = r, this.state = Ti, i) { var n = this.tracksBuffered[this.currentTrackId]; if (n) { for (var a, s = r.start, o = 0; o < n.length; o++)if (s >= n[o].start && s <= n[o].end) { a = n[o]; break } var l = r.start + r.duration; a ? a.end = l : (a = { start: s, end: l }, n.push(a)), this.fragmentTracker.fragBuffered(r), this.fragBufferedComplete(r, null) } } }, r.onBufferFlushing = function (t, e) { var r = e.startOffset, i = e.endOffset; if (0 === r && i !== Number.POSITIVE_INFINITY) { var n = i - 1; if (n <= 0) return; e.endOffsetSubtitles = Math.max(0, n), this.tracksBuffered.forEach((function (t) { for (var e = 0; e < t.length;)if (t[e].end <= n) t.shift(); else { if (!(t[e].start < n)) break; t[e].start = n, e++ } })), this.fragmentTracker.removeFragmentsInRange(r, n, Oe) } }, r.onFragBuffered = function (t, e) { var r; this.loadedmetadata || e.frag.type !== Fe || null != (r = this.media) && r.buffered.length && (this.loadedmetadata = !0) }, r.onError = function (t, e) { var r = e.frag; (null == r ? void 0 : r.type) === Oe && (e.details === A.FRAG_GAP && this.fragmentTracker.fragBuffered(r, !0), this.fragCurrent && this.fragCurrent.abortRequests(), this.state !== Ei && (this.state = Ti)) }, r.onSubtitleTracksUpdated = function (t, e) { var r = this, i = e.subtitleTracks; this.levels && Xn(this.levels, i) ? this.levels = i.map((function (t) { return new or(t) })) : (this.tracksBuffered = [], this.levels = i.map((function (t) { var e = new or(t); return r.tracksBuffered[e.id] = [], e })), this.fragmentTracker.removeFragmentsInRange(0, Number.POSITIVE_INFINITY, Oe), this.fragPrevious = null, this.mediaBuffer = null) }, r.onSubtitleTrackSwitch = function (t, e) { var r; if (this.currentTrackId = e.id, null != (r = this.levels) && r.length && -1 !== this.currentTrackId) { var i = this.levels[this.currentTrackId]; null != i && i.details ? this.mediaBuffer = this.mediaBufferTimeRanges : this.mediaBuffer = null, i && this.setInterval(500) } else this.clearInterval() }, r.onSubtitleTrackLoaded = function (t, e) { var r, i = this.currentTrackId, n = this.levels, a = e.details, s = e.id; if (n) { var o = n[s]; if (!(s >= n.length) && o) { this.log("Subtitle track " + s + " loaded [" + a.startSN + "," + a.endSN + "]" + (a.lastPartSn ? "[part-" + a.lastPartSn + "-" + a.lastPartIndex + "]" : "") + ",duration:" + a.totalduration), this.mediaBuffer = this.mediaBufferTimeRanges; var l = 0; if (a.live || null != (r = o.details) && r.live) { var u = this.mainDetails; if (a.deltaUpdateFailed || !u) return; var h, d = u.fragments[0]; o.details ? 0 === (l = this.alignPlaylists(a, o.details, null == (h = this.levelLastLoaded) ? void 0 : h.details)) && d && fr(a, l = d.start) : a.hasProgramDateTime && u.hasProgramDateTime ? (li(a, u), l = a.fragments[0].start) : d && fr(a, l = d.start) } o.details = a, this.levelLastLoaded = o, s === i && (this.startFragRequested || !this.mainDetails && a.live || this.setStartPosition(this.mainDetails || a, l), this.tick(), a.live && !this.fragCurrent && this.media && this.state === Ti && (Ar(null, a.fragments, this.media.currentTime, 0) || (this.warn("Subtitle playlist not aligned with playback"), o.details = void 0))) } } else this.warn("Subtitle tracks were reset while loading level " + s) }, r._handleFragmentLoadComplete = function (t) { var e = this, r = t.frag, i = t.payload, n = r.decryptdata, a = this.hls; if (!this.fragContextChanged(r) && i && i.byteLength > 0 && null != n && n.key && n.iv && "AES-128" === n.method) { var s = performance.now(); this.decrypter.decrypt(new Uint8Array(i), n.key.buffer, n.iv.buffer).catch((function (t) { throw a.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.FRAG_DECRYPT_ERROR, fatal: !1, error: t, reason: t.message, frag: r }), t })).then((function (t) { var e = performance.now(); a.trigger(S.FRAG_DECRYPTED, { frag: r, payload: t, stats: { tstart: s, tdecrypt: e } }) })).catch((function (t) { e.warn(t.name + ": " + t.message), e.state = Ti })) } }, r.doTick = function () { if (this.media) { if (this.state === Ti) { var t = this.currentTrackId, e = this.levels, r = null == e ? void 0 : e[t]; if (!r || !e.length || !r.details) return; var i = this.config, n = this.getLoadPosition(), a = ri.bufferedInfo(this.tracksBuffered[this.currentTrackId] || [], n, i.maxBufferHole), s = a.end, o = a.len, l = this.getFwdBufferInfo(this.media, Fe), u = r.details; if (o > this.getMaxBufferLength(null == l ? void 0 : l.len) + u.levelTargetDuration) return; var h = u.fragments, d = h.length, c = u.edge, f = null, g = this.fragPrevious; if (s < c) { var v = i.maxFragLookUpTolerance, m = s > c - v ? 0 : v; !(f = Ar(g, h, Math.max(h[0].start, s), m)) && g && g.start < h[0].start && (f = h[0]) } else f = h[d - 1]; if (!f) return; if ("initSegment" !== (f = this.mapToInitFragWhenRequired(f)).sn) { var p = h[f.sn - u.startSN - 1]; p && p.cc === f.cc && this.fragmentTracker.getState(p) === Xr && (f = p) } this.fragmentTracker.getState(f) === Xr && this.loadFragment(f, r, s) } } else this.state = Ti }, r.getMaxBufferLength = function (e) { var r = t.prototype.getMaxBufferLength.call(this); return e ? Math.max(r, e) : r }, r.loadFragment = function (e, r, i) { this.fragCurrent = e, "initSegment" === e.sn ? this._loadInitSegment(e, r) : (this.startFragRequested = !0, t.prototype.loadFragment.call(this, e, r, i)) }, s(e, [{ key: "mediaBufferTimeRanges", get: function () { return new ta(this.tracksBuffered[this.currentTrackId] || []) } }]), e }(_i), ta = function (t) { this.buffered = void 0; var e = function (e, r, i) { if ((r >>>= 0) > i - 1) throw new DOMException("Failed to execute '" + e + "' on 'TimeRanges': The index provided (" + r + ") is greater than the maximum bound (" + i + ")"); return t[r][e] }; this.buffered = { get length() { return t.length }, end: function (r) { return e("end", r, t.length) }, start: function (r) { return e("start", r, t.length) } } }, ea = function (t) { function e(e) { var r; return (r = t.call(this, e, "[subtitle-track-controller]") || this).media = null, r.tracks = [], r.groupIds = null, r.tracksInGroup = [], r.trackId = -1, r.currentTrack = null, r.selectDefaultTrack = !0, r.queuedDefaultTrack = -1, r.asyncPollTrackChange = function () { return r.pollTrackChange(0) }, r.useTextTrackPolling = !1, r.subtitlePollingInterval = -1, r._subtitleDisplay = !0, r.onTextTracksChanged = function () { if (r.useTextTrackPolling || self.clearInterval(r.subtitlePollingInterval), r.media && r.hls.config.renderTextTracksNatively) { for (var t = null, e = Ye(r.media.textTracks), i = 0; i < e.length; i++)if ("hidden" === e[i].mode) t = e[i]; else if ("showing" === e[i].mode) { t = e[i]; break } var n = r.findTrackForTextTrack(t); r.subtitleTrack !== n && r.setSubtitleTrack(n) } }, r.registerListeners(), r } l(e, t); var r = e.prototype; return r.destroy = function () { this.unregisterListeners(), this.tracks.length = 0, this.tracksInGroup.length = 0, this.currentTrack = null, this.onTextTracksChanged = this.asyncPollTrackChange = null, t.prototype.destroy.call(this) }, r.registerListeners = function () { var t = this.hls; t.on(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.MANIFEST_PARSED, this.onManifestParsed, this), t.on(S.LEVEL_LOADING, this.onLevelLoading, this), t.on(S.LEVEL_SWITCHING, this.onLevelSwitching, this), t.on(S.SUBTITLE_TRACK_LOADED, this.onSubtitleTrackLoaded, this), t.on(S.ERROR, this.onError, this) }, r.unregisterListeners = function () { var t = this.hls; t.off(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.MANIFEST_PARSED, this.onManifestParsed, this), t.off(S.LEVEL_LOADING, this.onLevelLoading, this), t.off(S.LEVEL_SWITCHING, this.onLevelSwitching, this), t.off(S.SUBTITLE_TRACK_LOADED, this.onSubtitleTrackLoaded, this), t.off(S.ERROR, this.onError, this) }, r.onMediaAttached = function (t, e) { this.media = e.media, this.media && (this.queuedDefaultTrack > -1 && (this.subtitleTrack = this.queuedDefaultTrack, this.queuedDefaultTrack = -1), this.useTextTrackPolling = !(this.media.textTracks && "onchange" in this.media.textTracks), this.useTextTrackPolling ? this.pollTrackChange(500) : this.media.textTracks.addEventListener("change", this.asyncPollTrackChange)) }, r.pollTrackChange = function (t) { self.clearInterval(this.subtitlePollingInterval), this.subtitlePollingInterval = self.setInterval(this.onTextTracksChanged, t) }, r.onMediaDetaching = function () { this.media && (self.clearInterval(this.subtitlePollingInterval), this.useTextTrackPolling || this.media.textTracks.removeEventListener("change", this.asyncPollTrackChange), this.trackId > -1 && (this.queuedDefaultTrack = this.trackId), Ye(this.media.textTracks).forEach((function (t) { He(t) })), this.subtitleTrack = -1, this.media = null) }, r.onManifestLoading = function () { this.tracks = [], this.groupIds = null, this.tracksInGroup = [], this.trackId = -1, this.currentTrack = null, this.selectDefaultTrack = !0 }, r.onManifestParsed = function (t, e) { this.tracks = e.subtitleTracks }, r.onSubtitleTrackLoaded = function (t, e) { var r = e.id, i = e.groupId, n = e.details, a = this.tracksInGroup[r]; if (a && a.groupId === i) { var s = a.details; a.details = e.details, this.log("Subtitle track " + r + ' "' + a.name + '" lang:' + a.lang + " group:" + i + " loaded [" + n.startSN + "-" + n.endSN + "]"), r === this.trackId && this.playlistLoaded(r, e, s) } else this.warn("Subtitle track with id:" + r + " and group:" + i + " not found in active group " + (null == a ? void 0 : a.groupId)) }, r.onLevelLoading = function (t, e) { this.switchLevel(e.level) }, r.onLevelSwitching = function (t, e) { this.switchLevel(e.level) }, r.switchLevel = function (t) { var e = this.hls.levels[t]; if (e) { var r = e.subtitleGroups || null, i = this.groupIds, n = this.currentTrack; if (!r || (null == i ? void 0 : i.length) !== (null == r ? void 0 : r.length) || null != r && r.some((function (t) { return -1 === (null == i ? void 0 : i.indexOf(t)) }))) { this.groupIds = r, this.trackId = -1, this.currentTrack = null; var a = this.tracks.filter((function (t) { return !r || -1 !== r.indexOf(t.groupId) })); if (a.length) this.selectDefaultTrack && !a.some((function (t) { return t.default })) && (this.selectDefaultTrack = !1), a.forEach((function (t, e) { t.id = e })); else if (!n && !this.tracksInGroup.length) return; this.tracksInGroup = a; var s = this.hls.config.subtitlePreference; if (!n && s) { this.selectDefaultTrack = !1; var o = Hr(s, a); if (o > -1) n = a[o]; else { var l = Hr(s, this.tracks); n = this.tracks[l] } } var u = this.findTrackId(n); -1 === u && n && (u = this.findTrackId(null)); var h = { subtitleTracks: a }; this.log("Updating subtitle tracks, " + a.length + ' track(s) found in "' + (null == r ? void 0 : r.join(",")) + '" group-id'), this.hls.trigger(S.SUBTITLE_TRACKS_UPDATED, h), -1 !== u && -1 === this.trackId && this.setSubtitleTrack(u) } else this.shouldReloadPlaylist(n) && this.setSubtitleTrack(this.trackId) } }, r.findTrackId = function (t) { for (var e = this.tracksInGroup, r = this.selectDefaultTrack, i = 0; i < e.length; i++) { var n = e[i]; if ((!r || n.default) && (r || t) && (!t || Vr(n, t))) return i } if (t) { for (var a = 0; a < e.length; a++) { var s = e[a]; if (zn(t.attrs, s.attrs, ["LANGUAGE", "ASSOC-LANGUAGE", "CHARACTERISTICS"])) return a } for (var o = 0; o < e.length; o++) { var l = e[o]; if (zn(t.attrs, l.attrs, ["LANGUAGE"])) return o } } return -1 }, r.findTrackForTextTrack = function (t) { if (t) for (var e = this.tracksInGroup, r = 0; r < e.length; r++)if (Qn(e[r], t)) return r; return -1 }, r.onError = function (t, e) { !e.fatal && e.context && (e.context.type !== Pe || e.context.id !== this.trackId || this.groupIds && -1 === this.groupIds.indexOf(e.context.groupId) || this.checkRetry(e)) }, r.setSubtitleOption = function (t) { if (this.hls.config.subtitlePreference = t, t) { var e = this.allSubtitleTracks; if (this.selectDefaultTrack = !1, e.length) { var r = this.currentTrack; if (r && Vr(t, r)) return r; var i = Hr(t, this.tracksInGroup); if (i > -1) { var n = this.tracksInGroup[i]; return this.setSubtitleTrack(i), n } if (r) return null; var a = Hr(t, e); if (a > -1) return e[a] } } return null }, r.loadPlaylist = function (e) { t.prototype.loadPlaylist.call(this); var r = this.currentTrack; if (this.shouldLoadPlaylist(r) && r) { var i = r.id, n = r.groupId, a = r.url; if (e) try { a = e.addDirectives(a) } catch (t) { this.warn("Could not construct new URL with HLS Delivery Directives: " + t) } this.log("Loading subtitle playlist for id " + i), this.hls.trigger(S.SUBTITLE_TRACK_LOADING, { url: a, id: i, groupId: n, deliveryDirectives: e || null }) } }, r.toggleTrackModes = function () { var t = this.media; if (t) { var e, r = Ye(t.textTracks), i = this.currentTrack; if (i && ((e = r.filter((function (t) { return Qn(i, t) }))[0]) || this.warn('Unable to find subtitle TextTrack with name "' + i.name + '" and language "' + i.lang + '"')), [].slice.call(r).forEach((function (t) { "disabled" !== t.mode && t !== e && (t.mode = "disabled") })), e) { var n = this.subtitleDisplay ? "showing" : "hidden"; e.mode !== n && (e.mode = n) } } }, r.setSubtitleTrack = function (t) { var e = this.tracksInGroup; if (this.media) if (t < -1 || t >= e.length || !y(t)) this.warn("Invalid subtitle track id: " + t); else { this.clearTimer(), this.selectDefaultTrack = !1; var r = this.currentTrack, i = e[t] || null; if (this.trackId = t, this.currentTrack = i, this.toggleTrackModes(), i) { var n = !!i.details && !i.details.live; if (t !== this.trackId || i !== r || !n) { this.log("Switching to subtitle-track " + t + (i ? ' "' + i.name + '" lang:' + i.lang + " group:" + i.groupId : "")); var a = i.id, s = i.groupId, o = void 0 === s ? "" : s, l = i.name, u = i.type, h = i.url; this.hls.trigger(S.SUBTITLE_TRACK_SWITCH, { id: a, groupId: o, name: l, type: u, url: h }); var d = this.switchParams(i.url, null == r ? void 0 : r.details, i.details); this.loadPlaylist(d) } } else this.hls.trigger(S.SUBTITLE_TRACK_SWITCH, { id: t }) } else this.queuedDefaultTrack = t }, s(e, [{ key: "subtitleDisplay", get: function () { return this._subtitleDisplay }, set: function (t) { this._subtitleDisplay = t, this.trackId > -1 && this.toggleTrackModes() } }, { key: "allSubtitleTracks", get: function () { return this.tracks } }, { key: "subtitleTracks", get: function () { return this.tracksInGroup } }, { key: "subtitleTrack", get: function () { return this.trackId }, set: function (t) { this.selectDefaultTrack = !1, this.setSubtitleTrack(t) } }]), e }(Fr), ra = function () { function t(t) { this.buffers = void 0, this.queues = { video: [], audio: [], audiovideo: [] }, this.buffers = t } var e = t.prototype; return e.append = function (t, e, r) { var i = this.queues[e]; i.push(t), 1 !== i.length || r || this.executeNext(e) }, e.insertAbort = function (t, e) { this.queues[e].unshift(t), this.executeNext(e) }, e.appendBlocker = function (t) { var e, r = new Promise((function (t) { e = t })), i = { execute: e, onStart: function () { }, onComplete: function () { }, onError: function () { } }; return this.append(i, t), r }, e.executeNext = function (t) { var e = this.queues[t]; if (e.length) { var r = e[0]; try { r.execute() } catch (e) { w.warn('[buffer-operation-queue]: Exception executing "' + t + '" SourceBuffer operation: ' + e), r.onError(e); var i = this.buffers[t]; null != i && i.updating || this.shiftAndExecuteNext(t) } } }, e.shiftAndExecuteNext = function (t) { this.queues[t].shift(), this.executeNext(t) }, e.current = function (t) { return this.queues[t][0] }, t }(), ia = /(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/, na = function () { function t(t) { var e = this; this.details = null, this._objectUrl = null, this.operationQueue = void 0, this.listeners = void 0, this.hls = void 0, this.bufferCodecEventsExpected = 0, this._bufferCodecEventsTotal = 0, this.media = null, this.mediaSource = null, this.lastMpegAudioChunk = null, this.appendSource = void 0, this.appendErrors = { audio: 0, video: 0, audiovideo: 0 }, this.tracks = {}, this.pendingTracks = {}, this.sourceBuffer = void 0, this.log = void 0, this.warn = void 0, this.error = void 0, this._onEndStreaming = function (t) { e.hls && e.hls.pauseBuffering() }, this._onStartStreaming = function (t) { e.hls && e.hls.resumeBuffering() }, this._onMediaSourceOpen = function () { var t = e.media, r = e.mediaSource; e.log("Media source opened"), t && (t.removeEventListener("emptied", e._onMediaEmptied), e.updateMediaElementDuration(), e.hls.trigger(S.MEDIA_ATTACHED, { media: t, mediaSource: r })), r && r.removeEventListener("sourceopen", e._onMediaSourceOpen), e.checkPendingTracks() }, this._onMediaSourceClose = function () { e.log("Media source closed") }, this._onMediaSourceEnded = function () { e.log("Media source ended") }, this._onMediaEmptied = function () { var t = e.mediaSrc, r = e._objectUrl; t !== r && w.error("Media element src was set while attaching MediaSource (" + r + " > " + t + ")") }, this.hls = t; var r, i = "[buffer-controller]"; this.appendSource = (r = se(t.config.preferManagedMediaSource), "undefined" != typeof self && r === self.ManagedMediaSource), this.log = w.log.bind(w, i), this.warn = w.warn.bind(w, i), this.error = w.error.bind(w, i), this._initSourceBuffer(), this.registerListeners() } var e = t.prototype; return e.hasSourceTypes = function () { return this.getSourceBufferTypes().length > 0 || Object.keys(this.pendingTracks).length > 0 }, e.destroy = function () { this.unregisterListeners(), this.details = null, this.lastMpegAudioChunk = null, this.hls = null }, e.registerListeners = function () { var t = this.hls; t.on(S.MEDIA_ATTACHING, this.onMediaAttaching, this), t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.MANIFEST_PARSED, this.onManifestParsed, this), t.on(S.BUFFER_RESET, this.onBufferReset, this), t.on(S.BUFFER_APPENDING, this.onBufferAppending, this), t.on(S.BUFFER_CODECS, this.onBufferCodecs, this), t.on(S.BUFFER_EOS, this.onBufferEos, this), t.on(S.BUFFER_FLUSHING, this.onBufferFlushing, this), t.on(S.LEVEL_UPDATED, this.onLevelUpdated, this), t.on(S.FRAG_PARSED, this.onFragParsed, this), t.on(S.FRAG_CHANGED, this.onFragChanged, this) }, e.unregisterListeners = function () { var t = this.hls; t.off(S.MEDIA_ATTACHING, this.onMediaAttaching, this), t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.MANIFEST_PARSED, this.onManifestParsed, this), t.off(S.BUFFER_RESET, this.onBufferReset, this), t.off(S.BUFFER_APPENDING, this.onBufferAppending, this), t.off(S.BUFFER_CODECS, this.onBufferCodecs, this), t.off(S.BUFFER_EOS, this.onBufferEos, this), t.off(S.BUFFER_FLUSHING, this.onBufferFlushing, this), t.off(S.LEVEL_UPDATED, this.onLevelUpdated, this), t.off(S.FRAG_PARSED, this.onFragParsed, this), t.off(S.FRAG_CHANGED, this.onFragChanged, this) }, e._initSourceBuffer = function () { this.sourceBuffer = {}, this.operationQueue = new ra(this.sourceBuffer), this.listeners = { audio: [], video: [], audiovideo: [] }, this.appendErrors = { audio: 0, video: 0, audiovideo: 0 }, this.lastMpegAudioChunk = null }, e.onManifestLoading = function () { this.bufferCodecEventsExpected = this._bufferCodecEventsTotal = 0, this.details = null }, e.onManifestParsed = function (t, e) { var r = 2; (e.audio && !e.video || !e.altAudio) && (r = 1), this.bufferCodecEventsExpected = this._bufferCodecEventsTotal = r, this.log(this.bufferCodecEventsExpected + " bufferCodec event(s) expected") }, e.onMediaAttaching = function (t, e) { var r = this.media = e.media, i = se(this.appendSource); if (r && i) { var n, a = this.mediaSource = new i; this.log("created media source: " + (null == (n = a.constructor) ? void 0 : n.name)), a.addEventListener("sourceopen", this._onMediaSourceOpen), a.addEventListener("sourceended", this._onMediaSourceEnded), a.addEventListener("sourceclose", this._onMediaSourceClose), this.appendSource && (a.addEventListener("startstreaming", this._onStartStreaming), a.addEventListener("endstreaming", this._onEndStreaming)); var s = this._objectUrl = self.URL.createObjectURL(a); if (this.appendSource) try { r.removeAttribute("src"); var o = self.ManagedMediaSource; r.disableRemotePlayback = r.disableRemotePlayback || o && a instanceof o, aa(r), function (t, e) { var r = self.document.createElement("source"); r.type = "video/mp4", r.src = e, t.appendChild(r) }(r, s), r.load() } catch (t) { r.src = s } else r.src = s; r.addEventListener("emptied", this._onMediaEmptied) } }, e.onMediaDetaching = function () { var t = this.media, e = this.mediaSource, r = this._objectUrl; if (e) { if (this.log("media source detaching"), "open" === e.readyState) try { e.endOfStream() } catch (t) { this.warn("onMediaDetaching: " + t.message + " while calling endOfStream") } this.onBufferReset(), e.removeEventListener("sourceopen", this._onMediaSourceOpen), e.removeEventListener("sourceended", this._onMediaSourceEnded), e.removeEventListener("sourceclose", this._onMediaSourceClose), this.appendSource && (e.removeEventListener("startstreaming", this._onStartStreaming), e.removeEventListener("endstreaming", this._onEndStreaming)), t && (t.removeEventListener("emptied", this._onMediaEmptied), r && self.URL.revokeObjectURL(r), this.mediaSrc === r ? (t.removeAttribute("src"), this.appendSource && aa(t), t.load()) : this.warn("media|source.src was changed by a third party - skip cleanup")), this.mediaSource = null, this.media = null, this._objectUrl = null, this.bufferCodecEventsExpected = this._bufferCodecEventsTotal, this.pendingTracks = {}, this.tracks = {} } this.hls.trigger(S.MEDIA_DETACHED, void 0) }, e.onBufferReset = function () { var t = this; this.getSourceBufferTypes().forEach((function (e) { t.resetBuffer(e) })), this._initSourceBuffer() }, e.resetBuffer = function (t) { var e = this.sourceBuffer[t]; try { var r; e && (this.removeBufferListeners(t), this.sourceBuffer[t] = void 0, null != (r = this.mediaSource) && r.sourceBuffers.length && this.mediaSource.removeSourceBuffer(e)) } catch (e) { this.warn("onBufferReset " + t, e) } }, e.onBufferCodecs = function (t, e) { var r = this, i = this.getSourceBufferTypes().length, n = Object.keys(e); if (n.forEach((function (t) { if (i) { var n = r.tracks[t]; if (n && "function" == typeof n.buffer.changeType) { var a, s = e[t], o = s.id, l = s.codec, u = s.levelCodec, h = s.container, d = s.metadata, c = me(n.codec, n.levelCodec), f = null == c ? void 0 : c.replace(ia, "$1"), g = me(l, u), v = null == (a = g) ? void 0 : a.replace(ia, "$1"); if (g && f !== v) { "audio" === t.slice(0, 5) && (g = ve(g, r.appendSource)); var m = h + ";codecs=" + g; r.appendChangeType(t, m), r.log("switching codec " + c + " to " + g), r.tracks[t] = { buffer: n.buffer, codec: l, container: h, levelCodec: u, metadata: d, id: o } } } } else r.pendingTracks[t] = e[t] })), !i) { var a = Math.max(this.bufferCodecEventsExpected - 1, 0); this.bufferCodecEventsExpected !== a && (this.log(a + " bufferCodec event(s) expected " + n.join(",")), this.bufferCodecEventsExpected = a), this.mediaSource && "open" === this.mediaSource.readyState && this.checkPendingTracks() } }, e.appendChangeType = function (t, e) { var r = this, i = this.operationQueue, n = { execute: function () { var n = r.sourceBuffer[t]; n && (r.log("changing " + t + " sourceBuffer type to " + e), n.changeType(e)), i.shiftAndExecuteNext(t) }, onStart: function () { }, onComplete: function () { }, onError: function (e) { r.warn("Failed to change " + t + " SourceBuffer type", e) } }; i.append(n, t, !!this.pendingTracks[t]) }, e.onBufferAppending = function (t, e) { var r = this, i = this.hls, n = this.operationQueue, a = this.tracks, s = e.data, o = e.type, l = e.frag, u = e.part, h = e.chunkMeta, d = h.buffering[o], c = self.performance.now(); d.start = c; var f = l.stats.buffering, g = u ? u.stats.buffering : null; 0 === f.start && (f.start = c), g && 0 === g.start && (g.start = c); var v = a.audio, m = !1; "audio" === o && "audio/mpeg" === (null == v ? void 0 : v.container) && (m = !this.lastMpegAudioChunk || 1 === h.id || this.lastMpegAudioChunk.sn !== h.sn, this.lastMpegAudioChunk = h); var p = l.start, y = { execute: function () { if (d.executeStart = self.performance.now(), m) { var t = r.sourceBuffer[o]; if (t) { var e = p - t.timestampOffset; Math.abs(e) >= .1 && (r.log("Updating audio SourceBuffer timestampOffset to " + p + " (delta: " + e + ") sn: " + l.sn + ")"), t.timestampOffset = p) } } r.appendExecutor(s, o) }, onStart: function () { }, onComplete: function () { var t = self.performance.now(); d.executeEnd = d.end = t, 0 === f.first && (f.first = t), g && 0 === g.first && (g.first = t); var e = r.sourceBuffer, i = {}; for (var n in e) i[n] = ri.getBuffered(e[n]); r.appendErrors[o] = 0, "audio" === o || "video" === o ? r.appendErrors.audiovideo = 0 : (r.appendErrors.audio = 0, r.appendErrors.video = 0), r.hls.trigger(S.BUFFER_APPENDED, { type: o, frag: l, part: u, chunkMeta: h, parent: l.type, timeRanges: i }) }, onError: function (t) { var e = { type: L.MEDIA_ERROR, parent: l.type, details: A.BUFFER_APPEND_ERROR, sourceBufferName: o, frag: l, part: u, chunkMeta: h, error: t, err: t, fatal: !1 }; if (t.code === DOMException.QUOTA_EXCEEDED_ERR) e.details = A.BUFFER_FULL_ERROR; else { var n = ++r.appendErrors[o]; e.details = A.BUFFER_APPEND_ERROR, r.warn("Failed " + n + "/" + i.config.appendErrorMaxRetry + ' times to append segment in "' + o + '" sourceBuffer'), n >= i.config.appendErrorMaxRetry && (e.fatal = !0) } i.trigger(S.ERROR, e) } }; n.append(y, o, !!this.pendingTracks[o]) }, e.onBufferFlushing = function (t, e) { var r = this, i = this.operationQueue, n = function (t) { return { execute: r.removeExecutor.bind(r, t, e.startOffset, e.endOffset), onStart: function () { }, onComplete: function () { r.hls.trigger(S.BUFFER_FLUSHED, { type: t }) }, onError: function (e) { r.warn("Failed to remove from " + t + " SourceBuffer", e) } } }; e.type ? i.append(n(e.type), e.type) : this.getSourceBufferTypes().forEach((function (t) { i.append(n(t), t) })) }, e.onFragParsed = function (t, e) { var r = this, i = e.frag, n = e.part, a = [], s = n ? n.elementaryStreams : i.elementaryStreams; s[U] ? a.push("audiovideo") : (s[O] && a.push("audio"), s[N] && a.push("video")), 0 === a.length && this.warn("Fragments must have at least one ElementaryStreamType set. type: " + i.type + " level: " + i.level + " sn: " + i.sn), this.blockBuffers((function () { var t = self.performance.now(); i.stats.buffering.end = t, n && (n.stats.buffering.end = t); var e = n ? n.stats : i.stats; r.hls.trigger(S.FRAG_BUFFERED, { frag: i, part: n, stats: e, id: i.type }) }), a) }, e.onFragChanged = function (t, e) { this.trimBuffers() }, e.onBufferEos = function (t, e) { var r = this; this.getSourceBufferTypes().reduce((function (t, i) { var n = r.sourceBuffer[i]; return !n || e.type && e.type !== i || (n.ending = !0, n.ended || (n.ended = !0, r.log(i + " sourceBuffer now EOS"))), t && !(n && !n.ended) }), !0) && (this.log("Queueing mediaSource.endOfStream()"), this.blockBuffers((function () { r.getSourceBufferTypes().forEach((function (t) { var e = r.sourceBuffer[t]; e && (e.ending = !1) })); var t = r.mediaSource; t && "open" === t.readyState ? (r.log("Calling mediaSource.endOfStream()"), t.endOfStream()) : t && r.log("Could not call mediaSource.endOfStream(). mediaSource.readyState: " + t.readyState) }))) }, e.onLevelUpdated = function (t, e) { var r = e.details; r.fragments.length && (this.details = r, this.getSourceBufferTypes().length ? this.blockBuffers(this.updateMediaElementDuration.bind(this)) : this.updateMediaElementDuration()) }, e.trimBuffers = function () { var t = this.hls, e = this.details, r = this.media; if (r && null !== e && this.getSourceBufferTypes().length) { var i = t.config, n = r.currentTime, a = e.levelTargetDuration, s = e.live && null !== i.liveBackBufferLength ? i.liveBackBufferLength : i.backBufferLength; if (y(s) && s > 0) { var o = Math.max(s, a), l = Math.floor(n / a) * a - o; this.flushBackBuffer(n, a, l) } if (y(i.frontBufferFlushThreshold) && i.frontBufferFlushThreshold > 0) { var u = Math.max(i.maxBufferLength, i.frontBufferFlushThreshold), h = Math.max(u, a), d = Math.floor(n / a) * a + h; this.flushFrontBuffer(n, a, d) } } }, e.flushBackBuffer = function (t, e, r) { var i = this, n = this.details, a = this.sourceBuffer; this.getSourceBufferTypes().forEach((function (s) { var o = a[s]; if (o) { var l = ri.getBuffered(o); if (l.length > 0 && r > l.start(0)) { if (i.hls.trigger(S.BACK_BUFFER_REACHED, { bufferEnd: r }), null != n && n.live) i.hls.trigger(S.LIVE_BACK_BUFFER_REACHED, { bufferEnd: r }); else if (o.ended && l.end(l.length - 1) - t < 2 * e) return void i.log("Cannot flush " + s + " back buffer while SourceBuffer is in ended state"); i.hls.trigger(S.BUFFER_FLUSHING, { startOffset: 0, endOffset: r, type: s }) } } })) }, e.flushFrontBuffer = function (t, e, r) { var i = this, n = this.sourceBuffer; this.getSourceBufferTypes().forEach((function (a) { var s = n[a]; if (s) { var o = ri.getBuffered(s), l = o.length; if (l < 2) return; var u = o.start(l - 1), h = o.end(l - 1); if (r > u || t >= u && t <= h) return; if (s.ended && t - h < 2 * e) return void i.log("Cannot flush " + a + " front buffer while SourceBuffer is in ended state"); i.hls.trigger(S.BUFFER_FLUSHING, { startOffset: u, endOffset: 1 / 0, type: a }) } })) }, e.updateMediaElementDuration = function () { if (this.details && this.media && this.mediaSource && "open" === this.mediaSource.readyState) { var t = this.details, e = this.hls, r = this.media, i = this.mediaSource, n = t.fragments[0].start + t.totalduration, a = r.duration, s = y(i.duration) ? i.duration : 0; t.live && e.config.liveDurationInfinity ? (i.duration = 1 / 0, this.updateSeekableRange(t)) : (n > s && n > a || !y(a)) && (this.log("Updating Media Source duration to " + n.toFixed(3)), i.duration = n) } }, e.updateSeekableRange = function (t) { var e = this.mediaSource, r = t.fragments; if (r.length && t.live && null != e && e.setLiveSeekableRange) { var i = Math.max(0, r[0].start), n = Math.max(i, i + t.totalduration); this.log("Media Source duration is set to " + e.duration + ". Setting seekable range to " + i + "-" + n + "."), e.setLiveSeekableRange(i, n) } }, e.checkPendingTracks = function () { var t = this.bufferCodecEventsExpected, e = this.operationQueue, r = this.pendingTracks, i = Object.keys(r).length; if (i && (!t || 2 === i || "audiovideo" in r)) { this.createSourceBuffers(r), this.pendingTracks = {}; var n = this.getSourceBufferTypes(); if (n.length) this.hls.trigger(S.BUFFER_CREATED, { tracks: this.tracks }), n.forEach((function (t) { e.executeNext(t) })); else { var a = new Error("could not create source buffer for media codec(s)"); this.hls.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.BUFFER_INCOMPATIBLE_CODECS_ERROR, fatal: !0, error: a, reason: a.message }) } } }, e.createSourceBuffers = function (t) { var e = this, r = this.sourceBuffer, i = this.mediaSource; if (!i) throw Error("createSourceBuffers called when mediaSource was null"); var n = function (n) { if (!r[n]) { var a, s = t[n]; if (!s) throw Error("source buffer exists for track " + n + ", however track does not"); var o = -1 === (null == (a = s.levelCodec) ? void 0 : a.indexOf(",")) ? s.levelCodec : s.codec; o && "audio" === n.slice(0, 5) && (o = ve(o, e.appendSource)); var l = s.container + ";codecs=" + o; e.log("creating sourceBuffer(" + l + ")"); try { var u = r[n] = i.addSourceBuffer(l), h = n; e.addBufferListener(h, "updatestart", e._onSBUpdateStart), e.addBufferListener(h, "updateend", e._onSBUpdateEnd), e.addBufferListener(h, "error", e._onSBUpdateError), e.appendSource && e.addBufferListener(h, "bufferedchange", (function (t, r) { var i = r.removedRanges; null != i && i.length && e.hls.trigger(S.BUFFER_FLUSHED, { type: n }) })), e.tracks[n] = { buffer: u, codec: o, container: s.container, levelCodec: s.levelCodec, metadata: s.metadata, id: s.id } } catch (t) { e.error("error while trying to add sourceBuffer: " + t.message), e.hls.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.BUFFER_ADD_CODEC_ERROR, fatal: !1, error: t, sourceBufferName: n, mimeType: l }) } } }; for (var a in t) n(a) }, e._onSBUpdateStart = function (t) { this.operationQueue.current(t).onStart() }, e._onSBUpdateEnd = function (t) { var e; if ("closed" !== (null == (e = this.mediaSource) ? void 0 : e.readyState)) { var r = this.operationQueue; r.current(t).onComplete(), r.shiftAndExecuteNext(t) } else this.resetBuffer(t) }, e._onSBUpdateError = function (t, e) { var r, i = new Error(t + " SourceBuffer error. MediaSource readyState: " + (null == (r = this.mediaSource) ? void 0 : r.readyState)); this.error("" + i, e), this.hls.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.BUFFER_APPENDING_ERROR, sourceBufferName: t, error: i, fatal: !1 }); var n = this.operationQueue.current(t); n && n.onError(i) }, e.removeExecutor = function (t, e, r) { var i = this.media, n = this.mediaSource, a = this.operationQueue, s = this.sourceBuffer[t]; if (!i || !n || !s) return this.warn("Attempting to remove from the " + t + " SourceBuffer, but it does not exist"), void a.shiftAndExecuteNext(t); var o = y(i.duration) ? i.duration : 1 / 0, l = y(n.duration) ? n.duration : 1 / 0, u = Math.max(0, e), h = Math.min(r, o, l); h > u && (!s.ending || s.ended) ? (s.ended = !1, this.log("Removing [" + u + "," + h + "] from the " + t + " SourceBuffer"), s.remove(u, h)) : a.shiftAndExecuteNext(t) }, e.appendExecutor = function (t, e) { var r = this.sourceBuffer[e]; if (r) r.ended = !1, r.appendBuffer(t); else if (!this.pendingTracks[e]) throw new Error("Attempting to append to the " + e + " SourceBuffer, but it does not exist") }, e.blockBuffers = function (t, e) { var r = this; if (void 0 === e && (e = this.getSourceBufferTypes()), !e.length) return this.log("Blocking operation requested, but no SourceBuffers exist"), void Promise.resolve().then(t); var i = this.operationQueue, n = e.map((function (t) { return i.appendBlocker(t) })); Promise.all(n).then((function () { t(), e.forEach((function (t) { var e = r.sourceBuffer[t]; null != e && e.updating || i.shiftAndExecuteNext(t) })) })) }, e.getSourceBufferTypes = function () { return Object.keys(this.sourceBuffer) }, e.addBufferListener = function (t, e, r) { var i = this.sourceBuffer[t]; if (i) { var n = r.bind(this, t); this.listeners[t].push({ event: e, listener: n }), i.addEventListener(e, n) } }, e.removeBufferListeners = function (t) { var e = this.sourceBuffer[t]; e && this.listeners[t].forEach((function (t) { e.removeEventListener(t.event, t.listener) })) }, s(t, [{ key: "mediaSrc", get: function () { var t, e, r = (null == (t = this.media) || null == (e = t.querySelector) ? void 0 : e.call(t, "source")) || this.media; return null == r ? void 0 : r.src } }]), t }(); function aa(t) { var e = t.querySelectorAll("source");[].slice.call(e).forEach((function (e) { t.removeChild(e) })) } var sa = { 42: 225, 92: 233, 94: 237, 95: 243, 96: 250, 123: 231, 124: 247, 125: 209, 126: 241, 127: 9608, 128: 174, 129: 176, 130: 189, 131: 191, 132: 8482, 133: 162, 134: 163, 135: 9834, 136: 224, 137: 32, 138: 232, 139: 226, 140: 234, 141: 238, 142: 244, 143: 251, 144: 193, 145: 201, 146: 211, 147: 218, 148: 220, 149: 252, 150: 8216, 151: 161, 152: 42, 153: 8217, 154: 9473, 155: 169, 156: 8480, 157: 8226, 158: 8220, 159: 8221, 160: 192, 161: 194, 162: 199, 163: 200, 164: 202, 165: 203, 166: 235, 167: 206, 168: 207, 169: 239, 170: 212, 171: 217, 172: 249, 173: 219, 174: 171, 175: 187, 176: 195, 177: 227, 178: 205, 179: 204, 180: 236, 181: 210, 182: 242, 183: 213, 184: 245, 185: 123, 186: 125, 187: 92, 188: 94, 189: 95, 190: 124, 191: 8764, 192: 196, 193: 228, 194: 214, 195: 246, 196: 223, 197: 165, 198: 164, 199: 9475, 200: 197, 201: 229, 202: 216, 203: 248, 204: 9487, 205: 9491, 206: 9495, 207: 9499 }, oa = function (t) { return String.fromCharCode(sa[t] || t) }, la = 15, ua = 100, ha = { 17: 1, 18: 3, 21: 5, 22: 7, 23: 9, 16: 11, 19: 12, 20: 14 }, da = { 17: 2, 18: 4, 21: 6, 22: 8, 23: 10, 19: 13, 20: 15 }, ca = { 25: 1, 26: 3, 29: 5, 30: 7, 31: 9, 24: 11, 27: 12, 28: 14 }, fa = { 25: 2, 26: 4, 29: 6, 30: 8, 31: 10, 27: 13, 28: 15 }, ga = ["white", "green", "blue", "cyan", "red", "yellow", "magenta", "black", "transparent"], va = function () { function t() { this.time = null, this.verboseLevel = 0 } return t.prototype.log = function (t, e) { if (this.verboseLevel >= t) { var r = "function" == typeof e ? e() : e; w.log(this.time + " [" + t + "] " + r) } }, t }(), ma = function (t) { for (var e = [], r = 0; r < t.length; r++)e.push(t[r].toString(16)); return e }, pa = function () { function t() { this.foreground = "white", this.underline = !1, this.italics = !1, this.background = "black", this.flash = !1 } var e = t.prototype; return e.reset = function () { this.foreground = "white", this.underline = !1, this.italics = !1, this.background = "black", this.flash = !1 }, e.setStyles = function (t) { for (var e = ["foreground", "underline", "italics", "background", "flash"], r = 0; r < e.length; r++) { var i = e[r]; t.hasOwnProperty(i) && (this[i] = t[i]) } }, e.isDefault = function () { return "white" === this.foreground && !this.underline && !this.italics && "black" === this.background && !this.flash }, e.equals = function (t) { return this.foreground === t.foreground && this.underline === t.underline && this.italics === t.italics && this.background === t.background && this.flash === t.flash }, e.copy = function (t) { this.foreground = t.foreground, this.underline = t.underline, this.italics = t.italics, this.background = t.background, this.flash = t.flash }, e.toString = function () { return "color=" + this.foreground + ", underline=" + this.underline + ", italics=" + this.italics + ", background=" + this.background + ", flash=" + this.flash }, t }(), ya = function () { function t() { this.uchar = " ", this.penState = new pa } var e = t.prototype; return e.reset = function () { this.uchar = " ", this.penState.reset() }, e.setChar = function (t, e) { this.uchar = t, this.penState.copy(e) }, e.setPenState = function (t) { this.penState.copy(t) }, e.equals = function (t) { return this.uchar === t.uchar && this.penState.equals(t.penState) }, e.copy = function (t) { this.uchar = t.uchar, this.penState.copy(t.penState) }, e.isEmpty = function () { return " " === this.uchar && this.penState.isDefault() }, t }(), Ea = function () { function t(t) { this.chars = [], this.pos = 0, this.currPenState = new pa, this.cueStartTime = null, this.logger = void 0; for (var e = 0; e < ua; e++)this.chars.push(new ya); this.logger = t } var e = t.prototype; return e.equals = function (t) { for (var e = 0; e < ua; e++)if (!this.chars[e].equals(t.chars[e])) return !1; return !0 }, e.copy = function (t) { for (var e = 0; e < ua; e++)this.chars[e].copy(t.chars[e]) }, e.isEmpty = function () { for (var t = !0, e = 0; e < ua; e++)if (!this.chars[e].isEmpty()) { t = !1; break } return t }, e.setCursor = function (t) { this.pos !== t && (this.pos = t), this.pos < 0 ? (this.logger.log(3, "Negative cursor position " + this.pos), this.pos = 0) : this.pos > ua && (this.logger.log(3, "Too large cursor position " + this.pos), this.pos = ua) }, e.moveCursor = function (t) { var e = this.pos + t; if (t > 1) for (var r = this.pos + 1; r < e + 1; r++)this.chars[r].setPenState(this.currPenState); this.setCursor(e) }, e.backSpace = function () { this.moveCursor(-1), this.chars[this.pos].setChar(" ", this.currPenState) }, e.insertChar = function (t) { var e = this; t >= 144 && this.backSpace(); var r = oa(t); this.pos >= ua ? this.logger.log(0, (function () { return "Cannot insert " + t.toString(16) + " (" + r + ") at position " + e.pos + ". Skipping it!" })) : (this.chars[this.pos].setChar(r, this.currPenState), this.moveCursor(1)) }, e.clearFromPos = function (t) { var e; for (e = t; e < ua; e++)this.chars[e].reset() }, e.clear = function () { this.clearFromPos(0), this.pos = 0, this.currPenState.reset() }, e.clearToEndOfRow = function () { this.clearFromPos(this.pos) }, e.getTextString = function () { for (var t = [], e = !0, r = 0; r < ua; r++) { var i = this.chars[r].uchar; " " !== i && (e = !1), t.push(i) } return e ? "" : t.join("") }, e.setPenStyles = function (t) { this.currPenState.setStyles(t), this.chars[this.pos].setPenState(this.currPenState) }, t }(), Ta = function () { function t(t) { this.rows = [], this.currRow = 14, this.nrRollUpRows = null, this.lastOutputScreen = null, this.logger = void 0; for (var e = 0; e < la; e++)this.rows.push(new Ea(t)); this.logger = t } var e = t.prototype; return e.reset = function () { for (var t = 0; t < la; t++)this.rows[t].clear(); this.currRow = 14 }, e.equals = function (t) { for (var e = !0, r = 0; r < la; r++)if (!this.rows[r].equals(t.rows[r])) { e = !1; break } return e }, e.copy = function (t) { for (var e = 0; e < la; e++)this.rows[e].copy(t.rows[e]) }, e.isEmpty = function () { for (var t = !0, e = 0; e < la; e++)if (!this.rows[e].isEmpty()) { t = !1; break } return t }, e.backSpace = function () { this.rows[this.currRow].backSpace() }, e.clearToEndOfRow = function () { this.rows[this.currRow].clearToEndOfRow() }, e.insertChar = function (t) { this.rows[this.currRow].insertChar(t) }, e.setPen = function (t) { this.rows[this.currRow].setPenStyles(t) }, e.moveCursor = function (t) { this.rows[this.currRow].moveCursor(t) }, e.setCursor = function (t) { this.logger.log(2, "setCursor: " + t), this.rows[this.currRow].setCursor(t) }, e.setPAC = function (t) { this.logger.log(2, (function () { return "pacData = " + JSON.stringify(t) })); var e = t.row - 1; if (this.nrRollUpRows && e < this.nrRollUpRows - 1 && (e = this.nrRollUpRows - 1), this.nrRollUpRows && this.currRow !== e) { for (var r = 0; r < la; r++)this.rows[r].clear(); var i = this.currRow + 1 - this.nrRollUpRows, n = this.lastOutputScreen; if (n) { var a = n.rows[i].cueStartTime, s = this.logger.time; if (null !== a && null !== s && a < s) for (var o = 0; o < this.nrRollUpRows; o++)this.rows[e - this.nrRollUpRows + o + 1].copy(n.rows[i + o]) } } this.currRow = e; var l = this.rows[this.currRow]; if (null !== t.indent) { var u = t.indent, h = Math.max(u - 1, 0); l.setCursor(t.indent), t.color = l.chars[h].penState.foreground } var d = { foreground: t.color, underline: t.underline, italics: t.italics, background: "black", flash: !1 }; this.setPen(d) }, e.setBkgData = function (t) { this.logger.log(2, (function () { return "bkgData = " + JSON.stringify(t) })), this.backSpace(), this.setPen(t), this.insertChar(32) }, e.setRollUpRows = function (t) { this.nrRollUpRows = t }, e.rollUp = function () { var t = this; if (null !== this.nrRollUpRows) { this.logger.log(1, (function () { return t.getDisplayText() })); var e = this.currRow + 1 - this.nrRollUpRows, r = this.rows.splice(e, 1)[0]; r.clear(), this.rows.splice(this.currRow, 0, r), this.logger.log(2, "Rolling up") } else this.logger.log(3, "roll_up but nrRollUpRows not set yet") }, e.getDisplayText = function (t) { t = t || !1; for (var e = [], r = "", i = -1, n = 0; n < la; n++) { var a = this.rows[n].getTextString(); a && (i = n + 1, t ? e.push("Row " + i + ": '" + a + "'") : e.push(a.trim())) } return e.length > 0 && (r = t ? "[" + e.join(" | ") + "]" : e.join("\n")), r }, e.getTextAndFormat = function () { return this.rows }, t }(), Sa = function () { function t(t, e, r) { this.chNr = void 0, this.outputFilter = void 0, this.mode = void 0, this.verbose = void 0, this.displayedMemory = void 0, this.nonDisplayedMemory = void 0, this.lastOutputScreen = void 0, this.currRollUpRow = void 0, this.writeScreen = void 0, this.cueStartTime = void 0, this.logger = void 0, this.chNr = t, this.outputFilter = e, this.mode = null, this.verbose = 0, this.displayedMemory = new Ta(r), this.nonDisplayedMemory = new Ta(r), this.lastOutputScreen = new Ta(r), this.currRollUpRow = this.displayedMemory.rows[14], this.writeScreen = this.displayedMemory, this.mode = null, this.cueStartTime = null, this.logger = r } var e = t.prototype; return e.reset = function () { this.mode = null, this.displayedMemory.reset(), this.nonDisplayedMemory.reset(), this.lastOutputScreen.reset(), this.outputFilter.reset(), this.currRollUpRow = this.displayedMemory.rows[14], this.writeScreen = this.displayedMemory, this.mode = null, this.cueStartTime = null }, e.getHandler = function () { return this.outputFilter }, e.setHandler = function (t) { this.outputFilter = t }, e.setPAC = function (t) { this.writeScreen.setPAC(t) }, e.setBkgData = function (t) { this.writeScreen.setBkgData(t) }, e.setMode = function (t) { t !== this.mode && (this.mode = t, this.logger.log(2, (function () { return "MODE=" + t })), "MODE_POP-ON" === this.mode ? this.writeScreen = this.nonDisplayedMemory : (this.writeScreen = this.displayedMemory, this.writeScreen.reset()), "MODE_ROLL-UP" !== this.mode && (this.displayedMemory.nrRollUpRows = null, this.nonDisplayedMemory.nrRollUpRows = null), this.mode = t) }, e.insertChars = function (t) { for (var e = this, r = 0; r < t.length; r++)this.writeScreen.insertChar(t[r]); var i = this.writeScreen === this.displayedMemory ? "DISP" : "NON_DISP"; this.logger.log(2, (function () { return i + ": " + e.writeScreen.getDisplayText(!0) })), "MODE_PAINT-ON" !== this.mode && "MODE_ROLL-UP" !== this.mode || (this.logger.log(1, (function () { return "DISPLAYED: " + e.displayedMemory.getDisplayText(!0) })), this.outputDataUpdate()) }, e.ccRCL = function () { this.logger.log(2, "RCL - Resume Caption Loading"), this.setMode("MODE_POP-ON") }, e.ccBS = function () { this.logger.log(2, "BS - BackSpace"), "MODE_TEXT" !== this.mode && (this.writeScreen.backSpace(), this.writeScreen === this.displayedMemory && this.outputDataUpdate()) }, e.ccAOF = function () { }, e.ccAON = function () { }, e.ccDER = function () { this.logger.log(2, "DER- Delete to End of Row"), this.writeScreen.clearToEndOfRow(), this.outputDataUpdate() }, e.ccRU = function (t) { this.logger.log(2, "RU(" + t + ") - Roll Up"), this.writeScreen = this.displayedMemory, this.setMode("MODE_ROLL-UP"), this.writeScreen.setRollUpRows(t) }, e.ccFON = function () { this.logger.log(2, "FON - Flash On"), this.writeScreen.setPen({ flash: !0 }) }, e.ccRDC = function () { this.logger.log(2, "RDC - Resume Direct Captioning"), this.setMode("MODE_PAINT-ON") }, e.ccTR = function () { this.logger.log(2, "TR"), this.setMode("MODE_TEXT") }, e.ccRTD = function () { this.logger.log(2, "RTD"), this.setMode("MODE_TEXT") }, e.ccEDM = function () { this.logger.log(2, "EDM - Erase Displayed Memory"), this.displayedMemory.reset(), this.outputDataUpdate(!0) }, e.ccCR = function () { this.logger.log(2, "CR - Carriage Return"), this.writeScreen.rollUp(), this.outputDataUpdate(!0) }, e.ccENM = function () { this.logger.log(2, "ENM - Erase Non-displayed Memory"), this.nonDisplayedMemory.reset() }, e.ccEOC = function () { var t = this; if (this.logger.log(2, "EOC - End Of Caption"), "MODE_POP-ON" === this.mode) { var e = this.displayedMemory; this.displayedMemory = this.nonDisplayedMemory, this.nonDisplayedMemory = e, this.writeScreen = this.nonDisplayedMemory, this.logger.log(1, (function () { return "DISP: " + t.displayedMemory.getDisplayText() })) } this.outputDataUpdate(!0) }, e.ccTO = function (t) { this.logger.log(2, "TO(" + t + ") - Tab Offset"), this.writeScreen.moveCursor(t) }, e.ccMIDROW = function (t) { var e = { flash: !1 }; if (e.underline = t % 2 == 1, e.italics = t >= 46, e.italics) e.foreground = "white"; else { var r = Math.floor(t / 2) - 16; e.foreground = ["white", "green", "blue", "cyan", "red", "yellow", "magenta"][r] } this.logger.log(2, "MIDROW: " + JSON.stringify(e)), this.writeScreen.setPen(e) }, e.outputDataUpdate = function (t) { void 0 === t && (t = !1); var e = this.logger.time; null !== e && this.outputFilter && (null !== this.cueStartTime || this.displayedMemory.isEmpty() ? this.displayedMemory.equals(this.lastOutputScreen) || (this.outputFilter.newCue(this.cueStartTime, e, this.lastOutputScreen), t && this.outputFilter.dispatchCue && this.outputFilter.dispatchCue(), this.cueStartTime = this.displayedMemory.isEmpty() ? null : e) : this.cueStartTime = e, this.lastOutputScreen.copy(this.displayedMemory)) }, e.cueSplitAtTime = function (t) { this.outputFilter && (this.displayedMemory.isEmpty() || (this.outputFilter.newCue && this.outputFilter.newCue(this.cueStartTime, t, this.displayedMemory), this.cueStartTime = t)) }, t }(), La = function () { function t(t, e, r) { this.channels = void 0, this.currentChannel = 0, this.cmdHistory = { a: null, b: null }, this.logger = void 0; var i = this.logger = new va; this.channels = [null, new Sa(t, e, i), new Sa(t + 1, r, i)] } var e = t.prototype; return e.getHandler = function (t) { return this.channels[t].getHandler() }, e.setHandler = function (t, e) { this.channels[t].setHandler(e) }, e.addData = function (t, e) { var r = this; this.logger.time = t; for (var i = function (t) { var i = 127 & e[t], n = 127 & e[t + 1], a = !1, s = null; if (0 === i && 0 === n) return 0; r.logger.log(3, (function () { return "[" + ma([e[t], e[t + 1]]) + "] -> (" + ma([i, n]) + ")" })); var o = r.cmdHistory; if (i >= 16 && i <= 31) { if (function (t, e, r) { return r.a === t && r.b === e }(i, n, o)) return Aa(null, null, o), r.logger.log(3, (function () { return "Repeated command (" + ma([i, n]) + ") is dropped" })), 0; Aa(i, n, r.cmdHistory), (a = r.parseCmd(i, n)) || (a = r.parseMidrow(i, n)), a || (a = r.parsePAC(i, n)), a || (a = r.parseBackgroundAttributes(i, n)) } else Aa(null, null, o); if (!a && (s = r.parseChars(i, n))) { var l = r.currentChannel; l && l > 0 ? r.channels[l].insertChars(s) : r.logger.log(2, "No channel found yet. TEXT-MODE?") } a || s || r.logger.log(2, (function () { return "Couldn't parse cleaned data " + ma([i, n]) + " orig: " + ma([e[t], e[t + 1]]) })) }, n = 0; n < e.length; n += 2)i(n) }, e.parseCmd = function (t, e) { if (!((20 === t || 28 === t || 21 === t || 29 === t) && e >= 32 && e <= 47 || (23 === t || 31 === t) && e >= 33 && e <= 35)) return !1; var r = 20 === t || 21 === t || 23 === t ? 1 : 2, i = this.channels[r]; return 20 === t || 21 === t || 28 === t || 29 === t ? 32 === e ? i.ccRCL() : 33 === e ? i.ccBS() : 34 === e ? i.ccAOF() : 35 === e ? i.ccAON() : 36 === e ? i.ccDER() : 37 === e ? i.ccRU(2) : 38 === e ? i.ccRU(3) : 39 === e ? i.ccRU(4) : 40 === e ? i.ccFON() : 41 === e ? i.ccRDC() : 42 === e ? i.ccTR() : 43 === e ? i.ccRTD() : 44 === e ? i.ccEDM() : 45 === e ? i.ccCR() : 46 === e ? i.ccENM() : 47 === e && i.ccEOC() : i.ccTO(e - 32), this.currentChannel = r, !0 }, e.parseMidrow = function (t, e) { var r = 0; if ((17 === t || 25 === t) && e >= 32 && e <= 47) { if ((r = 17 === t ? 1 : 2) !== this.currentChannel) return this.logger.log(0, "Mismatch channel in midrow parsing"), !1; var i = this.channels[r]; return !!i && (i.ccMIDROW(e), this.logger.log(3, (function () { return "MIDROW (" + ma([t, e]) + ")" })), !0) } return !1 }, e.parsePAC = function (t, e) { var r; if (!((t >= 17 && t <= 23 || t >= 25 && t <= 31) && e >= 64 && e <= 127 || (16 === t || 24 === t) && e >= 64 && e <= 95)) return !1; var i = t <= 23 ? 1 : 2; r = e >= 64 && e <= 95 ? 1 === i ? ha[t] : ca[t] : 1 === i ? da[t] : fa[t]; var n = this.channels[i]; return !!n && (n.setPAC(this.interpretPAC(r, e)), this.currentChannel = i, !0) }, e.interpretPAC = function (t, e) { var r, i = { color: null, italics: !1, indent: null, underline: !1, row: t }; return r = e > 95 ? e - 96 : e - 64, i.underline = 1 == (1 & r), r <= 13 ? i.color = ["white", "green", "blue", "cyan", "red", "yellow", "magenta", "white"][Math.floor(r / 2)] : r <= 15 ? (i.italics = !0, i.color = "white") : i.indent = 4 * Math.floor((r - 16) / 2), i }, e.parseChars = function (t, e) { var r, i, n = null, a = null; return t >= 25 ? (r = 2, a = t - 8) : (r = 1, a = t), a >= 17 && a <= 19 ? (i = 17 === a ? e + 80 : 18 === a ? e + 112 : e + 144, this.logger.log(2, (function () { return "Special char '" + oa(i) + "' in channel " + r })), n = [i]) : t >= 32 && t <= 127 && (n = 0 === e ? [t] : [t, e]), n && this.logger.log(3, (function () { return "Char codes =  " + ma(n).join(",") })), n }, e.parseBackgroundAttributes = function (t, e) { var r; if (!((16 === t || 24 === t) && e >= 32 && e <= 47 || (23 === t || 31 === t) && e >= 45 && e <= 47)) return !1; var i = {}; 16 === t || 24 === t ? (r = Math.floor((e - 32) / 2), i.background = ga[r], e % 2 == 1 && (i.background = i.background + "_semi")) : 45 === e ? i.background = "transparent" : (i.foreground = "black", 47 === e && (i.underline = !0)); var n = t <= 23 ? 1 : 2; return this.channels[n].setBkgData(i), !0 }, e.reset = function () { for (var t = 0; t < Object.keys(this.channels).length; t++) { var e = this.channels[t]; e && e.reset() } Aa(null, null, this.cmdHistory) }, e.cueSplitAtTime = function (t) { for (var e = 0; e < this.channels.length; e++) { var r = this.channels[e]; r && r.cueSplitAtTime(t) } }, t }(); function Aa(t, e, r) { r.a = t, r.b = e } var Ra = function () { function t(t, e) { this.timelineController = void 0, this.cueRanges = [], this.trackName = void 0, this.startTime = null, this.endTime = null, this.screen = null, this.timelineController = t, this.trackName = e } var e = t.prototype; return e.dispatchCue = function () { null !== this.startTime && (this.timelineController.addCues(this.trackName, this.startTime, this.endTime, this.screen, this.cueRanges), this.startTime = null) }, e.newCue = function (t, e, r) { (null === this.startTime || this.startTime > t) && (this.startTime = t), this.endTime = e, this.screen = r, this.timelineController.createCaptionsTrack(this.trackName) }, e.reset = function () { this.cueRanges = [], this.startTime = null }, t }(), ba = function () { if (null != j && j.VTTCue) return self.VTTCue; var t = ["", "lr", "rl"], e = ["start", "middle", "end", "left", "right"]; function r(t, e) { if ("string" != typeof e) return !1; if (!Array.isArray(t)) return !1; var r = e.toLowerCase(); return !!~t.indexOf(r) && r } function i(t) { return r(e, t) } function n(t) { for (var e = arguments.length, r = new Array(e > 1 ? e - 1 : 0), i = 1; i < e; i++)r[i - 1] = arguments[i]; for (var n = 1; n < arguments.length; n++) { var a = arguments[n]; for (var s in a) t[s] = a[s] } return t } function a(e, a, s) { var o = this, l = { enumerable: !0 }; o.hasBeenReset = !1; var u = "", h = !1, d = e, c = a, f = s, g = null, v = "", m = !0, p = "auto", y = "start", E = 50, T = "middle", S = 50, L = "middle"; Object.defineProperty(o, "id", n({}, l, { get: function () { return u }, set: function (t) { u = "" + t } })), Object.defineProperty(o, "pauseOnExit", n({}, l, { get: function () { return h }, set: function (t) { h = !!t } })), Object.defineProperty(o, "startTime", n({}, l, { get: function () { return d }, set: function (t) { if ("number" != typeof t) throw new TypeError("Start time must be set to a number."); d = t, this.hasBeenReset = !0 } })), Object.defineProperty(o, "endTime", n({}, l, { get: function () { return c }, set: function (t) { if ("number" != typeof t) throw new TypeError("End time must be set to a number."); c = t, this.hasBeenReset = !0 } })), Object.defineProperty(o, "text", n({}, l, { get: function () { return f }, set: function (t) { f = "" + t, this.hasBeenReset = !0 } })), Object.defineProperty(o, "region", n({}, l, { get: function () { return g }, set: function (t) { g = t, this.hasBeenReset = !0 } })), Object.defineProperty(o, "vertical", n({}, l, { get: function () { return v }, set: function (e) { var i = function (e) { return r(t, e) }(e); if (!1 === i) throw new SyntaxError("An invalid or illegal string was specified."); v = i, this.hasBeenReset = !0 } })), Object.defineProperty(o, "snapToLines", n({}, l, { get: function () { return m }, set: function (t) { m = !!t, this.hasBeenReset = !0 } })), Object.defineProperty(o, "line", n({}, l, { get: function () { return p }, set: function (t) { if ("number" != typeof t && "auto" !== t) throw new SyntaxError("An invalid number or illegal string was specified."); p = t, this.hasBeenReset = !0 } })), Object.defineProperty(o, "lineAlign", n({}, l, { get: function () { return y }, set: function (t) { var e = i(t); if (!e) throw new SyntaxError("An invalid or illegal string was specified."); y = e, this.hasBeenReset = !0 } })), Object.defineProperty(o, "position", n({}, l, { get: function () { return E }, set: function (t) { if (t < 0 || t > 100) throw new Error("Position must be between 0 and 100."); E = t, this.hasBeenReset = !0 } })), Object.defineProperty(o, "positionAlign", n({}, l, { get: function () { return T }, set: function (t) { var e = i(t); if (!e) throw new SyntaxError("An invalid or illegal string was specified."); T = e, this.hasBeenReset = !0 } })), Object.defineProperty(o, "size", n({}, l, { get: function () { return S }, set: function (t) { if (t < 0 || t > 100) throw new Error("Size must be between 0 and 100."); S = t, this.hasBeenReset = !0 } })), Object.defineProperty(o, "align", n({}, l, { get: function () { return L }, set: function (t) { var e = i(t); if (!e) throw new SyntaxError("An invalid or illegal string was specified."); L = e, this.hasBeenReset = !0 } })), o.displayState = void 0 } return a.prototype.getCueAsHTML = function () { return self.WebVTT.convertCueToDOMTree(self, this.text) }, a }(), ka = function () { function t() { } return t.prototype.decode = function (t, e) { if (!t) return ""; if ("string" != typeof t) throw new Error("Error - expected string data."); return decodeURIComponent(encodeURIComponent(t)) }, t }(); function Da(t) { function e(t, e, r, i) { return 3600 * (0 | t) + 60 * (0 | e) + (0 | r) + parseFloat(i || 0) } var r = t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/); return r ? parseFloat(r[2]) > 59 ? e(r[2], r[3], 0, r[4]) : e(r[1], r[2], r[3], r[4]) : null } var Ia = function () { function t() { this.values = Object.create(null) } var e = t.prototype; return e.set = function (t, e) { this.get(t) || "" === e || (this.values[t] = e) }, e.get = function (t, e, r) { return r ? this.has(t) ? this.values[t] : e[r] : this.has(t) ? this.values[t] : e }, e.has = function (t) { return t in this.values }, e.alt = function (t, e, r) { for (var i = 0; i < r.length; ++i)if (e === r[i]) { this.set(t, e); break } }, e.integer = function (t, e) { /^-?\d+$/.test(e) && this.set(t, parseInt(e, 10)) }, e.percent = function (t, e) { if (/^([\d]{1,3})(\.[\d]*)?%$/.test(e)) { var r = parseFloat(e); if (r >= 0 && r <= 100) return this.set(t, r), !0 } return !1 }, t }(); function wa(t, e, r, i) { var n = i ? t.split(i) : [t]; for (var a in n) if ("string" == typeof n[a]) { var s = n[a].split(r); 2 === s.length && e(s[0], s[1]) } } var Ca = new ba(0, 0, ""), _a = "middle" === Ca.align ? "middle" : "center"; function xa(t, e, r) { var i = t; function n() { var e = Da(t); if (null === e) throw new Error("Malformed timestamp: " + i); return t = t.replace(/^[^\sa-zA-Z-]+/, ""), e } function a() { t = t.replace(/^\s+/, "") } if (a(), e.startTime = n(), a(), "--\x3e" !== t.slice(0, 3)) throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): " + i); t = t.slice(3), a(), e.endTime = n(), a(), function (t, e) { var i = new Ia; wa(t, (function (t, e) { var n; switch (t) { case "region": for (var a = r.length - 1; a >= 0; a--)if (r[a].id === e) { i.set(t, r[a].region); break } break; case "vertical": i.alt(t, e, ["rl", "lr"]); break; case "line": n = e.split(","), i.integer(t, n[0]), i.percent(t, n[0]) && i.set("snapToLines", !1), i.alt(t, n[0], ["auto"]), 2 === n.length && i.alt("lineAlign", n[1], ["start", _a, "end"]); break; case "position": n = e.split(","), i.percent(t, n[0]), 2 === n.length && i.alt("positionAlign", n[1], ["start", _a, "end", "line-left", "line-right", "auto"]); break; case "size": i.percent(t, e); break; case "align": i.alt(t, e, ["start", _a, "end", "left", "right"]) } }), /:/, /\s/), e.region = i.get("region", null), e.vertical = i.get("vertical", ""); var n = i.get("line", "auto"); "auto" === n && -1 === Ca.line && (n = -1), e.line = n, e.lineAlign = i.get("lineAlign", "start"), e.snapToLines = i.get("snapToLines", !0), e.size = i.get("size", 100), e.align = i.get("align", _a); var a = i.get("position", "auto"); "auto" === a && 50 === Ca.position && (a = "start" === e.align || "left" === e.align ? 0 : "end" === e.align || "right" === e.align ? 100 : 50), e.position = a }(t, e) } function Pa(t) { return t.replace(/<br(?: \/)?>/gi, "\n") } var Fa = function () { function t() { this.state = "INITIAL", this.buffer = "", this.decoder = new ka, this.regionList = [], this.cue = null, this.oncue = void 0, this.onparsingerror = void 0, this.onflush = void 0 } var e = t.prototype; return e.parse = function (t) { var e = this; function r() { var t = e.buffer, r = 0; for (t = Pa(t); r < t.length && "\r" !== t[r] && "\n" !== t[r];)++r; var i = t.slice(0, r); return "\r" === t[r] && ++r, "\n" === t[r] && ++r, e.buffer = t.slice(r), i } t && (e.buffer += e.decoder.decode(t, { stream: !0 })); try { var i = ""; if ("INITIAL" === e.state) { if (!/\r\n|\n/.test(e.buffer)) return this; var n = (i = r()).match(/^()?WEBVTT([ \t].*)?$/); if (null == n || !n[0]) throw new Error("Malformed WebVTT signature."); e.state = "HEADER" } for (var a = !1; e.buffer;) { if (!/\r\n|\n/.test(e.buffer)) return this; switch (a ? a = !1 : i = r(), e.state) { case "HEADER": /:/.test(i) ? wa(i, (function (t, e) { }), /:/) : i || (e.state = "ID"); continue; case "NOTE": i || (e.state = "ID"); continue; case "ID": if (/^NOTE($|[ \t])/.test(i)) { e.state = "NOTE"; break } if (!i) continue; if (e.cue = new ba(0, 0, ""), e.state = "CUE", -1 === i.indexOf("--\x3e")) { e.cue.id = i; continue } case "CUE": if (!e.cue) { e.state = "BADCUE"; continue } try { xa(i, e.cue, e.regionList) } catch (t) { e.cue = null, e.state = "BADCUE"; continue } e.state = "CUETEXT"; continue; case "CUETEXT": var s = -1 !== i.indexOf("--\x3e"); if (!i || s && (a = !0)) { e.oncue && e.cue && e.oncue(e.cue), e.cue = null, e.state = "ID"; continue } if (null === e.cue) continue; e.cue.text && (e.cue.text += "\n"), e.cue.text += i; continue; case "BADCUE": i || (e.state = "ID") } } } catch (t) { "CUETEXT" === e.state && e.cue && e.oncue && e.oncue(e.cue), e.cue = null, e.state = "INITIAL" === e.state ? "BADWEBVTT" : "BADCUE" } return this }, e.flush = function () { var t = this; try { if ((t.cue || "HEADER" === t.state) && (t.buffer += "\n\n", t.parse()), "INITIAL" === t.state || "BADWEBVTT" === t.state) throw new Error("Malformed WebVTT signature.") } catch (e) { t.onparsingerror && t.onparsingerror(e) } return t.onflush && t.onflush(), this }, t }(), Ma = /\r\n|\n\r|\n|\r/g, Oa = function (t, e, r) { return void 0 === r && (r = 0), t.slice(r, r + e.length) === e }, Na = function (t) { for (var e = 5381, r = t.length; r;)e = 33 * e ^ t.charCodeAt(--r); return (e >>> 0).toString() }; function Ua(t, e, r) { return Na(t.toString()) + Na(e.toString()) + Na(r) } function Ba(t, e, r, i, n, a, s) { var o, l, u, h = new Fa, d = Rt(new Uint8Array(t)).trim().replace(Ma, "\n").split("\n"), c = [], f = e ? (o = e.baseTime, void 0 === (l = e.timescale) && (l = 1), Rn(o, An, 1 / l)) : 0, g = "00:00.000", v = 0, m = 0, p = !0; h.oncue = function (t) { var a = r[i], s = r.ccOffset, o = (v - f) / 9e4; if (null != a && a.new && (void 0 !== m ? s = r.ccOffset = a.start : function (t, e, r) { var i = t[e], n = t[i.prevCC]; if (!n || !n.new && i.new) return t.ccOffset = t.presentationOffset = i.start, void (i.new = !1); for (; null != (a = n) && a.new;) { var a; t.ccOffset += i.start - n.start, i.new = !1, n = t[(i = n).prevCC] } t.presentationOffset = r }(r, i, o)), o) { if (!e) return void (u = new Error("Missing initPTS for VTT MPEGTS")); s = o - r.presentationOffset } var l = t.endTime - t.startTime, h = wn(9e4 * (t.startTime + s - m), 9e4 * n) / 9e4; t.startTime = Math.max(h, 0), t.endTime = Math.max(h + l, 0); var d = t.text.trim(); t.text = decodeURIComponent(encodeURIComponent(d)), t.id || (t.id = Ua(t.startTime, t.endTime, d)), t.endTime > 0 && c.push(t) }, h.onparsingerror = function (t) { u = t }, h.onflush = function () { u ? s(u) : a(c) }, d.forEach((function (t) { if (p) { if (Oa(t, "X-TIMESTAMP-MAP=")) { p = !1, t.slice(16).split(",").forEach((function (t) { Oa(t, "LOCAL:") ? g = t.slice(6) : Oa(t, "MPEGTS:") && (v = parseInt(t.slice(7))) })); try { m = function (t) { var e = parseInt(t.slice(-3)), r = parseInt(t.slice(-6, -4)), i = parseInt(t.slice(-9, -7)), n = t.length > 9 ? parseInt(t.substring(0, t.indexOf(":"))) : 0; if (!(y(e) && y(r) && y(i) && y(n))) throw Error("Malformed X-TIMESTAMP-MAP: Local:" + t); return e += 1e3 * r, (e += 6e4 * i) + 36e5 * n }(g) / 1e3 } catch (t) { u = t } return } "" === t && (p = !1) } h.parse(t + "\n") })), h.flush() } var Ga = "stpp.ttml.im1t", Ka = /^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/, Ha = /^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/, Va = { left: "start", center: "center", right: "end", start: "start", end: "end" }; function Ya(t, e, r, i) { var n = Ot(new Uint8Array(t), ["mdat"]); if (0 !== n.length) { var a, s, l, u, h = n.map((function (t) { return Rt(t) })), d = (a = e.baseTime, s = 1, void 0 === (l = e.timescale) && (l = 1), void 0 === u && (u = !1), Rn(a, s, 1 / l, u)); try { h.forEach((function (t) { return r(function (t, e) { var r = (new DOMParser).parseFromString(t, "text/xml"), i = r.getElementsByTagName("tt")[0]; if (!i) throw new Error("Invalid ttml"); var n = { frameRate: 30, subFrameRate: 1, frameRateMultiplier: 0, tickRate: 0 }, a = Object.keys(n).reduce((function (t, e) { return t[e] = i.getAttribute("ttp:" + e) || n[e], t }), {}), s = "preserve" !== i.getAttribute("xml:space"), l = ja(Wa(i, "styling", "style")), u = ja(Wa(i, "layout", "region")), h = Wa(i, "body", "[begin]"); return [].map.call(h, (function (t) { var r = qa(t, s); if (!r || !t.hasAttribute("begin")) return null; var i = Qa(t.getAttribute("begin"), a), n = Qa(t.getAttribute("dur"), a), h = Qa(t.getAttribute("end"), a); if (null === i) throw za(t); if (null === h) { if (null === n) throw za(t); h = i + n } var d = new ba(i - e, h - e, r); d.id = Ua(d.startTime, d.endTime, d.text); var c = function (t, e, r) { var i = "http://www.w3.org/ns/ttml#styling", n = null, a = ["displayAlign", "textAlign", "color", "backgroundColor", "fontSize", "fontFamily"], s = null != t && t.hasAttribute("style") ? t.getAttribute("style") : null; return s && r.hasOwnProperty(s) && (n = r[s]), a.reduce((function (r, a) { var s = Xa(e, i, a) || Xa(t, i, a) || Xa(n, i, a); return s && (r[a] = s), r }), {}) }(u[t.getAttribute("region")], l[t.getAttribute("style")], l), f = c.textAlign; if (f) { var g = Va[f]; g && (d.lineAlign = g), d.align = f } return o(d, c), d })).filter((function (t) { return null !== t })) }(t, d)) })) } catch (t) { i(t) } } else i(new Error("Could not parse IMSC1 mdat")) } function Wa(t, e, r) { var i = t.getElementsByTagName(e)[0]; return i ? [].slice.call(i.querySelectorAll(r)) : [] } function ja(t) { return t.reduce((function (t, e) { var r = e.getAttribute("xml:id"); return r && (t[r] = e), t }), {}) } function qa(t, e) { return [].slice.call(t.childNodes).reduce((function (t, r, i) { var n; return "br" === r.nodeName && i ? t + "\n" : null != (n = r.childNodes) && n.length ? qa(r, e) : e ? t + r.textContent.trim().replace(/\s+/g, " ") : t + r.textContent }), "") } function Xa(t, e, r) { return t && t.hasAttributeNS(e, r) ? t.getAttributeNS(e, r) : null } function za(t) { return new Error("Could not parse ttml timestamp " + t) } function Qa(t, e) { if (!t) return null; var r = Da(t); return null === r && (Ka.test(t) ? r = function (t, e) { var r = Ka.exec(t), i = (0 | r[4]) + (0 | r[5]) / e.subFrameRate; return 3600 * (0 | r[1]) + 60 * (0 | r[2]) + (0 | r[3]) + i / e.frameRate }(t, e) : Ha.test(t) && (r = function (t, e) { var r = Ha.exec(t), i = Number(r[1]); switch (r[2]) { case "h": return 3600 * i; case "m": return 60 * i; case "ms": return 1e3 * i; case "f": return i / e.frameRate; case "t": return i / e.tickRate }return i }(t, e))), r } var Ja = function () { function t(t) { this.hls = void 0, this.media = null, this.config = void 0, this.enabled = !0, this.Cues = void 0, this.textTracks = [], this.tracks = [], this.initPTS = [], this.unparsedVttFrags = [], this.captionsTracks = {}, this.nonNativeCaptionsTracks = {}, this.cea608Parser1 = void 0, this.cea608Parser2 = void 0, this.lastCc = -1, this.lastSn = -1, this.lastPartIndex = -1, this.prevCC = -1, this.vttCCs = { ccOffset: 0, presentationOffset: 0, 0: { start: 0, prevCC: -1, new: !0 } }, this.captionsProperties = void 0, this.hls = t, this.config = t.config, this.Cues = t.config.cueHandler, this.captionsProperties = { textTrack1: { label: this.config.captionsTextTrack1Label, languageCode: this.config.captionsTextTrack1LanguageCode }, textTrack2: { label: this.config.captionsTextTrack2Label, languageCode: this.config.captionsTextTrack2LanguageCode }, textTrack3: { label: this.config.captionsTextTrack3Label, languageCode: this.config.captionsTextTrack3LanguageCode }, textTrack4: { label: this.config.captionsTextTrack4Label, languageCode: this.config.captionsTextTrack4LanguageCode } }, t.on(S.MEDIA_ATTACHING, this.onMediaAttaching, this), t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.MANIFEST_LOADED, this.onManifestLoaded, this), t.on(S.SUBTITLE_TRACKS_UPDATED, this.onSubtitleTracksUpdated, this), t.on(S.FRAG_LOADING, this.onFragLoading, this), t.on(S.FRAG_LOADED, this.onFragLoaded, this), t.on(S.FRAG_PARSING_USERDATA, this.onFragParsingUserdata, this), t.on(S.FRAG_DECRYPTED, this.onFragDecrypted, this), t.on(S.INIT_PTS_FOUND, this.onInitPtsFound, this), t.on(S.SUBTITLE_TRACKS_CLEARED, this.onSubtitleTracksCleared, this), t.on(S.BUFFER_FLUSHING, this.onBufferFlushing, this) } var e = t.prototype; return e.destroy = function () { var t = this.hls; t.off(S.MEDIA_ATTACHING, this.onMediaAttaching, this), t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.MANIFEST_LOADED, this.onManifestLoaded, this), t.off(S.SUBTITLE_TRACKS_UPDATED, this.onSubtitleTracksUpdated, this), t.off(S.FRAG_LOADING, this.onFragLoading, this), t.off(S.FRAG_LOADED, this.onFragLoaded, this), t.off(S.FRAG_PARSING_USERDATA, this.onFragParsingUserdata, this), t.off(S.FRAG_DECRYPTED, this.onFragDecrypted, this), t.off(S.INIT_PTS_FOUND, this.onInitPtsFound, this), t.off(S.SUBTITLE_TRACKS_CLEARED, this.onSubtitleTracksCleared, this), t.off(S.BUFFER_FLUSHING, this.onBufferFlushing, this), this.hls = this.config = null, this.cea608Parser1 = this.cea608Parser2 = void 0 }, e.initCea608Parsers = function () { if (this.config.enableCEA708Captions && (!this.cea608Parser1 || !this.cea608Parser2)) { var t = new Ra(this, "textTrack1"), e = new Ra(this, "textTrack2"), r = new Ra(this, "textTrack3"), i = new Ra(this, "textTrack4"); this.cea608Parser1 = new La(1, t, e), this.cea608Parser2 = new La(3, r, i) } }, e.addCues = function (t, e, r, i, n) { for (var a, s, o, l, u = !1, h = n.length; h--;) { var d = n[h], c = (a = d[0], s = d[1], o = e, l = r, Math.min(s, l) - Math.max(a, o)); if (c >= 0 && (d[0] = Math.min(d[0], e), d[1] = Math.max(d[1], r), u = !0, c / (r - e) > .5)) return } if (u || n.push([e, r]), this.config.renderTextTracksNatively) { var f = this.captionsTracks[t]; this.Cues.newCue(f, e, r, i) } else { var g = this.Cues.newCue(null, e, r, i); this.hls.trigger(S.CUES_PARSED, { type: "captions", cues: g, track: t }) } }, e.onInitPtsFound = function (t, e) { var r = this, i = e.frag, n = e.id, a = e.initPTS, s = e.timescale, o = this.unparsedVttFrags; "main" === n && (this.initPTS[i.cc] = { baseTime: a, timescale: s }), o.length && (this.unparsedVttFrags = [], o.forEach((function (t) { r.onFragLoaded(S.FRAG_LOADED, t) }))) }, e.getExistingTrack = function (t, e) { var r = this.media; if (r) for (var i = 0; i < r.textTracks.length; i++) { var n = r.textTracks[i]; if (Za(n, { name: t, lang: e, attrs: {} })) return n } return null }, e.createCaptionsTrack = function (t) { this.config.renderTextTracksNatively ? this.createNativeTrack(t) : this.createNonNativeTrack(t) }, e.createNativeTrack = function (t) { if (!this.captionsTracks[t]) { var e = this.captionsProperties, r = this.captionsTracks, i = this.media, n = e[t], a = n.label, s = n.languageCode, o = this.getExistingTrack(a, s); if (o) r[t] = o, He(r[t]), Ge(r[t], i); else { var l = this.createTextTrack("captions", a, s); l && (l[t] = !0, r[t] = l) } } }, e.createNonNativeTrack = function (t) { if (!this.nonNativeCaptionsTracks[t]) { var e = this.captionsProperties[t]; if (e) { var r = { _id: t, label: e.label, kind: "captions", default: !!e.media && !!e.media.default, closedCaptions: e.media }; this.nonNativeCaptionsTracks[t] = r, this.hls.trigger(S.NON_NATIVE_TEXT_TRACKS_FOUND, { tracks: [r] }) } } }, e.createTextTrack = function (t, e, r) { var i = this.media; if (i) return i.addTextTrack(t, e, r) }, e.onMediaAttaching = function (t, e) { this.media = e.media, this._cleanTracks() }, e.onMediaDetaching = function () { var t = this.captionsTracks; Object.keys(t).forEach((function (e) { He(t[e]), delete t[e] })), this.nonNativeCaptionsTracks = {} }, e.onManifestLoading = function () { this.lastCc = -1, this.lastSn = -1, this.lastPartIndex = -1, this.prevCC = -1, this.vttCCs = { ccOffset: 0, presentationOffset: 0, 0: { start: 0, prevCC: -1, new: !0 } }, this._cleanTracks(), this.tracks = [], this.captionsTracks = {}, this.nonNativeCaptionsTracks = {}, this.textTracks = [], this.unparsedVttFrags = [], this.initPTS = [], this.cea608Parser1 && this.cea608Parser2 && (this.cea608Parser1.reset(), this.cea608Parser2.reset()) }, e._cleanTracks = function () { var t = this.media; if (t) { var e = t.textTracks; if (e) for (var r = 0; r < e.length; r++)He(e[r]) } }, e.onSubtitleTracksUpdated = function (t, e) { var r = this, i = e.subtitleTracks || [], n = i.some((function (t) { return t.textCodec === Ga })); if (this.config.enableWebVTT || n && this.config.enableIMSC1) { if (Xn(this.tracks, i)) return void (this.tracks = i); if (this.textTracks = [], this.tracks = i, this.config.renderTextTracksNatively) { var a = this.media, s = a ? Ye(a.textTracks) : null; if (this.tracks.forEach((function (t, e) { var i; if (s) { for (var n = null, a = 0; a < s.length; a++)if (s[a] && Za(s[a], t)) { n = s[a], s[a] = null; break } n && (i = n) } if (i) He(i); else { var o = $a(t); (i = r.createTextTrack(o, t.name, t.lang)) && (i.mode = "disabled") } i && r.textTracks.push(i) })), null != s && s.length) { var o = s.filter((function (t) { return null !== t })).map((function (t) { return t.label })); o.length && w.warn("Media element contains unused subtitle tracks: " + o.join(", ") + ". Replace media element for each source to clear TextTracks and captions menu.") } } else if (this.tracks.length) { var l = this.tracks.map((function (t) { return { label: t.name, kind: t.type.toLowerCase(), default: t.default, subtitleTrack: t } })); this.hls.trigger(S.NON_NATIVE_TEXT_TRACKS_FOUND, { tracks: l }) } } }, e.onManifestLoaded = function (t, e) { var r = this; this.config.enableCEA708Captions && e.captions && e.captions.forEach((function (t) { var e = /(?:CC|SERVICE)([1-4])/.exec(t.instreamId); if (e) { var i = "textTrack" + e[1], n = r.captionsProperties[i]; n && (n.label = t.name, t.lang && (n.languageCode = t.lang), n.media = t) } })) }, e.closedCaptionsForLevel = function (t) { var e = this.hls.levels[t.level]; return null == e ? void 0 : e.attrs["CLOSED-CAPTIONS"] }, e.onFragLoading = function (t, e) { if (this.enabled && e.frag.type === Fe) { var r, i, n = this.cea608Parser1, a = this.cea608Parser2, s = this.lastSn, o = e.frag, l = o.cc, u = o.sn, h = null != (r = null == (i = e.part) ? void 0 : i.index) ? r : -1; n && a && (u !== s + 1 || u === s && h !== this.lastPartIndex + 1 || l !== this.lastCc) && (n.reset(), a.reset()), this.lastCc = l, this.lastSn = u, this.lastPartIndex = h } }, e.onFragLoaded = function (t, e) { var r = e.frag, i = e.payload; if (r.type === Oe) if (i.byteLength) { var n = r.decryptdata, a = "stats" in e; if (null == n || !n.encrypted || a) { var s = this.tracks[r.level], o = this.vttCCs; o[r.cc] || (o[r.cc] = { start: r.start, prevCC: this.prevCC, new: !0 }, this.prevCC = r.cc), s && s.textCodec === Ga ? this._parseIMSC1(r, i) : this._parseVTTs(e) } } else this.hls.trigger(S.SUBTITLE_FRAG_PROCESSED, { success: !1, frag: r, error: new Error("Empty subtitle payload") }) }, e._parseIMSC1 = function (t, e) { var r = this, i = this.hls; Ya(e, this.initPTS[t.cc], (function (e) { r._appendCues(e, t.level), i.trigger(S.SUBTITLE_FRAG_PROCESSED, { success: !0, frag: t }) }), (function (e) { w.log("Failed to parse IMSC1: " + e), i.trigger(S.SUBTITLE_FRAG_PROCESSED, { success: !1, frag: t, error: e }) })) }, e._parseVTTs = function (t) { var e, r = this, i = t.frag, n = t.payload, a = this.initPTS, s = this.unparsedVttFrags, o = a.length - 1; if (a[i.cc] || -1 !== o) { var l = this.hls; Ba(null != (e = i.initSegment) && e.data ? Wt(i.initSegment.data, new Uint8Array(n)) : n, this.initPTS[i.cc], this.vttCCs, i.cc, i.start, (function (t) { r._appendCues(t, i.level), l.trigger(S.SUBTITLE_FRAG_PROCESSED, { success: !0, frag: i }) }), (function (e) { var a = "Missing initPTS for VTT MPEGTS" === e.message; a ? s.push(t) : r._fallbackToIMSC1(i, n), w.log("Failed to parse VTT cue: " + e), a && o > i.cc || l.trigger(S.SUBTITLE_FRAG_PROCESSED, { success: !1, frag: i, error: e }) })) } else s.push(t) }, e._fallbackToIMSC1 = function (t, e) { var r = this, i = this.tracks[t.level]; i.textCodec || Ya(e, this.initPTS[t.cc], (function () { i.textCodec = Ga, r._parseIMSC1(t, e) }), (function () { i.textCodec = "wvtt" })) }, e._appendCues = function (t, e) { var r = this.hls; if (this.config.renderTextTracksNatively) { var i = this.textTracks[e]; if (!i || "disabled" === i.mode) return; t.forEach((function (t) { return Ke(i, t) })) } else { var n = this.tracks[e]; if (!n) return; var a = n.default ? "default" : "subtitles" + e; r.trigger(S.CUES_PARSED, { type: "subtitles", cues: t, track: a }) } }, e.onFragDecrypted = function (t, e) { e.frag.type === Oe && this.onFragLoaded(S.FRAG_LOADED, e) }, e.onSubtitleTracksCleared = function () { this.tracks = [], this.captionsTracks = {} }, e.onFragParsingUserdata = function (t, e) { this.initCea608Parsers(); var r = this.cea608Parser1, i = this.cea608Parser2; if (this.enabled && r && i) { var n = e.frag, a = e.samples; if (n.type !== Fe || "NONE" !== this.closedCaptionsForLevel(n)) for (var s = 0; s < a.length; s++) { var o = a[s].bytes; if (o) { var l = this.extractCea608Data(o); r.addData(a[s].pts, l[0]), i.addData(a[s].pts, l[1]) } } } }, e.onBufferFlushing = function (t, e) { var r = e.startOffset, i = e.endOffset, n = e.endOffsetSubtitles, a = e.type, s = this.media; if (s && !(s.currentTime < i)) { if (!a || "video" === a) { var o = this.captionsTracks; Object.keys(o).forEach((function (t) { return Ve(o[t], r, i) })) } if (this.config.renderTextTracksNatively && 0 === r && void 0 !== n) { var l = this.textTracks; Object.keys(l).forEach((function (t) { return Ve(l[t], r, n) })) } } }, e.extractCea608Data = function (t) { for (var e = [[], []], r = 31 & t[0], i = 2, n = 0; n < r; n++) { var a = t[i++], s = 127 & t[i++], o = 127 & t[i++]; if ((0 !== s || 0 !== o) && 0 != (4 & a)) { var l = 3 & a; 0 !== l && 1 !== l || (e[l].push(s), e[l].push(o)) } } return e }, t }(); function $a(t) { return t.characteristics && /transcribes-spoken-dialog/gi.test(t.characteristics) && /describes-music-and-sound/gi.test(t.characteristics) ? "captions" : "subtitles" } function Za(t, e) { return !!t && t.kind === $a(e) && Qn(e, t) } var ts = function () { function t(t) { this.hls = void 0, this.autoLevelCapping = void 0, this.firstLevel = void 0, this.media = void 0, this.restrictedLevels = void 0, this.timer = void 0, this.clientRect = void 0, this.streamController = void 0, this.hls = t, this.autoLevelCapping = Number.POSITIVE_INFINITY, this.firstLevel = -1, this.media = null, this.restrictedLevels = [], this.timer = void 0, this.clientRect = null, this.registerListeners() } var e = t.prototype; return e.setStreamController = function (t) { this.streamController = t }, e.destroy = function () { this.hls && this.unregisterListener(), this.timer && this.stopCapping(), this.media = null, this.clientRect = null, this.hls = this.streamController = null }, e.registerListeners = function () { var t = this.hls; t.on(S.FPS_DROP_LEVEL_CAPPING, this.onFpsDropLevelCapping, this), t.on(S.MEDIA_ATTACHING, this.onMediaAttaching, this), t.on(S.MANIFEST_PARSED, this.onManifestParsed, this), t.on(S.LEVELS_UPDATED, this.onLevelsUpdated, this), t.on(S.BUFFER_CODECS, this.onBufferCodecs, this), t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this) }, e.unregisterListener = function () { var t = this.hls; t.off(S.FPS_DROP_LEVEL_CAPPING, this.onFpsDropLevelCapping, this), t.off(S.MEDIA_ATTACHING, this.onMediaAttaching, this), t.off(S.MANIFEST_PARSED, this.onManifestParsed, this), t.off(S.LEVELS_UPDATED, this.onLevelsUpdated, this), t.off(S.BUFFER_CODECS, this.onBufferCodecs, this), t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this) }, e.onFpsDropLevelCapping = function (t, e) { var r = this.hls.levels[e.droppedLevel]; this.isLevelAllowed(r) && this.restrictedLevels.push({ bitrate: r.bitrate, height: r.height, width: r.width }) }, e.onMediaAttaching = function (t, e) { this.media = e.media instanceof HTMLVideoElement ? e.media : null, this.clientRect = null, this.timer && this.hls.levels.length && this.detectPlayerSize() }, e.onManifestParsed = function (t, e) { var r = this.hls; this.restrictedLevels = [], this.firstLevel = e.firstLevel, r.config.capLevelToPlayerSize && e.video && this.startCapping() }, e.onLevelsUpdated = function (t, e) { this.timer && y(this.autoLevelCapping) && this.detectPlayerSize() }, e.onBufferCodecs = function (t, e) { this.hls.config.capLevelToPlayerSize && e.video && this.startCapping() }, e.onMediaDetaching = function () { this.stopCapping() }, e.detectPlayerSize = function () { if (this.media) { if (this.mediaHeight <= 0 || this.mediaWidth <= 0) return void (this.clientRect = null); var t = this.hls.levels; if (t.length) { var e = this.hls, r = this.getMaxLevel(t.length - 1); r !== this.autoLevelCapping && w.log("Setting autoLevelCapping to " + r + ": " + t[r].height + "p@" + t[r].bitrate + " for media " + this.mediaWidth + "x" + this.mediaHeight), e.autoLevelCapping = r, e.autoLevelCapping > this.autoLevelCapping && this.streamController && this.streamController.nextLevelSwitch(), this.autoLevelCapping = e.autoLevelCapping } } }, e.getMaxLevel = function (e) { var r = this, i = this.hls.levels; if (!i.length) return -1; var n = i.filter((function (t, i) { return r.isLevelAllowed(t) && i <= e })); return this.clientRect = null, t.getMaxLevelByMediaSize(n, this.mediaWidth, this.mediaHeight) }, e.startCapping = function () { this.timer || (this.autoLevelCapping = Number.POSITIVE_INFINITY, self.clearInterval(this.timer), this.timer = self.setInterval(this.detectPlayerSize.bind(this), 1e3), this.detectPlayerSize()) }, e.stopCapping = function () { this.restrictedLevels = [], this.firstLevel = -1, this.autoLevelCapping = Number.POSITIVE_INFINITY, this.timer && (self.clearInterval(this.timer), this.timer = void 0) }, e.getDimensions = function () { if (this.clientRect) return this.clientRect; var t = this.media, e = { width: 0, height: 0 }; if (t) { var r = t.getBoundingClientRect(); e.width = r.width, e.height = r.height, e.width || e.height || (e.width = r.right - r.left || t.width || 0, e.height = r.bottom - r.top || t.height || 0) } return this.clientRect = e, e }, e.isLevelAllowed = function (t) { return !this.restrictedLevels.some((function (e) { return t.bitrate === e.bitrate && t.width === e.width && t.height === e.height })) }, t.getMaxLevelByMediaSize = function (t, e, r) { if (null == t || !t.length) return -1; for (var i, n, a = t.length - 1, s = Math.max(e, r), o = 0; o < t.length; o += 1) { var l = t[o]; if ((l.width >= s || l.height >= s) && (i = l, !(n = t[o + 1]) || i.width !== n.width || i.height !== n.height)) { a = o; break } } return a }, s(t, [{ key: "mediaWidth", get: function () { return this.getDimensions().width * this.contentScaleFactor } }, { key: "mediaHeight", get: function () { return this.getDimensions().height * this.contentScaleFactor } }, { key: "contentScaleFactor", get: function () { var t = 1; if (!this.hls.config.ignoreDevicePixelRatio) try { t = self.devicePixelRatio } catch (t) { } return t } }]), t }(), es = function () { function t(t) { this.hls = void 0, this.isVideoPlaybackQualityAvailable = !1, this.timer = void 0, this.media = null, this.lastTime = void 0, this.lastDroppedFrames = 0, this.lastDecodedFrames = 0, this.streamController = void 0, this.hls = t, this.registerListeners() } var e = t.prototype; return e.setStreamController = function (t) { this.streamController = t }, e.registerListeners = function () { this.hls.on(S.MEDIA_ATTACHING, this.onMediaAttaching, this) }, e.unregisterListeners = function () { this.hls.off(S.MEDIA_ATTACHING, this.onMediaAttaching, this) }, e.destroy = function () { this.timer && clearInterval(this.timer), this.unregisterListeners(), this.isVideoPlaybackQualityAvailable = !1, this.media = null }, e.onMediaAttaching = function (t, e) { var r = this.hls.config; if (r.capLevelOnFPSDrop) { var i = e.media instanceof self.HTMLVideoElement ? e.media : null; this.media = i, i && "function" == typeof i.getVideoPlaybackQuality && (this.isVideoPlaybackQualityAvailable = !0), self.clearInterval(this.timer), this.timer = self.setInterval(this.checkFPSInterval.bind(this), r.fpsDroppedMonitoringPeriod) } }, e.checkFPS = function (t, e, r) { var i = performance.now(); if (e) { if (this.lastTime) { var n = i - this.lastTime, a = r - this.lastDroppedFrames, s = e - this.lastDecodedFrames, o = 1e3 * a / n, l = this.hls; if (l.trigger(S.FPS_DROP, { currentDropped: a, currentDecoded: s, totalDroppedFrames: r }), o > 0 && a > l.config.fpsDroppedMonitoringThreshold * s) { var u = l.currentLevel; w.warn("drop FPS ratio greater than max allowed value for currentLevel: " + u), u > 0 && (-1 === l.autoLevelCapping || l.autoLevelCapping >= u) && (u -= 1, l.trigger(S.FPS_DROP_LEVEL_CAPPING, { level: u, droppedLevel: l.currentLevel }), l.autoLevelCapping = u, this.streamController.nextLevelSwitch()) } } this.lastTime = i, this.lastDroppedFrames = r, this.lastDecodedFrames = e } }, e.checkFPSInterval = function () { var t = this.media; if (t) if (this.isVideoPlaybackQualityAvailable) { var e = t.getVideoPlaybackQuality(); this.checkFPS(t, e.totalVideoFrames, e.droppedVideoFrames) } else this.checkFPS(t, t.webkitDecodedFrameCount, t.webkitDroppedFrameCount) }, t }(), rs = "[eme]", is = function () { function t(e) { this.hls = void 0, this.config = void 0, this.media = null, this.keyFormatPromise = null, this.keySystemAccessPromises = {}, this._requestLicenseFailureCount = 0, this.mediaKeySessions = [], this.keyIdToKeySessionPromise = {}, this.setMediaKeysQueue = t.CDMCleanupPromise ? [t.CDMCleanupPromise] : [], this.onMediaEncrypted = this._onMediaEncrypted.bind(this), this.onWaitingForKey = this._onWaitingForKey.bind(this), this.debug = w.debug.bind(w, rs), this.log = w.log.bind(w, rs), this.warn = w.warn.bind(w, rs), this.error = w.error.bind(w, rs), this.hls = e, this.config = e.config, this.registerListeners() } var e = t.prototype; return e.destroy = function () { this.unregisterListeners(), this.onMediaDetached(); var t = this.config; t.requestMediaKeySystemAccessFunc = null, t.licenseXhrSetup = t.licenseResponseCallback = void 0, t.drmSystems = t.drmSystemOptions = {}, this.hls = this.onMediaEncrypted = this.onWaitingForKey = this.keyIdToKeySessionPromise = null, this.config = null }, e.registerListeners = function () { this.hls.on(S.MEDIA_ATTACHED, this.onMediaAttached, this), this.hls.on(S.MEDIA_DETACHED, this.onMediaDetached, this), this.hls.on(S.MANIFEST_LOADING, this.onManifestLoading, this), this.hls.on(S.MANIFEST_LOADED, this.onManifestLoaded, this) }, e.unregisterListeners = function () { this.hls.off(S.MEDIA_ATTACHED, this.onMediaAttached, this), this.hls.off(S.MEDIA_DETACHED, this.onMediaDetached, this), this.hls.off(S.MANIFEST_LOADING, this.onManifestLoading, this), this.hls.off(S.MANIFEST_LOADED, this.onManifestLoaded, this) }, e.getLicenseServerUrl = function (t) { var e = this.config, r = e.drmSystems, i = e.widevineLicenseUrl, n = r[t]; if (n) return n.licenseUrl; if (t === q.WIDEVINE && i) return i; throw new Error('no license server URL configured for key-system "' + t + '"') }, e.getServerCertificateUrl = function (t) { var e = this.config.drmSystems[t]; if (e) return e.serverCertificateUrl; this.log('No Server Certificate in config.drmSystems["' + t + '"]') }, e.attemptKeySystemAccess = function (t) { var e = this, r = this.hls.levels, i = function (t, e, r) { return !!t && r.indexOf(t) === e }, n = r.map((function (t) { return t.audioCodec })).filter(i), a = r.map((function (t) { return t.videoCodec })).filter(i); return n.length + a.length === 0 && a.push("avc1.42e01e"), new Promise((function (r, i) { !function t(s) { var o = s.shift(); e.getMediaKeysPromise(o, n, a).then((function (t) { return r({ keySystem: o, mediaKeys: t }) })).catch((function (e) { s.length ? t(s) : i(e instanceof ls ? e : new ls({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_NO_ACCESS, error: e, fatal: !0 }, e.message)) })) }(t) })) }, e.requestMediaKeySystemAccess = function (t, e) { var r = this.config.requestMediaKeySystemAccessFunc; if ("function" != typeof r) { var i = "Configured requestMediaKeySystemAccess is not a function " + r; return null === ot && "http:" === self.location.protocol && (i = "navigator.requestMediaKeySystemAccess is not available over insecure protocol " + location.protocol), Promise.reject(new Error(i)) } return r(t, e) }, e.getMediaKeysPromise = function (t, e, r) { var i = this, n = function (t, e, r, i) { var n; switch (t) { case q.FAIRPLAY: n = ["cenc", "sinf"]; break; case q.WIDEVINE: case q.PLAYREADY: n = ["cenc"]; break; case q.CLEARKEY: n = ["cenc", "keyids"]; break; default: throw new Error("Unknown key-system: " + t) }return function (t, e, r, i) { return [{ initDataTypes: t, persistentState: i.persistentState || "optional", distinctiveIdentifier: i.distinctiveIdentifier || "optional", sessionTypes: i.sessionTypes || [i.sessionType || "temporary"], audioCapabilities: e.map((function (t) { return { contentType: 'audio/mp4; codecs="' + t + '"', robustness: i.audioRobustness || "", encryptionScheme: i.audioEncryptionScheme || null } })), videoCapabilities: r.map((function (t) { return { contentType: 'video/mp4; codecs="' + t + '"', robustness: i.videoRobustness || "", encryptionScheme: i.videoEncryptionScheme || null } })) }] }(n, e, r, i) }(t, e, r, this.config.drmSystemOptions), a = this.keySystemAccessPromises[t], s = null == a ? void 0 : a.keySystemAccess; if (!s) { this.log('Requesting encrypted media "' + t + '" key-system access with config: ' + JSON.stringify(n)), s = this.requestMediaKeySystemAccess(t, n); var o = this.keySystemAccessPromises[t] = { keySystemAccess: s }; return s.catch((function (e) { i.log('Failed to obtain access to key-system "' + t + '": ' + e) })), s.then((function (e) { i.log('Access for key-system "' + e.keySystem + '" obtained'); var r = i.fetchServerCertificate(t); return i.log('Create media-keys for "' + t + '"'), o.mediaKeys = e.createMediaKeys().then((function (e) { return i.log('Media-keys created for "' + t + '"'), r.then((function (r) { return r ? i.setMediaKeysServerCertificate(e, t, r) : e })) })), o.mediaKeys.catch((function (e) { i.error('Failed to create media-keys for "' + t + '"}: ' + e) })), o.mediaKeys })) } return s.then((function () { return a.mediaKeys })) }, e.createMediaKeySessionContext = function (t) { var e = t.decryptdata, r = t.keySystem, i = t.mediaKeys; this.log('Creating key-system session "' + r + '" keyId: ' + kt.hexDump(e.keyId || [])); var n = i.createSession(), a = { decryptdata: e, keySystem: r, mediaKeys: i, mediaKeysSession: n, keyStatus: "status-pending" }; return this.mediaKeySessions.push(a), a }, e.renewKeySession = function (t) { var e = t.decryptdata; if (e.pssh) { var r = this.createMediaKeySessionContext(t), i = this.getKeyIdString(e); this.keyIdToKeySessionPromise[i] = this.generateRequestWithPreferredKeySession(r, "cenc", e.pssh, "expired") } else this.warn("Could not renew expired session. Missing pssh initData."); this.removeSession(t) }, e.getKeyIdString = function (t) { if (!t) throw new Error("Could not read keyId of undefined decryptdata"); if (null === t.keyId) throw new Error("keyId is null"); return kt.hexDump(t.keyId) }, e.updateKeySession = function (t, e) { var r, i = t.mediaKeysSession; return this.log('Updating key-session "' + i.sessionId + '" for keyID ' + kt.hexDump((null == (r = t.decryptdata) ? void 0 : r.keyId) || []) + "\n      } (data length: " + (e ? e.byteLength : e) + ")"), i.update(e) }, e.selectKeySystemFormat = function (t) { var e = Object.keys(t.levelkeys || {}); return this.keyFormatPromise || (this.log("Selecting key-system from fragment (sn: " + t.sn + " " + t.type + ": " + t.level + ") key formats " + e.join(", ")), this.keyFormatPromise = this.getKeyFormatPromise(e)), this.keyFormatPromise }, e.getKeyFormatPromise = function (t) { var e = this; return new Promise((function (r, i) { var n = at(e.config), a = t.map($).filter((function (t) { return !!t && -1 !== n.indexOf(t) })); return e.getKeySystemSelectionPromise(a).then((function (t) { var e = t.keySystem, n = nt(e); n ? r(n) : i(new Error('Unable to find format for key-system "' + e + '"')) })).catch(i) })) }, e.loadKey = function (t) { var e = this, r = t.keyInfo.decryptdata, i = this.getKeyIdString(r), n = "(keyId: " + i + ' format: "' + r.keyFormat + '" method: ' + r.method + " uri: " + r.uri + ")"; this.log("Starting session for key " + n); var a = this.keyIdToKeySessionPromise[i]; return a || (a = this.keyIdToKeySessionPromise[i] = this.getKeySystemForKeyPromise(r).then((function (i) { var a = i.keySystem, s = i.mediaKeys; return e.throwIfDestroyed(), e.log("Handle encrypted media sn: " + t.frag.sn + " " + t.frag.type + ": " + t.frag.level + " using key " + n), e.attemptSetMediaKeys(a, s).then((function () { e.throwIfDestroyed(); var t = e.createMediaKeySessionContext({ keySystem: a, mediaKeys: s, decryptdata: r }); return e.generateRequestWithPreferredKeySession(t, "cenc", r.pssh, "playlist-key") })) }))).catch((function (t) { return e.handleError(t) })), a }, e.throwIfDestroyed = function (t) { if (!this.hls) throw new Error("invalid state") }, e.handleError = function (t) { this.hls && (this.error(t.message), t instanceof ls ? this.hls.trigger(S.ERROR, t.data) : this.hls.trigger(S.ERROR, { type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_NO_KEYS, error: t, fatal: !0 })) }, e.getKeySystemForKeyPromise = function (t) { var e = this.getKeyIdString(t), r = this.keyIdToKeySessionPromise[e]; if (!r) { var i = $(t.keyFormat), n = i ? [i] : at(this.config); return this.attemptKeySystemAccess(n) } return r }, e.getKeySystemSelectionPromise = function (t) { if (t.length || (t = at(this.config)), 0 === t.length) throw new ls({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_NO_CONFIGURED_LICENSE, fatal: !0 }, "Missing key-system license configuration options " + JSON.stringify({ drmSystems: this.config.drmSystems })); return this.attemptKeySystemAccess(t) }, e._onMediaEncrypted = function (t) { var e = this, r = t.initDataType, i = t.initData, n = '"' + t.type + '" event: init data type: "' + r + '"'; if (this.debug(n), null !== i) { var a, s; if ("sinf" === r && this.config.drmSystems[q.FAIRPLAY]) { var o = Ct(new Uint8Array(i)); try { var l = V(JSON.parse(o).sinf), u = Vt(new Uint8Array(l)); if (!u) throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc"); a = u.subarray(8, 24), s = q.FAIRPLAY } catch (t) { return void this.warn(n + " Failed to parse sinf: " + t) } } else { var h = function (t) { var e = []; if (t instanceof ArrayBuffer) for (var r = t.byteLength, i = 0; i + 32 < r;) { var n = Jt(new DataView(t, i)); e.push(n), i += n.size } return e }(i), d = h.filter((function (t) { return t.systemId === rt }))[0]; if (!d) return void (0 === h.length || h.some((function (t) { return !t.systemId })) ? this.warn(n + " contains incomplete or invalid pssh data") : this.log("ignoring " + n + " for " + h.map((function (t) { return it(t.systemId) })).join(",") + " pssh data in favor of playlist keys")); if (s = it(d.systemId), 0 === d.version && d.data) { var c = d.data.length - 22; a = d.data.subarray(c, c + 16) } } if (s && a) { for (var f, g = kt.hexDump(a), v = this.keyIdToKeySessionPromise, m = this.mediaKeySessions, p = v[g], y = function () { var t = m[E], n = t.decryptdata; if (!n.keyId) return 0; var s = kt.hexDump(n.keyId); return g === s || -1 !== n.uri.replace(/-/g, "").indexOf(g) ? (p = v[s], n.pssh || (delete v[s], n.pssh = new Uint8Array(i), n.keyId = a, p = v[g] = p.then((function () { return e.generateRequestWithPreferredKeySession(t, r, i, "encrypted-event-key-match") }))), 1) : void 0 }, E = 0; E < m.length && (0 === (f = y()) || 1 !== f); E++); p || (p = v[g] = this.getKeySystemSelectionPromise([s]).then((function (t) { var n, s = t.keySystem, o = t.mediaKeys; e.throwIfDestroyed(); var l = new Zt("ISO-23001-7", g, null != (n = nt(s)) ? n : ""); return l.pssh = new Uint8Array(i), l.keyId = a, e.attemptSetMediaKeys(s, o).then((function () { e.throwIfDestroyed(); var t = e.createMediaKeySessionContext({ decryptdata: l, keySystem: s, mediaKeys: o }); return e.generateRequestWithPreferredKeySession(t, r, i, "encrypted-event-no-match") })) }))), p.catch((function (t) { return e.handleError(t) })) } } }, e._onWaitingForKey = function (t) { this.log('"' + t.type + '" event') }, e.attemptSetMediaKeys = function (t, e) { var r = this, i = this.setMediaKeysQueue.slice(); this.log('Setting media-keys for "' + t + '"'); var n = Promise.all(i).then((function () { if (!r.media) throw new Error("Attempted to set mediaKeys without media element attached"); return r.media.setMediaKeys(e) })); return this.setMediaKeysQueue.push(n), n.then((function () { r.log('Media-keys set for "' + t + '"'), i.push(n), r.setMediaKeysQueue = r.setMediaKeysQueue.filter((function (t) { return -1 === i.indexOf(t) })) })) }, e.generateRequestWithPreferredKeySession = function (t, e, r, i) { var n, a, s = this, o = null == (n = this.config.drmSystems) || null == (a = n[t.keySystem]) ? void 0 : a.generateRequest; if (o) try { var l = o.call(this.hls, e, r, t); if (!l) throw new Error("Invalid response from configured generateRequest filter"); e = l.initDataType, r = t.decryptdata.pssh = l.initData ? new Uint8Array(l.initData) : null } catch (t) { var u; if (this.warn(t.message), null != (u = this.hls) && u.config.debug) throw t } if (null === r) return this.log('Skipping key-session request for "' + i + '" (no initData)'), Promise.resolve(t); var h = this.getKeyIdString(t.decryptdata); this.log('Generating key-session request for "' + i + '": ' + h + " (init data type: " + e + " length: " + (r ? r.byteLength : null) + ")"); var d = new Vn, c = t._onmessage = function (e) { var r = t.mediaKeysSession; if (r) { var i = e.messageType, n = e.message; s.log('"' + i + '" message event for session "' + r.sessionId + '" message size: ' + n.byteLength), "license-request" === i || "license-renewal" === i ? s.renewLicense(t, n).catch((function (t) { s.handleError(t), d.emit("error", t) })) : "license-release" === i ? t.keySystem === q.FAIRPLAY && (s.updateKeySession(t, W("acknowledged")), s.removeSession(t)) : s.warn('unhandled media key message type "' + i + '"') } else d.emit("error", new Error("invalid state")) }, f = t._onkeystatuseschange = function (e) { if (t.mediaKeysSession) { s.onKeyStatusChange(t); var r = t.keyStatus; d.emit("keyStatus", r), "expired" === r && (s.warn(t.keySystem + " expired for key " + h), s.renewKeySession(t)) } else d.emit("error", new Error("invalid state")) }; t.mediaKeysSession.addEventListener("message", c), t.mediaKeysSession.addEventListener("keystatuseschange", f); var g = new Promise((function (t, e) { d.on("error", e), d.on("keyStatus", (function (r) { r.startsWith("usable") ? t() : "output-restricted" === r ? e(new ls({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED, fatal: !1 }, "HDCP level output restricted")) : "internal-error" === r ? e(new ls({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_STATUS_INTERNAL_ERROR, fatal: !0 }, 'key status changed to "' + r + '"')) : "expired" === r ? e(new Error("key expired while generating request")) : s.warn('unhandled key status change "' + r + '"') })) })); return t.mediaKeysSession.generateRequest(e, r).then((function () { var e; s.log('Request generated for key-session "' + (null == (e = t.mediaKeysSession) ? void 0 : e.sessionId) + '" keyId: ' + h) })).catch((function (t) { throw new ls({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_NO_SESSION, error: t, fatal: !1 }, "Error generating key-session request: " + t) })).then((function () { return g })).catch((function (e) { throw d.removeAllListeners(), s.removeSession(t), e })).then((function () { return d.removeAllListeners(), t })) }, e.onKeyStatusChange = function (t) { var e = this; t.mediaKeysSession.keyStatuses.forEach((function (r, i) { e.log('key status change "' + r + '" for keyStatuses keyId: ' + kt.hexDump("buffer" in i ? new Uint8Array(i.buffer, i.byteOffset, i.byteLength) : new Uint8Array(i)) + " session keyId: " + kt.hexDump(new Uint8Array(t.decryptdata.keyId || [])) + " uri: " + t.decryptdata.uri), t.keyStatus = r })) }, e.fetchServerCertificate = function (t) { var e = this.config, r = new (0, e.loader)(e), n = this.getServerCertificateUrl(t); return n ? (this.log('Fetching server certificate for "' + t + '"'), new Promise((function (a, s) { var o = { responseType: "arraybuffer", url: n }, l = e.certLoadPolicy.default, u = { loadPolicy: l, timeout: l.maxLoadTimeMs, maxRetry: 0, retryDelay: 0, maxRetryDelay: 0 }, h = { onSuccess: function (t, e, r, i) { a(t.data) }, onError: function (e, r, a, l) { s(new ls({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED, fatal: !0, networkDetails: a, response: i({ url: o.url, data: void 0 }, e) }, '"' + t + '" certificate request failed (' + n + "). Status: " + e.code + " (" + e.text + ")")) }, onTimeout: function (e, r, i) { s(new ls({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED, fatal: !0, networkDetails: i, response: { url: o.url, data: void 0 } }, '"' + t + '" certificate request timed out (' + n + ")")) }, onAbort: function (t, e, r) { s(new Error("aborted")) } }; r.load(o, u, h) }))) : Promise.resolve() }, e.setMediaKeysServerCertificate = function (t, e, r) { var i = this; return new Promise((function (n, a) { t.setServerCertificate(r).then((function (a) { i.log("setServerCertificate " + (a ? "success" : "not supported by CDM") + " (" + (null == r ? void 0 : r.byteLength) + ') on "' + e + '"'), n(t) })).catch((function (t) { a(new ls({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED, error: t, fatal: !0 }, t.message)) })) })) }, e.renewLicense = function (t, e) { var r = this; return this.requestLicense(t, new Uint8Array(e)).then((function (e) { return r.updateKeySession(t, new Uint8Array(e)).catch((function (t) { throw new ls({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_SESSION_UPDATE_FAILED, error: t, fatal: !0 }, t.message) })) })) }, e.unpackPlayReadyKeyMessage = function (t, e) { var r = String.fromCharCode.apply(null, new Uint16Array(e.buffer)); if (!r.includes("PlayReadyKeyMessage")) return t.setRequestHeader("Content-Type", "text/xml; charset=utf-8"), e; var i = (new DOMParser).parseFromString(r, "application/xml"), n = i.querySelectorAll("HttpHeader"); if (n.length > 0) for (var a, s = 0, o = n.length; s < o; s++) { var l, u, h = null == (l = (a = n[s]).querySelector("name")) ? void 0 : l.textContent, d = null == (u = a.querySelector("value")) ? void 0 : u.textContent; h && d && t.setRequestHeader(h, d) } var c = i.querySelector("Challenge"), f = null == c ? void 0 : c.textContent; if (!f) throw new Error("Cannot find <Challenge> in key message"); return W(atob(f)) }, e.setupLicenseXHR = function (t, e, r, i) { var n = this, a = this.config.licenseXhrSetup; return a ? Promise.resolve().then((function () { if (!r.decryptdata) throw new Error("Key removed"); return a.call(n.hls, t, e, r, i) })).catch((function (s) { if (!r.decryptdata) throw s; return t.open("POST", e, !0), a.call(n.hls, t, e, r, i) })).then((function (r) { return t.readyState || t.open("POST", e, !0), { xhr: t, licenseChallenge: r || i } })) : (t.open("POST", e, !0), Promise.resolve({ xhr: t, licenseChallenge: i })) }, e.requestLicense = function (t, e) { var r = this, i = this.config.keyLoadPolicy.default; return new Promise((function (n, a) { var s = r.getLicenseServerUrl(t.keySystem); r.log("Sending license request to URL: " + s); var o = new XMLHttpRequest; o.responseType = "arraybuffer", o.onreadystatechange = function () { if (!r.hls || !t.mediaKeysSession) return a(new Error("invalid state")); if (4 === o.readyState) if (200 === o.status) { r._requestLicenseFailureCount = 0; var l = o.response; r.log("License received " + (l instanceof ArrayBuffer ? l.byteLength : l)); var u = r.config.licenseResponseCallback; if (u) try { l = u.call(r.hls, o, s, t) } catch (t) { r.error(t) } n(l) } else { var h = i.errorRetry, d = h ? h.maxNumRetry : 0; if (r._requestLicenseFailureCount++, r._requestLicenseFailureCount > d || o.status >= 400 && o.status < 500) a(new ls({ type: L.KEY_SYSTEM_ERROR, details: A.KEY_SYSTEM_LICENSE_REQUEST_FAILED, fatal: !0, networkDetails: o, response: { url: s, data: void 0, code: o.status, text: o.statusText } }, "License Request XHR failed (" + s + "). Status: " + o.status + " (" + o.statusText + ")")); else { var c = d - r._requestLicenseFailureCount + 1; r.warn("Retrying license request, " + c + " attempts left"), r.requestLicense(t, e).then(n, a) } } }, t.licenseXhr && t.licenseXhr.readyState !== XMLHttpRequest.DONE && t.licenseXhr.abort(), t.licenseXhr = o, r.setupLicenseXHR(o, s, t, e).then((function (e) { var i = e.xhr, n = e.licenseChallenge; t.keySystem == q.PLAYREADY && (n = r.unpackPlayReadyKeyMessage(i, n)), i.send(n) })) })) }, e.onMediaAttached = function (t, e) { if (this.config.emeEnabled) { var r = e.media; this.media = r, r.addEventListener("encrypted", this.onMediaEncrypted), r.addEventListener("waitingforkey", this.onWaitingForKey) } }, e.onMediaDetached = function () { var e = this, r = this.media, i = this.mediaKeySessions; r && (r.removeEventListener("encrypted", this.onMediaEncrypted), r.removeEventListener("waitingforkey", this.onWaitingForKey), this.media = null), this._requestLicenseFailureCount = 0, this.setMediaKeysQueue = [], this.mediaKeySessions = [], this.keyIdToKeySessionPromise = {}, Zt.clearKeyUriToKeyIdMap(); var n = i.length; t.CDMCleanupPromise = Promise.all(i.map((function (t) { return e.removeSession(t) })).concat(null == r ? void 0 : r.setMediaKeys(null).catch((function (t) { e.log("Could not clear media keys: " + t) })))).then((function () { n && (e.log("finished closing key sessions and clearing media keys"), i.length = 0) })).catch((function (t) { e.log("Could not close sessions and clear media keys: " + t) })) }, e.onManifestLoading = function () { this.keyFormatPromise = null }, e.onManifestLoaded = function (t, e) { var r = e.sessionKeys; if (r && this.config.emeEnabled && !this.keyFormatPromise) { var i = r.reduce((function (t, e) { return -1 === t.indexOf(e.keyFormat) && t.push(e.keyFormat), t }), []); this.log("Selecting key-system from session-keys " + i.join(", ")), this.keyFormatPromise = this.getKeyFormatPromise(i) } }, e.removeSession = function (t) { var e = this, r = t.mediaKeysSession, i = t.licenseXhr; if (r) { this.log("Remove licenses and keys and close session " + r.sessionId), t._onmessage && (r.removeEventListener("message", t._onmessage), t._onmessage = void 0), t._onkeystatuseschange && (r.removeEventListener("keystatuseschange", t._onkeystatuseschange), t._onkeystatuseschange = void 0), i && i.readyState !== XMLHttpRequest.DONE && i.abort(), t.mediaKeysSession = t.decryptdata = t.licenseXhr = void 0; var n = this.mediaKeySessions.indexOf(t); return n > -1 && this.mediaKeySessions.splice(n, 1), r.remove().catch((function (t) { e.log("Could not remove session: " + t) })).then((function () { return r.close() })).catch((function (t) { e.log("Could not close session: " + t) })) } }, t }(); is.CDMCleanupPromise = void 0; var ns, as, ss, os, ls = function (t) { function e(e, r) { var i; return (i = t.call(this, r) || this).data = void 0, e.error || (e.error = new Error(r)), i.data = e, e.err = e.error, i } return l(e, t), e }(c(Error)); !function (t) { t.MANIFEST = "m", t.AUDIO = "a", t.VIDEO = "v", t.MUXED = "av", t.INIT = "i", t.CAPTION = "c", t.TIMED_TEXT = "tt", t.KEY = "k", t.OTHER = "o" }(ns || (ns = {})), function (t) { t.DASH = "d", t.HLS = "h", t.SMOOTH = "s", t.OTHER = "o" }(as || (as = {})), function (t) { t.OBJECT = "CMCD-Object", t.REQUEST = "CMCD-Request", t.SESSION = "CMCD-Session", t.STATUS = "CMCD-Status" }(ss || (ss = {})); var us = ((os = {})[ss.OBJECT] = ["br", "d", "ot", "tb"], os[ss.REQUEST] = ["bl", "dl", "mtp", "nor", "nrr", "su"], os[ss.SESSION] = ["cid", "pr", "sf", "sid", "st", "v"], os[ss.STATUS] = ["bs", "rtp"], os), hs = function t(e, r) { this.value = void 0, this.params = void 0, Array.isArray(e) && (e = e.map((function (e) { return e instanceof t ? e : new t(e) }))), this.value = e, this.params = r }, ds = function (t) { this.description = void 0, this.description = t }, cs = "Dict"; function fs(t, e, r, i) { return new Error("failed to " + t + ' "' + (n = e, (Array.isArray(n) ? JSON.stringify(n) : n instanceof Map ? "Map{}" : n instanceof Set ? "Set{}" : "object" == typeof n ? JSON.stringify(n) : String(n)) + '" as ') + r, { cause: i }); var n } var gs = "Bare Item", vs = "Boolean", ms = "Byte Sequence", ps = "Decimal", ys = "Integer", Es = /[\x00-\x1f\x7f]+/, Ts = "Token", Ss = "Key"; function Ls(t, e, r) { return fs("serialize", t, e, r) } function As(t) { if (!1 === ArrayBuffer.isView(t)) throw Ls(t, ms); return ":" + (e = t, btoa(String.fromCharCode.apply(String, e)) + ":"); var e } function Rs(t) { if (function (t) { return t < -999999999999999 || 999999999999999 < t }(t)) throw Ls(t, ys); return t.toString() } function bs(t, e) { if (t < 0) return -bs(-t, e); var r = Math.pow(10, e); if (Math.abs(t * r % 1 - .5) < Number.EPSILON) { var i = Math.floor(t * r); return (i % 2 == 0 ? i : i + 1) / r } return Math.round(t * r) / r } function ks(t) { var e = bs(t, 3); if (Math.floor(Math.abs(e)).toString().length > 12) throw Ls(t, ps); var r = e.toString(); return r.includes(".") ? r : r + ".0" } var Ds = "String"; function Is(t) { var e, r = (e = t).description || e.toString().slice(7, -1); if (!1 === /^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(r)) throw Ls(r, Ts); return r } function ws(t) { switch (typeof t) { case "number": if (!y(t)) throw Ls(t, gs); return Number.isInteger(t) ? Rs(t) : ks(t); case "string": return function (t) { if (Es.test(t)) throw Ls(t, Ds); return '"' + t.replace(/\\/g, "\\\\").replace(/"/g, '\\"') + '"' }(t); case "symbol": return Is(t); case "boolean": return function (t) { if ("boolean" != typeof t) throw Ls(t, vs); return t ? "?1" : "?0" }(t); case "object": if (t instanceof Date) return function (t) { return "@" + Rs(t.getTime() / 1e3) }(t); if (t instanceof Uint8Array) return As(t); if (t instanceof ds) return Is(t); default: throw Ls(t, gs) } } function Cs(t) { if (!1 === /^[a-z*][a-z0-9\-_.*]*$/.test(t)) throw Ls(t, Ss); return t } function _s(t) { return null == t ? "" : Object.entries(t).map((function (t) { var e = t[0], r = t[1]; return !0 === r ? ";" + Cs(e) : ";" + Cs(e) + "=" + ws(r) })).join("") } function xs(t) { return t instanceof hs ? "" + ws(t.value) + _s(t.params) : ws(t) } function Ps(t, e) { var r; if (void 0 === e && (e = { whitespace: !0 }), "object" != typeof t) throw Ls(t, cs); var i = t instanceof Map ? t.entries() : Object.entries(t), n = null != (r = e) && r.whitespace ? " " : ""; return Array.from(i).map((function (t) { var e = t[0], r = t[1]; r instanceof hs == 0 && (r = new hs(r)); var i, n = Cs(e); return !0 === r.value ? n += _s(r.params) : (n += "=", Array.isArray(r.value) ? n += "(" + (i = r).value.map(xs).join(" ") + ")" + _s(i.params) : n += xs(r)), n })).join("," + n) } var Fs = function (t) { return "ot" === t || "sf" === t || "st" === t }, Ms = function (t) { return "number" == typeof t ? y(t) : null != t && "" !== t && !1 !== t }, Os = function (t) { return Math.round(t) }, Ns = function (t) { return 100 * Os(t / 100) }, Us = { br: Os, d: Os, bl: Ns, dl: Ns, mtp: Ns, nor: function (t, e) { return null != e && e.baseUrl && (t = function (t, e) { var r = new URL(t), i = new URL(e); if (r.origin !== i.origin) return t; for (var n = r.pathname.split("/").slice(1), a = i.pathname.split("/").slice(1, -1); n[0] === a[0];)n.shift(), a.shift(); for (; a.length;)a.shift(), n.unshift(".."); return n.join("/") }(t, e.baseUrl)), encodeURIComponent(t) }, rtp: Ns, tb: Os }; function Bs(t, e) { return void 0 === e && (e = {}), t ? function (t, e) { return Ps(t, e) }(function (t, e) { var r = {}; if (null == t || "object" != typeof t) return r; var i = Object.keys(t).sort(), n = o({}, Us, null == e ? void 0 : e.formatters), a = null == e ? void 0 : e.filter; return i.forEach((function (i) { if (null == a || !a(i)) { var s = t[i], o = n[i]; o && (s = o(s, e)), "v" === i && 1 === s || "pr" == i && 1 === s || Ms(s) && (Fs(i) && "string" == typeof s && (s = new ds(s)), r[i] = s) } })), r }(t, e), o({ whitespace: !1 }, e)) : "" } function Gs(t, e, r) { return o(t, function (t, e) { var r; if (void 0 === e && (e = {}), !t) return {}; var i = Object.entries(t), n = Object.entries(us).concat(Object.entries((null == (r = e) ? void 0 : r.customHeaderMap) || {})), a = i.reduce((function (t, e) { var r, i = e[0], a = e[1], s = (null == (r = n.find((function (t) { return t[1].includes(i) }))) ? void 0 : r[0]) || ss.REQUEST; return null != t[s] || (t[s] = {}), t[s][i] = a, t }), {}); return Object.entries(a).reduce((function (t, r) { var i = r[0], n = r[1]; return t[i] = Bs(n, e), t }), {}) }(e, r)) } var Ks = "CMCD", Hs = /CMCD=[^&#]+/; function Vs(t, e, r) { var i = function (t, e) { if (void 0 === e && (e = {}), !t) return ""; var r = Bs(t, e); return Ks + "=" + encodeURIComponent(r) }(e, r); if (!i) return t; if (Hs.test(t)) return t.replace(Hs, i); var n = t.includes("?") ? "&" : "?"; return "" + t + n + i } var Ys = function () { function t(t) { var e = this; this.hls = void 0, this.config = void 0, this.media = void 0, this.sid = void 0, this.cid = void 0, this.useHeaders = !1, this.includeKeys = void 0, this.initialized = !1, this.starved = !1, this.buffering = !0, this.audioBuffer = void 0, this.videoBuffer = void 0, this.onWaiting = function () { e.initialized && (e.starved = !0), e.buffering = !0 }, this.onPlaying = function () { e.initialized || (e.initialized = !0), e.buffering = !1 }, this.applyPlaylistData = function (t) { try { e.apply(t, { ot: ns.MANIFEST, su: !e.initialized }) } catch (t) { w.warn("Could not generate manifest CMCD data.", t) } }, this.applyFragmentData = function (t) { try { var r = t.frag, i = e.hls.levels[r.level], n = e.getObjectType(r), a = { d: 1e3 * r.duration, ot: n }; n !== ns.VIDEO && n !== ns.AUDIO && n != ns.MUXED || (a.br = i.bitrate / 1e3, a.tb = e.getTopBandwidth(n) / 1e3, a.bl = e.getBufferLength(n)), e.apply(t, a) } catch (t) { w.warn("Could not generate segment CMCD data.", t) } }, this.hls = t; var r = this.config = t.config, i = r.cmcd; null != i && (r.pLoader = this.createPlaylistLoader(), r.fLoader = this.createFragmentLoader(), this.sid = i.sessionId || function () { try { return crypto.randomUUID() } catch (i) { try { var t = URL.createObjectURL(new Blob), e = t.toString(); return URL.revokeObjectURL(t), e.slice(e.lastIndexOf("/") + 1) } catch (t) { var r = (new Date).getTime(); return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function (t) { var e = (r + 16 * Math.random()) % 16 | 0; return r = Math.floor(r / 16), ("x" == t ? e : 3 & e | 8).toString(16) })) } } }(), this.cid = i.contentId, this.useHeaders = !0 === i.useHeaders, this.includeKeys = i.includeKeys, this.registerListeners()) } var e = t.prototype; return e.registerListeners = function () { var t = this.hls; t.on(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.on(S.MEDIA_DETACHED, this.onMediaDetached, this), t.on(S.BUFFER_CREATED, this.onBufferCreated, this) }, e.unregisterListeners = function () { var t = this.hls; t.off(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.off(S.MEDIA_DETACHED, this.onMediaDetached, this), t.off(S.BUFFER_CREATED, this.onBufferCreated, this) }, e.destroy = function () { this.unregisterListeners(), this.onMediaDetached(), this.hls = this.config = this.audioBuffer = this.videoBuffer = null, this.onWaiting = this.onPlaying = null }, e.onMediaAttached = function (t, e) { this.media = e.media, this.media.addEventListener("waiting", this.onWaiting), this.media.addEventListener("playing", this.onPlaying) }, e.onMediaDetached = function () { this.media && (this.media.removeEventListener("waiting", this.onWaiting), this.media.removeEventListener("playing", this.onPlaying), this.media = null) }, e.onBufferCreated = function (t, e) { var r, i; this.audioBuffer = null == (r = e.tracks.audio) ? void 0 : r.buffer, this.videoBuffer = null == (i = e.tracks.video) ? void 0 : i.buffer }, e.createData = function () { var t; return { v: 1, sf: as.HLS, sid: this.sid, cid: this.cid, pr: null == (t = this.media) ? void 0 : t.playbackRate, mtp: this.hls.bandwidthEstimate / 1e3 } }, e.apply = function (t, e) { void 0 === e && (e = {}), o(e, this.createData()); var r = e.ot === ns.INIT || e.ot === ns.VIDEO || e.ot === ns.MUXED; this.starved && r && (e.bs = !0, e.su = !0, this.starved = !1), null == e.su && (e.su = this.buffering); var i = this.includeKeys; i && (e = Object.keys(e).reduce((function (t, r) { return i.includes(r) && (t[r] = e[r]), t }), {})), this.useHeaders ? (t.headers || (t.headers = {}), Gs(t.headers, e)) : t.url = Vs(t.url, e) }, e.getObjectType = function (t) { var e = t.type; return "subtitle" === e ? ns.TIMED_TEXT : "initSegment" === t.sn ? ns.INIT : "audio" === e ? ns.AUDIO : "main" === e ? this.hls.audioTracks.length ? ns.VIDEO : ns.MUXED : void 0 }, e.getTopBandwidth = function (t) { var e, r = 0, i = this.hls; if (t === ns.AUDIO) e = i.audioTracks; else { var n = i.maxAutoLevel, a = n > -1 ? n + 1 : i.levels.length; e = i.levels.slice(0, a) } for (var s, o = g(e); !(s = o()).done;) { var l = s.value; l.bitrate > r && (r = l.bitrate) } return r > 0 ? r : NaN }, e.getBufferLength = function (t) { var e = this.hls.media, r = t === ns.AUDIO ? this.audioBuffer : this.videoBuffer; return r && e ? 1e3 * ri.bufferInfo(r, e.currentTime, this.config.maxBufferHole).len : NaN }, e.createPlaylistLoader = function () { var t = this.config.pLoader, e = this.applyPlaylistData, r = t || this.config.loader; return function () { function t(t) { this.loader = void 0, this.loader = new r(t) } var i = t.prototype; return i.destroy = function () { this.loader.destroy() }, i.abort = function () { this.loader.abort() }, i.load = function (t, r, i) { e(t), this.loader.load(t, r, i) }, s(t, [{ key: "stats", get: function () { return this.loader.stats } }, { key: "context", get: function () { return this.loader.context } }]), t }() }, e.createFragmentLoader = function () { var t = this.config.fLoader, e = this.applyFragmentData, r = t || this.config.loader; return function () { function t(t) { this.loader = void 0, this.loader = new r(t) } var i = t.prototype; return i.destroy = function () { this.loader.destroy() }, i.abort = function () { this.loader.abort() }, i.load = function (t, r, i) { e(t), this.loader.load(t, r, i) }, s(t, [{ key: "stats", get: function () { return this.loader.stats } }, { key: "context", get: function () { return this.loader.context } }]), t }() }, t }(), Ws = function () { function t(t) { this.hls = void 0, this.log = void 0, this.loader = null, this.uri = null, this.pathwayId = ".", this.pathwayPriority = null, this.timeToLoad = 300, this.reloadTimer = -1, this.updated = 0, this.started = !1, this.enabled = !0, this.levels = null, this.audioTracks = null, this.subtitleTracks = null, this.penalizedPathways = {}, this.hls = t, this.log = w.log.bind(w, "[content-steering]:"), this.registerListeners() } var e = t.prototype; return e.registerListeners = function () { var t = this.hls; t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.MANIFEST_LOADED, this.onManifestLoaded, this), t.on(S.MANIFEST_PARSED, this.onManifestParsed, this), t.on(S.ERROR, this.onError, this) }, e.unregisterListeners = function () { var t = this.hls; t && (t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.MANIFEST_LOADED, this.onManifestLoaded, this), t.off(S.MANIFEST_PARSED, this.onManifestParsed, this), t.off(S.ERROR, this.onError, this)) }, e.startLoad = function () { if (this.started = !0, this.clearTimeout(), this.enabled && this.uri) { if (this.updated) { var t = 1e3 * this.timeToLoad - (performance.now() - this.updated); if (t > 0) return void this.scheduleRefresh(this.uri, t) } this.loadSteeringManifest(this.uri) } }, e.stopLoad = function () { this.started = !1, this.loader && (this.loader.destroy(), this.loader = null), this.clearTimeout() }, e.clearTimeout = function () { -1 !== this.reloadTimer && (self.clearTimeout(this.reloadTimer), this.reloadTimer = -1) }, e.destroy = function () { this.unregisterListeners(), this.stopLoad(), this.hls = null, this.levels = this.audioTracks = this.subtitleTracks = null }, e.removeLevel = function (t) { var e = this.levels; e && (this.levels = e.filter((function (e) { return e !== t }))) }, e.onManifestLoading = function () { this.stopLoad(), this.enabled = !0, this.timeToLoad = 300, this.updated = 0, this.uri = null, this.pathwayId = ".", this.levels = this.audioTracks = this.subtitleTracks = null }, e.onManifestLoaded = function (t, e) { var r = e.contentSteering; null !== r && (this.pathwayId = r.pathwayId, this.uri = r.uri, this.started && this.startLoad()) }, e.onManifestParsed = function (t, e) { this.audioTracks = e.audioTracks, this.subtitleTracks = e.subtitleTracks }, e.onError = function (t, e) { var r = e.errorAction; if ((null == r ? void 0 : r.action) === Dr && r.flags === _r) { var i = this.levels, n = this.pathwayPriority, a = this.pathwayId; if (e.context) { var s = e.context, o = s.groupId, l = s.pathwayId, u = s.type; o && i ? a = this.getPathwayForGroupId(o, u, a) : l && (a = l) } a in this.penalizedPathways || (this.penalizedPathways[a] = performance.now()), !n && i && (n = i.reduce((function (t, e) { return -1 === t.indexOf(e.pathwayId) && t.push(e.pathwayId), t }), [])), n && n.length > 1 && (this.updatePathwayPriority(n), r.resolved = this.pathwayId !== a), r.resolved || w.warn("Could not resolve " + e.details + ' ("' + e.error.message + '") with content-steering for Pathway: ' + a + " levels: " + (i ? i.length : i) + " priorities: " + JSON.stringify(n) + " penalized: " + JSON.stringify(this.penalizedPathways)) } }, e.filterParsedLevels = function (t) { this.levels = t; var e = this.getLevelsForPathway(this.pathwayId); if (0 === e.length) { var r = t[0].pathwayId; this.log("No levels found in Pathway " + this.pathwayId + '. Setting initial Pathway to "' + r + '"'), e = this.getLevelsForPathway(r), this.pathwayId = r } return e.length !== t.length && this.log("Found " + e.length + "/" + t.length + ' levels in Pathway "' + this.pathwayId + '"'), e }, e.getLevelsForPathway = function (t) { return null === this.levels ? [] : this.levels.filter((function (e) { return t === e.pathwayId })) }, e.updatePathwayPriority = function (t) { var e; this.pathwayPriority = t; var r = this.penalizedPathways, i = performance.now(); Object.keys(r).forEach((function (t) { i - r[t] > 3e5 && delete r[t] })); for (var n = 0; n < t.length; n++) { var a = t[n]; if (!(a in r)) { if (a === this.pathwayId) return; var s = this.hls.nextLoadLevel, o = this.hls.levels[s]; if ((e = this.getLevelsForPathway(a)).length > 0) { this.log('Setting Pathway to "' + a + '"'), this.pathwayId = a, mr(e), this.hls.trigger(S.LEVELS_UPDATED, { levels: e }); var l = this.hls.levels[s]; o && l && this.levels && (l.attrs["STABLE-VARIANT-ID"] !== o.attrs["STABLE-VARIANT-ID"] && l.bitrate !== o.bitrate && this.log("Unstable Pathways change from bitrate " + o.bitrate + " to " + l.bitrate), this.hls.nextLoadLevel = s); break } } } }, e.getPathwayForGroupId = function (t, e, r) { for (var i = this.getLevelsForPathway(r).concat(this.levels || []), n = 0; n < i.length; n++)if (e === xe && i[n].hasAudioGroup(t) || e === Pe && i[n].hasSubtitleGroup(t)) return i[n].pathwayId; return r }, e.clonePathways = function (t) { var e = this, r = this.levels; if (r) { var i = {}, n = {}; t.forEach((function (t) { var a = t.ID, s = t["BASE-ID"], o = t["URI-REPLACEMENT"]; if (!r.some((function (t) { return t.pathwayId === a }))) { var l = e.getLevelsForPathway(s).map((function (t) { var e = new x(t.attrs); e["PATHWAY-ID"] = a; var r = e.AUDIO && e.AUDIO + "_clone_" + a, s = e.SUBTITLES && e.SUBTITLES + "_clone_" + a; r && (i[e.AUDIO] = r, e.AUDIO = r), s && (n[e.SUBTITLES] = s, e.SUBTITLES = s); var l = qs(t.uri, e["STABLE-VARIANT-ID"], "PER-VARIANT-URIS", o), u = new or({ attrs: e, audioCodec: t.audioCodec, bitrate: t.bitrate, height: t.height, name: t.name, url: l, videoCodec: t.videoCodec, width: t.width }); if (t.audioGroups) for (var h = 1; h < t.audioGroups.length; h++)u.addGroupId("audio", t.audioGroups[h] + "_clone_" + a); if (t.subtitleGroups) for (var d = 1; d < t.subtitleGroups.length; d++)u.addGroupId("text", t.subtitleGroups[d] + "_clone_" + a); return u })); r.push.apply(r, l), js(e.audioTracks, i, o, a), js(e.subtitleTracks, n, o, a) } })) } }, e.loadSteeringManifest = function (t) { var e, r = this, i = this.hls.config, n = i.loader; this.loader && this.loader.destroy(), this.loader = new n(i); try { e = new self.URL(t) } catch (e) { return this.enabled = !1, void this.log("Failed to parse Steering Manifest URI: " + t) } if ("data:" !== e.protocol) { var a = 0 | (this.hls.bandwidthEstimate || i.abrEwmaDefaultEstimate); e.searchParams.set("_HLS_pathway", this.pathwayId), e.searchParams.set("_HLS_throughput", "" + a) } var s = { responseType: "json", url: e.href }, o = i.steeringManifestLoadPolicy.default, l = o.errorRetry || o.timeoutRetry || {}, u = { loadPolicy: o, timeout: o.maxLoadTimeMs, maxRetry: l.maxNumRetry || 0, retryDelay: l.retryDelayMs || 0, maxRetryDelay: l.maxRetryDelayMs || 0 }, h = { onSuccess: function (t, i, n, a) { r.log('Loaded steering manifest: "' + e + '"'); var s = t.data; if (1 === s.VERSION) { r.updated = performance.now(), r.timeToLoad = s.TTL; var o = s["RELOAD-URI"], l = s["PATHWAY-CLONES"], u = s["PATHWAY-PRIORITY"]; if (o) try { r.uri = new self.URL(o, e).href } catch (t) { return r.enabled = !1, void r.log("Failed to parse Steering Manifest RELOAD-URI: " + o) } r.scheduleRefresh(r.uri || n.url), l && r.clonePathways(l); var h = { steeringManifest: s, url: e.toString() }; r.hls.trigger(S.STEERING_MANIFEST_LOADED, h), u && r.updatePathwayPriority(u) } else r.log("Steering VERSION " + s.VERSION + " not supported!") }, onError: function (t, e, i, n) { if (r.log("Error loading steering manifest: " + t.code + " " + t.text + " (" + e.url + ")"), r.stopLoad(), 410 === t.code) return r.enabled = !1, void r.log("Steering manifest " + e.url + " no longer available"); var a = 1e3 * r.timeToLoad; if (429 !== t.code) r.scheduleRefresh(r.uri || e.url, a); else { var s = r.loader; if ("function" == typeof (null == s ? void 0 : s.getResponseHeader)) { var o = s.getResponseHeader("Retry-After"); o && (a = 1e3 * parseFloat(o)) } r.log("Steering manifest " + e.url + " rate limited") } }, onTimeout: function (t, e, i) { r.log("Timeout loading steering manifest (" + e.url + ")"), r.scheduleRefresh(r.uri || e.url) } }; this.log("Requesting steering manifest: " + e), this.loader.load(s, u, h) }, e.scheduleRefresh = function (t, e) { var r = this; void 0 === e && (e = 1e3 * this.timeToLoad), this.clearTimeout(), this.reloadTimer = self.setTimeout((function () { var e, i = null == (e = r.hls) ? void 0 : e.media; !i || i.ended ? r.scheduleRefresh(t, 1e3 * r.timeToLoad) : r.loadSteeringManifest(t) }), e) }, t }(); function js(t, e, r, i) { t && Object.keys(e).forEach((function (n) { var a = t.filter((function (t) { return t.groupId === n })).map((function (t) { var a = o({}, t); return a.details = void 0, a.attrs = new x(a.attrs), a.url = a.attrs.URI = qs(t.url, t.attrs["STABLE-RENDITION-ID"], "PER-RENDITION-URIS", r), a.groupId = a.attrs["GROUP-ID"] = e[n], a.attrs["PATHWAY-ID"] = i, a })); t.push.apply(t, a) })) } function qs(t, e, r, i) { var n, a = i.HOST, s = i.PARAMS, o = i[r]; e && (n = null == o ? void 0 : o[e]) && (t = n); var l = new self.URL(t); return a && !n && (l.host = a), s && Object.keys(s).sort().forEach((function (t) { t && l.searchParams.set(t, s[t]) })), l.href } var Xs = /^age:\s*[\d.]+\s*$/im, zs = function () { function t(t) { this.xhrSetup = void 0, this.requestTimeout = void 0, this.retryTimeout = void 0, this.retryDelay = void 0, this.config = null, this.callbacks = null, this.context = null, this.loader = null, this.stats = void 0, this.xhrSetup = t && t.xhrSetup || null, this.stats = new M, this.retryDelay = 0 } var e = t.prototype; return e.destroy = function () { this.callbacks = null, this.abortInternal(), this.loader = null, this.config = null, this.context = null, this.xhrSetup = null }, e.abortInternal = function () { var t = this.loader; self.clearTimeout(this.requestTimeout), self.clearTimeout(this.retryTimeout), t && (t.onreadystatechange = null, t.onprogress = null, 4 !== t.readyState && (this.stats.aborted = !0, t.abort())) }, e.abort = function () { var t; this.abortInternal(), null != (t = this.callbacks) && t.onAbort && this.callbacks.onAbort(this.stats, this.context, this.loader) }, e.load = function (t, e, r) { if (this.stats.loading.start) throw new Error("Loader can only be used once."); this.stats.loading.start = self.performance.now(), this.context = t, this.config = e, this.callbacks = r, this.loadInternal() }, e.loadInternal = function () { var t = this, e = this.config, r = this.context; if (e && r) { var i = this.loader = new self.XMLHttpRequest, n = this.stats; n.loading.first = 0, n.loaded = 0, n.aborted = !1; var a = this.xhrSetup; a ? Promise.resolve().then((function () { if (t.loader === i && !t.stats.aborted) return a(i, r.url) })).catch((function (e) { if (t.loader === i && !t.stats.aborted) return i.open("GET", r.url, !0), a(i, r.url) })).then((function () { t.loader !== i || t.stats.aborted || t.openAndSendXhr(i, r, e) })).catch((function (e) { t.callbacks.onError({ code: i.status, text: e.message }, r, i, n) })) : this.openAndSendXhr(i, r, e) } }, e.openAndSendXhr = function (t, e, r) { t.readyState || t.open("GET", e.url, !0); var i = e.headers, n = r.loadPolicy, a = n.maxTimeToFirstByteMs, s = n.maxLoadTimeMs; if (i) for (var o in i) t.setRequestHeader(o, i[o]); e.rangeEnd && t.setRequestHeader("Range", "bytes=" + e.rangeStart + "-" + (e.rangeEnd - 1)), t.onreadystatechange = this.readystatechange.bind(this), t.onprogress = this.loadprogress.bind(this), t.responseType = e.responseType, self.clearTimeout(this.requestTimeout), r.timeout = a && y(a) ? a : s, this.requestTimeout = self.setTimeout(this.loadtimeout.bind(this), r.timeout), t.send() }, e.readystatechange = function () { var t = this.context, e = this.loader, r = this.stats; if (t && e) { var i = e.readyState, n = this.config; if (!r.aborted && i >= 2 && (0 === r.loading.first && (r.loading.first = Math.max(self.performance.now(), r.loading.start), n.timeout !== n.loadPolicy.maxLoadTimeMs && (self.clearTimeout(this.requestTimeout), n.timeout = n.loadPolicy.maxLoadTimeMs, this.requestTimeout = self.setTimeout(this.loadtimeout.bind(this), n.loadPolicy.maxLoadTimeMs - (r.loading.first - r.loading.start)))), 4 === i)) { self.clearTimeout(this.requestTimeout), e.onreadystatechange = null, e.onprogress = null; var a = e.status, s = "text" !== e.responseType; if (a >= 200 && a < 300 && (s && e.response || null !== e.responseText)) { r.loading.end = Math.max(self.performance.now(), r.loading.first); var o = s ? e.response : e.responseText, l = "arraybuffer" === e.responseType ? o.byteLength : o.length; if (r.loaded = r.total = l, r.bwEstimate = 8e3 * r.total / (r.loading.end - r.loading.first), !this.callbacks) return; var u = this.callbacks.onProgress; if (u && u(r, t, o, e), !this.callbacks) return; var h = { url: e.responseURL, data: o, code: a }; this.callbacks.onSuccess(h, r, t, e) } else { var d = n.loadPolicy.errorRetry; Sr(d, r.retry, !1, { url: t.url, data: void 0, code: a }) ? this.retry(d) : (w.error(a + " while loading " + t.url), this.callbacks.onError({ code: a, text: e.statusText }, t, e, r)) } } } }, e.loadtimeout = function () { if (this.config) { var t = this.config.loadPolicy.timeoutRetry; if (Sr(t, this.stats.retry, !0)) this.retry(t); else { var e; w.warn("timeout while loading " + (null == (e = this.context) ? void 0 : e.url)); var r = this.callbacks; r && (this.abortInternal(), r.onTimeout(this.stats, this.context, this.loader)) } } }, e.retry = function (t) { var e = this.context, r = this.stats; this.retryDelay = Er(t, r.retry), r.retry++, w.warn((status ? "HTTP Status " + status : "Timeout") + " while loading " + (null == e ? void 0 : e.url) + ", retrying " + r.retry + "/" + t.maxNumRetry + " in " + this.retryDelay + "ms"), this.abortInternal(), this.loader = null, self.clearTimeout(this.retryTimeout), this.retryTimeout = self.setTimeout(this.loadInternal.bind(this), this.retryDelay) }, e.loadprogress = function (t) { var e = this.stats; e.loaded = t.loaded, t.lengthComputable && (e.total = t.total) }, e.getCacheAge = function () { var t = null; if (this.loader && Xs.test(this.loader.getAllResponseHeaders())) { var e = this.loader.getResponseHeader("age"); t = e ? parseFloat(e) : null } return t }, e.getResponseHeader = function (t) { return this.loader && new RegExp("^" + t + ":\\s*[\\d.]+\\s*$", "im").test(this.loader.getAllResponseHeaders()) ? this.loader.getResponseHeader(t) : null }, t }(), Qs = /(\d+)-(\d+)\/(\d+)/, Js = function () { function t(t) { this.fetchSetup = void 0, this.requestTimeout = void 0, this.request = null, this.response = null, this.controller = void 0, this.context = null, this.config = null, this.callbacks = null, this.stats = void 0, this.loader = null, this.fetchSetup = t.fetchSetup || $s, this.controller = new self.AbortController, this.stats = new M } var e = t.prototype; return e.destroy = function () { this.loader = this.callbacks = this.context = this.config = this.request = null, this.abortInternal(), this.response = null, this.fetchSetup = this.controller = this.stats = null }, e.abortInternal = function () { this.controller && !this.stats.loading.end && (this.stats.aborted = !0, this.controller.abort()) }, e.abort = function () { var t; this.abortInternal(), null != (t = this.callbacks) && t.onAbort && this.callbacks.onAbort(this.stats, this.context, this.response) }, e.load = function (t, e, r) { var i = this, n = this.stats; if (n.loading.start) throw new Error("Loader can only be used once."); n.loading.start = self.performance.now(); var a = function (t, e) { var r = { method: "GET", mode: "cors", credentials: "same-origin", signal: e, headers: new self.Headers(o({}, t.headers)) }; return t.rangeEnd && r.headers.set("Range", "bytes=" + t.rangeStart + "-" + String(t.rangeEnd - 1)), r }(t, this.controller.signal), s = r.onProgress, l = "arraybuffer" === t.responseType, u = l ? "byteLength" : "length", h = e.loadPolicy, d = h.maxTimeToFirstByteMs, c = h.maxLoadTimeMs; this.context = t, this.config = e, this.callbacks = r, this.request = this.fetchSetup(t, a), self.clearTimeout(this.requestTimeout), e.timeout = d && y(d) ? d : c, this.requestTimeout = self.setTimeout((function () { i.abortInternal(), r.onTimeout(n, t, i.response) }), e.timeout), self.fetch(this.request).then((function (a) { i.response = i.loader = a; var o = Math.max(self.performance.now(), n.loading.start); if (self.clearTimeout(i.requestTimeout), e.timeout = c, i.requestTimeout = self.setTimeout((function () { i.abortInternal(), r.onTimeout(n, t, i.response) }), c - (o - n.loading.start)), !a.ok) { var u = a.status, h = a.statusText; throw new to(h || "fetch, bad network response", u, a) } return n.loading.first = o, n.total = function (t) { var e = t.get("Content-Range"); if (e) { var r = function (t) { var e = Qs.exec(t); if (e) return parseInt(e[2]) - parseInt(e[1]) + 1 }(e); if (y(r)) return r } var i = t.get("Content-Length"); if (i) return parseInt(i) }(a.headers) || n.total, s && y(e.highWaterMark) ? i.loadProgressively(a, n, t, e.highWaterMark, s) : l ? a.arrayBuffer() : "json" === t.responseType ? a.json() : a.text() })).then((function (a) { var o = i.response; if (!o) throw new Error("loader destroyed"); self.clearTimeout(i.requestTimeout), n.loading.end = Math.max(self.performance.now(), n.loading.first); var l = a[u]; l && (n.loaded = n.total = l); var h = { url: o.url, data: a, code: o.status }; s && !y(e.highWaterMark) && s(n, t, a, o), r.onSuccess(h, n, t, o) })).catch((function (e) { if (self.clearTimeout(i.requestTimeout), !n.aborted) { var a = e && e.code || 0, s = e ? e.message : null; r.onError({ code: a, text: s }, t, e ? e.details : null, n) } })) }, e.getCacheAge = function () { var t = null; if (this.response) { var e = this.response.headers.get("age"); t = e ? parseFloat(e) : null } return t }, e.getResponseHeader = function (t) { return this.response ? this.response.headers.get(t) : null }, e.loadProgressively = function (t, e, r, i, n) { void 0 === i && (i = 0); var a = new xi, s = t.body.getReader(); return function o() { return s.read().then((function (s) { if (s.done) return a.dataLength && n(e, r, a.flush(), t), Promise.resolve(new ArrayBuffer(0)); var l = s.value, u = l.length; return e.loaded += u, u < i || a.dataLength ? (a.push(l), a.dataLength >= i && n(e, r, a.flush(), t)) : n(e, r, l, t), o() })).catch((function () { return Promise.reject() })) }() }, t }(); function $s(t, e) { return new self.Request(t.url, e) } var Zs, to = function (t) { function e(e, r, i) { var n; return (n = t.call(this, e) || this).code = void 0, n.details = void 0, n.code = r, n.details = i, n } return l(e, t), e }(c(Error)), eo = /\s/, ro = i(i({ autoStartLoad: !0, startPosition: -1, defaultAudioCodec: void 0, debug: !1, capLevelOnFPSDrop: !1, capLevelToPlayerSize: !1, ignoreDevicePixelRatio: !1, preferManagedMediaSource: !0, initialLiveManifestSize: 1, maxBufferLength: 30, backBufferLength: 1 / 0, frontBufferFlushThreshold: 1 / 0, maxBufferSize: 6e7, maxBufferHole: .1, highBufferWatchdogPeriod: 2, nudgeOffset: .1, nudgeMaxRetry: 3, maxFragLookUpTolerance: .25, liveSyncDurationCount: 3, liveMaxLatencyDurationCount: 1 / 0, liveSyncDuration: void 0, liveMaxLatencyDuration: void 0, maxLiveSyncPlaybackRate: 1, liveDurationInfinity: !1, liveBackBufferLength: null, maxMaxBufferLength: 600, enableWorker: !0, workerPath: null, enableSoftwareAES: !0, startLevel: void 0, startFragPrefetch: !1, fpsDroppedMonitoringPeriod: 5e3, fpsDroppedMonitoringThreshold: .2, appendErrorMaxRetry: 3, loader: zs, fLoader: void 0, pLoader: void 0, xhrSetup: void 0, licenseXhrSetup: void 0, licenseResponseCallback: void 0, abrController: jr, bufferController: na, capLevelController: ts, errorController: Pr, fpsController: es, stretchShortVideoTrack: !1, maxAudioFramesDrift: 1, forceKeyFrameOnDiscontinuity: !0, abrEwmaFastLive: 3, abrEwmaSlowLive: 9, abrEwmaFastVoD: 3, abrEwmaSlowVoD: 9, abrEwmaDefaultEstimate: 5e5, abrEwmaDefaultEstimateMax: 5e6, abrBandWidthFactor: .95, abrBandWidthUpFactor: .7, abrMaxWithRealBitrate: !1, maxStarvationDelay: 4, maxLoadingDelay: 4, minAutoBitrate: 0, emeEnabled: !1, widevineLicenseUrl: void 0, drmSystems: {}, drmSystemOptions: {}, requestMediaKeySystemAccessFunc: ot, testBandwidth: !0, progressive: !1, lowLatencyMode: !0, cmcd: void 0, enableDateRangeMetadataCues: !0, enableEmsgMetadataCues: !0, enableID3MetadataCues: !0, useMediaCapabilities: !0, certLoadPolicy: { default: { maxTimeToFirstByteMs: 8e3, maxLoadTimeMs: 2e4, timeoutRetry: null, errorRetry: null } }, keyLoadPolicy: { default: { maxTimeToFirstByteMs: 8e3, maxLoadTimeMs: 2e4, timeoutRetry: { maxNumRetry: 1, retryDelayMs: 1e3, maxRetryDelayMs: 2e4, backoff: "linear" }, errorRetry: { maxNumRetry: 8, retryDelayMs: 1e3, maxRetryDelayMs: 2e4, backoff: "linear" } } }, manifestLoadPolicy: { default: { maxTimeToFirstByteMs: 1 / 0, maxLoadTimeMs: 2e4, timeoutRetry: { maxNumRetry: 2, retryDelayMs: 0, maxRetryDelayMs: 0 }, errorRetry: { maxNumRetry: 1, retryDelayMs: 1e3, maxRetryDelayMs: 8e3 } } }, playlistLoadPolicy: { default: { maxTimeToFirstByteMs: 1e4, maxLoadTimeMs: 2e4, timeoutRetry: { maxNumRetry: 2, retryDelayMs: 0, maxRetryDelayMs: 0 }, errorRetry: { maxNumRetry: 2, retryDelayMs: 1e3, maxRetryDelayMs: 8e3 } } }, fragLoadPolicy: { default: { maxTimeToFirstByteMs: 1e4, maxLoadTimeMs: 12e4, timeoutRetry: { maxNumRetry: 4, retryDelayMs: 0, maxRetryDelayMs: 0 }, errorRetry: { maxNumRetry: 6, retryDelayMs: 1e3, maxRetryDelayMs: 8e3 } } }, steeringManifestLoadPolicy: { default: { maxTimeToFirstByteMs: 1e4, maxLoadTimeMs: 2e4, timeoutRetry: { maxNumRetry: 2, retryDelayMs: 0, maxRetryDelayMs: 0 }, errorRetry: { maxNumRetry: 1, retryDelayMs: 1e3, maxRetryDelayMs: 8e3 } } }, manifestLoadingTimeOut: 1e4, manifestLoadingMaxRetry: 1, manifestLoadingRetryDelay: 1e3, manifestLoadingMaxRetryTimeout: 64e3, levelLoadingTimeOut: 1e4, levelLoadingMaxRetry: 4, levelLoadingRetryDelay: 1e3, levelLoadingMaxRetryTimeout: 64e3, fragLoadingTimeOut: 2e4, fragLoadingMaxRetry: 6, fragLoadingRetryDelay: 1e3, fragLoadingMaxRetryTimeout: 64e3 }, { cueHandler: { newCue: function (t, e, r, i) { for (var n, a, s, o, l, u = [], h = self.VTTCue || self.TextTrackCue, d = 0; d < i.rows.length; d++)if (s = !0, o = 0, l = "", !(n = i.rows[d]).isEmpty()) { for (var c, f = 0; f < n.chars.length; f++)eo.test(n.chars[f].uchar) && s ? o++ : (l += n.chars[f].uchar, s = !1); n.cueStartTime = e, e === r && (r += 1e-4), o >= 16 ? o-- : o++; var g = Pa(l.trim()), v = Ua(e, r, g); null != t && null != (c = t.cues) && c.getCueById(v) || ((a = new h(e, r, g)).id = v, a.line = d + 1, a.align = "left", a.position = 10 + Math.min(80, 10 * Math.floor(8 * o / 32)), u.push(a)) } return t && u.length && (u.sort((function (t, e) { return "auto" === t.line || "auto" === e.line ? 0 : t.line > 8 && e.line > 8 ? e.line - t.line : t.line - e.line })), u.forEach((function (e) { return Ke(t, e) }))), u } }, enableWebVTT: !0, enableIMSC1: !0, enableCEA708Captions: !0, captionsTextTrack1Label: "English", captionsTextTrack1LanguageCode: "en", captionsTextTrack2Label: "Spanish", captionsTextTrack2LanguageCode: "es", captionsTextTrack3Label: "Unknown CC", captionsTextTrack3LanguageCode: "", captionsTextTrack4Label: "Unknown CC", captionsTextTrack4LanguageCode: "", renderTextTracksNatively: !0 }), {}, { subtitleStreamController: Zn, subtitleTrackController: ea, timelineController: Ja, audioStreamController: Jn, audioTrackController: $n, emeController: is, cmcdController: Ys, contentSteeringController: Ws }); function io(t) { return t && "object" == typeof t ? Array.isArray(t) ? t.map(io) : Object.keys(t).reduce((function (e, r) { return e[r] = io(t[r]), e }), {}) : t } function no(t) { var e = t.loader; e !== Js && e !== zs ? (w.log("[config]: Custom loader detected, cannot enable progressive streaming"), t.progressive = !1) : function () { if (self.fetch && self.AbortController && self.ReadableStream && self.Request) try { return new self.ReadableStream({}), !0 } catch (t) { } return !1 }() && (t.loader = Js, t.progressive = !0, t.enableSoftwareAES = !0, w.log("[config]: Progressive streaming enabled, using FetchLoader")) } var ao = function (t) { function e(e, r) { var i; return (i = t.call(this, e, "[level-controller]") || this)._levels = [], i._firstLevel = -1, i._maxAutoLevel = -1, i._startLevel = void 0, i.currentLevel = null, i.currentLevelIndex = -1, i.manualLevelIndex = -1, i.steering = void 0, i.onParsedComplete = void 0, i.steering = r, i._registerListeners(), i } l(e, t); var r = e.prototype; return r._registerListeners = function () { var t = this.hls; t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.MANIFEST_LOADED, this.onManifestLoaded, this), t.on(S.LEVEL_LOADED, this.onLevelLoaded, this), t.on(S.LEVELS_UPDATED, this.onLevelsUpdated, this), t.on(S.FRAG_BUFFERED, this.onFragBuffered, this), t.on(S.ERROR, this.onError, this) }, r._unregisterListeners = function () { var t = this.hls; t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.MANIFEST_LOADED, this.onManifestLoaded, this), t.off(S.LEVEL_LOADED, this.onLevelLoaded, this), t.off(S.LEVELS_UPDATED, this.onLevelsUpdated, this), t.off(S.FRAG_BUFFERED, this.onFragBuffered, this), t.off(S.ERROR, this.onError, this) }, r.destroy = function () { this._unregisterListeners(), this.steering = null, this.resetLevels(), t.prototype.destroy.call(this) }, r.stopLoad = function () { this._levels.forEach((function (t) { t.loadError = 0, t.fragmentError = 0 })), t.prototype.stopLoad.call(this) }, r.resetLevels = function () { this._startLevel = void 0, this.manualLevelIndex = -1, this.currentLevelIndex = -1, this.currentLevel = null, this._levels = [], this._maxAutoLevel = -1 }, r.onManifestLoading = function (t, e) { this.resetLevels() }, r.onManifestLoaded = function (t, e) { var r = this.hls.config.preferManagedMediaSource, i = [], n = {}, a = {}, s = !1, o = !1, l = !1; e.levels.forEach((function (t) { var e, u, h = t.attrs, d = t.audioCodec, c = t.videoCodec; -1 !== (null == (e = d) ? void 0 : e.indexOf("mp4a.40.34")) && (Zs || (Zs = /chrome|firefox/i.test(navigator.userAgent)), Zs && (t.audioCodec = d = void 0)), d && (t.audioCodec = d = ve(d, r)), 0 === (null == (u = c) ? void 0 : u.indexOf("avc1")) && (c = t.videoCodec = function (t) { for (var e = t.split(","), r = 0; r < e.length; r++) { var i = e[r].split("."); if (i.length > 2) { var n = i.shift() + "."; n += parseInt(i.shift()).toString(16), n += ("000" + parseInt(i.shift()).toString(16)).slice(-4), e[r] = n } } return e.join(",") }(c)); var f = t.width, g = t.height, v = t.unknownCodecs; if (s || (s = !(!f || !g)), o || (o = !!c), l || (l = !!d), !(null != v && v.length || d && !le(d, "audio", r) || c && !le(c, "video", r))) { var m = h.CODECS, p = h["FRAME-RATE"], y = h["HDCP-LEVEL"], E = h["PATHWAY-ID"], T = h.RESOLUTION, S = h["VIDEO-RANGE"], L = (E || ".") + "-" + t.bitrate + "-" + T + "-" + p + "-" + m + "-" + S + "-" + y; if (n[L]) if (n[L].uri === t.url || t.attrs["PATHWAY-ID"]) n[L].addGroupId("audio", h.AUDIO), n[L].addGroupId("text", h.SUBTITLES); else { var A = a[L] += 1; t.attrs["PATHWAY-ID"] = new Array(A + 1).join("."); var R = new or(t); n[L] = R, i.push(R) } else { var b = new or(t); n[L] = b, a[L] = 1, i.push(b) } } })), this.filterAndSortMediaOptions(i, e, s, o, l) }, r.filterAndSortMediaOptions = function (t, e, r, i, n) { var a = this, s = [], o = [], l = t; if ((r || i) && n && (l = l.filter((function (t) { var e, r = t.videoCodec, i = t.videoRange, n = t.width, a = t.height; return (!!r || !(!n || !a)) && !!(e = i) && er.indexOf(e) > -1 }))), 0 !== l.length) { if (e.audioTracks) { var u = this.hls.config.preferManagedMediaSource; so(s = e.audioTracks.filter((function (t) { return !t.audioCodec || le(t.audioCodec, "audio", u) }))) } e.subtitles && so(o = e.subtitles); var h = l.slice(0); l.sort((function (t, e) { if (t.attrs["HDCP-LEVEL"] !== e.attrs["HDCP-LEVEL"]) return (t.attrs["HDCP-LEVEL"] || "") > (e.attrs["HDCP-LEVEL"] || "") ? 1 : -1; if (r && t.height !== e.height) return t.height - e.height; if (t.frameRate !== e.frameRate) return t.frameRate - e.frameRate; if (t.videoRange !== e.videoRange) return er.indexOf(t.videoRange) - er.indexOf(e.videoRange); if (t.videoCodec !== e.videoCodec) { var i = de(t.videoCodec), n = de(e.videoCodec); if (i !== n) return n - i } if (t.uri === e.uri && t.codecSet !== e.codecSet) { var a = ce(t.codecSet), s = ce(e.codecSet); if (a !== s) return s - a } return t.averageBitrate !== e.averageBitrate ? t.averageBitrate - e.averageBitrate : 0 })); var d = h[0]; if (this.steering && (l = this.steering.filterParsedLevels(l)).length !== h.length) for (var c = 0; c < h.length; c++)if (h[c].pathwayId === l[0].pathwayId) { d = h[c]; break } this._levels = l; for (var f = 0; f < l.length; f++)if (l[f] === d) { var g; this._firstLevel = f; var v = d.bitrate, m = this.hls.bandwidthEstimate; if (this.log("manifest loaded, " + l.length + " level(s) found, first bitrate: " + v), void 0 === (null == (g = this.hls.userConfig) ? void 0 : g.abrEwmaDefaultEstimate)) { var p = Math.min(v, this.hls.config.abrEwmaDefaultEstimateMax); p > m && m === ro.abrEwmaDefaultEstimate && (this.hls.bandwidthEstimate = p) } break } var y = n && !i, E = { levels: l, audioTracks: s, subtitleTracks: o, sessionData: e.sessionData, sessionKeys: e.sessionKeys, firstLevel: this._firstLevel, stats: e.stats, audio: n, video: i, altAudio: !y && s.some((function (t) { return !!t.url })) }; this.hls.trigger(S.MANIFEST_PARSED, E), (this.hls.config.autoStartLoad || this.hls.forceStartLoad) && this.hls.startLoad(this.hls.config.startPosition) } else Promise.resolve().then((function () { if (a.hls) { e.levels.length && a.warn("One or more CODECS in variant not supported: " + JSON.stringify(e.levels[0].attrs)); var t = new Error("no level with compatible codecs found in manifest"); a.hls.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.MANIFEST_INCOMPATIBLE_CODECS_ERROR, fatal: !0, url: e.url, error: t, reason: t.message }) } })) }, r.onError = function (t, e) { !e.fatal && e.context && e.context.type === _e && e.context.level === this.level && this.checkRetry(e) }, r.onFragBuffered = function (t, e) { var r = e.frag; if (void 0 !== r && r.type === Fe) { var i = r.elementaryStreams; if (!Object.keys(i).some((function (t) { return !!i[t] }))) return; var n = this._levels[r.level]; null != n && n.loadError && (this.log("Resetting level error count of " + n.loadError + " on frag buffered"), n.loadError = 0) } }, r.onLevelLoaded = function (t, e) { var r, i, n = e.level, a = e.details, s = this._levels[n]; if (!s) return this.warn("Invalid level index " + n), void (null != (i = e.deliveryDirectives) && i.skip && (a.deltaUpdateFailed = !0)); n === this.currentLevelIndex ? (0 === s.fragmentError && (s.loadError = 0), this.playlistLoaded(n, e, s.details)) : null != (r = e.deliveryDirectives) && r.skip && (a.deltaUpdateFailed = !0) }, r.loadPlaylist = function (e) { t.prototype.loadPlaylist.call(this); var r = this.currentLevelIndex, i = this.currentLevel; if (i && this.shouldLoadPlaylist(i)) { var n = i.uri; if (e) try { n = e.addDirectives(n) } catch (t) { this.warn("Could not construct new URL with HLS Delivery Directives: " + t) } var a = i.attrs["PATHWAY-ID"]; this.log("Loading level index " + r + (void 0 !== (null == e ? void 0 : e.msn) ? " at sn " + e.msn + " part " + e.part : "") + " with" + (a ? " Pathway " + a : "") + " " + n), this.clearTimer(), this.hls.trigger(S.LEVEL_LOADING, { url: n, level: r, pathwayId: i.attrs["PATHWAY-ID"], id: 0, deliveryDirectives: e || null }) } }, r.removeLevel = function (t) { var e, r = this, i = this._levels.filter((function (e, i) { return i !== t || (r.steering && r.steering.removeLevel(e), e === r.currentLevel && (r.currentLevel = null, r.currentLevelIndex = -1, e.details && e.details.fragments.forEach((function (t) { return t.level = -1 }))), !1) })); mr(i), this._levels = i, this.currentLevelIndex > -1 && null != (e = this.currentLevel) && e.details && (this.currentLevelIndex = this.currentLevel.details.fragments[0].level), this.hls.trigger(S.LEVELS_UPDATED, { levels: i }) }, r.onLevelsUpdated = function (t, e) { var r = e.levels; this._levels = r }, r.checkMaxAutoUpdated = function () { var t = this.hls, e = t.autoLevelCapping, r = t.maxAutoLevel, i = t.maxHdcpLevel; this._maxAutoLevel !== r && (this._maxAutoLevel = r, this.hls.trigger(S.MAX_AUTO_LEVEL_UPDATED, { autoLevelCapping: e, levels: this.levels, maxAutoLevel: r, minAutoLevel: this.hls.minAutoLevel, maxHdcpLevel: i })) }, s(e, [{ key: "levels", get: function () { return 0 === this._levels.length ? null : this._levels } }, { key: "level", get: function () { return this.currentLevelIndex }, set: function (t) { var e = this._levels; if (0 !== e.length) { if (t < 0 || t >= e.length) { var r = new Error("invalid level idx"), i = t < 0; if (this.hls.trigger(S.ERROR, { type: L.OTHER_ERROR, details: A.LEVEL_SWITCH_ERROR, level: t, fatal: i, error: r, reason: r.message }), i) return; t = Math.min(t, e.length - 1) } var n = this.currentLevelIndex, a = this.currentLevel, s = a ? a.attrs["PATHWAY-ID"] : void 0, o = e[t], l = o.attrs["PATHWAY-ID"]; if (this.currentLevelIndex = t, this.currentLevel = o, n !== t || !o.details || !a || s !== l) { this.log("Switching to level " + t + " (" + (o.height ? o.height + "p " : "") + (o.videoRange ? o.videoRange + " " : "") + (o.codecSet ? o.codecSet + " " : "") + "@" + o.bitrate + ")" + (l ? " with Pathway " + l : "") + " from level " + n + (s ? " with Pathway " + s : "")); var u = { level: t, attrs: o.attrs, details: o.details, bitrate: o.bitrate, averageBitrate: o.averageBitrate, maxBitrate: o.maxBitrate, realBitrate: o.realBitrate, width: o.width, height: o.height, codecSet: o.codecSet, audioCodec: o.audioCodec, videoCodec: o.videoCodec, audioGroups: o.audioGroups, subtitleGroups: o.subtitleGroups, loaded: o.loaded, loadError: o.loadError, fragmentError: o.fragmentError, name: o.name, id: o.id, uri: o.uri, url: o.url, urlId: 0, audioGroupIds: o.audioGroupIds, textGroupIds: o.textGroupIds }; this.hls.trigger(S.LEVEL_SWITCHING, u); var h = o.details; if (!h || h.live) { var d = this.switchParams(o.uri, null == a ? void 0 : a.details, h); this.loadPlaylist(d) } } } } }, { key: "manualLevel", get: function () { return this.manualLevelIndex }, set: function (t) { this.manualLevelIndex = t, void 0 === this._startLevel && (this._startLevel = t), -1 !== t && (this.level = t) } }, { key: "firstLevel", get: function () { return this._firstLevel }, set: function (t) { this._firstLevel = t } }, { key: "startLevel", get: function () { if (void 0 === this._startLevel) { var t = this.hls.config.startLevel; return void 0 !== t ? t : this.hls.firstAutoLevel } return this._startLevel }, set: function (t) { this._startLevel = t } }, { key: "nextLoadLevel", get: function () { return -1 !== this.manualLevelIndex ? this.manualLevelIndex : this.hls.nextAutoLevel }, set: function (t) { this.level = t, -1 === this.manualLevelIndex && (this.hls.nextAutoLevel = t) } }]), e }(Fr); function so(t) { var e = {}; t.forEach((function (t) { var r = t.groupId || ""; t.id = e[r] = e[r] || 0, e[r]++ })) } var oo = function () { function t(t) { this.config = void 0, this.keyUriToKeyInfo = {}, this.emeController = null, this.config = t } var e = t.prototype; return e.abort = function (t) { for (var e in this.keyUriToKeyInfo) { var r = this.keyUriToKeyInfo[e].loader; if (r) { var i; if (t && t !== (null == (i = r.context) ? void 0 : i.frag.type)) return; r.abort() } } }, e.detach = function () { for (var t in this.keyUriToKeyInfo) { var e = this.keyUriToKeyInfo[t]; (e.mediaKeySessionContext || e.decryptdata.isCommonEncryption) && delete this.keyUriToKeyInfo[t] } }, e.destroy = function () { for (var t in this.detach(), this.keyUriToKeyInfo) { var e = this.keyUriToKeyInfo[t].loader; e && e.destroy() } this.keyUriToKeyInfo = {} }, e.createKeyLoadError = function (t, e, r, i, n) { return void 0 === e && (e = A.KEY_LOAD_ERROR), new fi({ type: L.NETWORK_ERROR, details: e, fatal: !1, frag: t, response: n, error: r, networkDetails: i }) }, e.loadClear = function (t, e) { var r = this; if (this.emeController && this.config.emeEnabled) for (var i = t.sn, n = t.cc, a = function () { var t = e[s]; if (n <= t.cc && ("initSegment" === i || "initSegment" === t.sn || i < t.sn)) return r.emeController.selectKeySystemFormat(t).then((function (e) { t.setKeyFormat(e) })), 1 }, s = 0; s < e.length && !a(); s++); }, e.load = function (t) { var e = this; return !t.decryptdata && t.encrypted && this.emeController ? this.emeController.selectKeySystemFormat(t).then((function (r) { return e.loadInternal(t, r) })) : this.loadInternal(t) }, e.loadInternal = function (t, e) { var r, i; e && t.setKeyFormat(e); var n = t.decryptdata; if (!n) { var a = new Error(e ? "Expected frag.decryptdata to be defined after setting format " + e : "Missing decryption data on fragment in onKeyLoading"); return Promise.reject(this.createKeyLoadError(t, A.KEY_LOAD_ERROR, a)) } var s = n.uri; if (!s) return Promise.reject(this.createKeyLoadError(t, A.KEY_LOAD_ERROR, new Error('Invalid key URI: "' + s + '"'))); var o, l = this.keyUriToKeyInfo[s]; if (null != (r = l) && r.decryptdata.key) return n.key = l.decryptdata.key, Promise.resolve({ frag: t, keyInfo: l }); if (null != (i = l) && i.keyLoadPromise) switch (null == (o = l.mediaKeySessionContext) ? void 0 : o.keyStatus) { case void 0: case "status-pending": case "usable": case "usable-in-future": return l.keyLoadPromise.then((function (e) { return n.key = e.keyInfo.decryptdata.key, { frag: t, keyInfo: l } })) }switch (l = this.keyUriToKeyInfo[s] = { decryptdata: n, keyLoadPromise: null, loader: null, mediaKeySessionContext: null }, n.method) { case "ISO-23001-7": case "SAMPLE-AES": case "SAMPLE-AES-CENC": case "SAMPLE-AES-CTR": return "identity" === n.keyFormat ? this.loadKeyHTTP(l, t) : this.loadKeyEME(l, t); case "AES-128": return this.loadKeyHTTP(l, t); default: return Promise.reject(this.createKeyLoadError(t, A.KEY_LOAD_ERROR, new Error('Key supplied with unsupported METHOD: "' + n.method + '"'))) } }, e.loadKeyEME = function (t, e) { var r = { frag: e, keyInfo: t }; if (this.emeController && this.config.emeEnabled) { var i = this.emeController.loadKey(r); if (i) return (t.keyLoadPromise = i.then((function (e) { return t.mediaKeySessionContext = e, r }))).catch((function (e) { throw t.keyLoadPromise = null, e })) } return Promise.resolve(r) }, e.loadKeyHTTP = function (t, e) { var r = this, n = this.config, a = new (0, n.loader)(n); return e.keyLoader = t.loader = a, t.keyLoadPromise = new Promise((function (s, o) { var l = { keyInfo: t, frag: e, responseType: "arraybuffer", url: t.decryptdata.uri }, u = n.keyLoadPolicy.default, h = { loadPolicy: u, timeout: u.maxLoadTimeMs, maxRetry: 0, retryDelay: 0, maxRetryDelay: 0 }, d = { onSuccess: function (t, e, i, n) { var a = i.frag, l = i.keyInfo, u = i.url; if (!a.decryptdata || l !== r.keyUriToKeyInfo[u]) return o(r.createKeyLoadError(a, A.KEY_LOAD_ERROR, new Error("after key load, decryptdata unset or changed"), n)); l.decryptdata.key = a.decryptdata.key = new Uint8Array(t.data), a.keyLoader = null, l.loader = null, s({ frag: a, keyInfo: l }) }, onError: function (t, n, a, s) { r.resetLoader(n), o(r.createKeyLoadError(e, A.KEY_LOAD_ERROR, new Error("HTTP Error " + t.code + " loading key " + t.text), a, i({ url: l.url, data: void 0 }, t))) }, onTimeout: function (t, i, n) { r.resetLoader(i), o(r.createKeyLoadError(e, A.KEY_LOAD_TIMEOUT, new Error("key loading timed out"), n)) }, onAbort: function (t, i, n) { r.resetLoader(i), o(r.createKeyLoadError(e, A.INTERNAL_ABORTED, new Error("key loading aborted"), n)) } }; a.load(l, h, d) })) }, e.resetLoader = function (t) { var e = t.frag, r = t.keyInfo, i = t.url, n = r.loader; e.keyLoader === n && (e.keyLoader = null, r.loader = null), delete this.keyUriToKeyInfo[i], n && n.destroy() }, t }(); function lo() { return self.SourceBuffer || self.WebKitSourceBuffer } function uo() { if (!se()) return !1; var t = lo(); return !t || t.prototype && "function" == typeof t.prototype.appendBuffer && "function" == typeof t.prototype.remove } var ho = function () { function t(t, e, r, i) { this.config = void 0, this.media = null, this.fragmentTracker = void 0, this.hls = void 0, this.nudgeRetry = 0, this.stallReported = !1, this.stalled = null, this.moved = !1, this.seeking = !1, this.config = t, this.media = e, this.fragmentTracker = r, this.hls = i } var e = t.prototype; return e.destroy = function () { this.media = null, this.hls = this.fragmentTracker = null }, e.poll = function (t, e) { var r = this.config, i = this.media, n = this.stalled; if (null !== i) { var a = i.currentTime, s = i.seeking, o = this.seeking && !s, l = !this.seeking && s; if (this.seeking = s, a === t) if (l || o) this.stalled = null; else if (i.paused && !s || i.ended || 0 === i.playbackRate || !ri.getBuffered(i).length) this.nudgeRetry = 0; else { var u = ri.bufferInfo(i, a, 0), h = u.nextStart || 0; if (s) { var d = u.len > 2, c = !h || e && e.start <= a || h - a > 2 && !this.fragmentTracker.getPartialFragment(a); if (d || c) return; this.moved = !1 } if (!this.moved && null !== this.stalled) { var f; if (!(u.len > 0 || h)) return; var g = Math.max(h, u.start || 0) - a, v = this.hls.levels ? this.hls.levels[this.hls.currentLevel] : null, m = (null == v || null == (f = v.details) ? void 0 : f.live) ? 2 * v.details.targetduration : 2, p = this.fragmentTracker.getPartialFragment(a); if (g > 0 && (g <= m || p)) return void (i.paused || this._trySkipBufferHole(p)) } var y = self.performance.now(); if (null !== n) { var E = y - n; if (s || !(E >= 250) || (this._reportStall(u), this.media)) { var T = ri.bufferInfo(i, a, r.maxBufferHole); this._tryFixBufferStall(T, E) } } else this.stalled = y } else if (this.moved = !0, s || (this.nudgeRetry = 0), null !== n) { if (this.stallReported) { var S = self.performance.now() - n; w.warn("playback not stuck anymore @" + a + ", after " + Math.round(S) + "ms"), this.stallReported = !1 } this.stalled = null } } }, e._tryFixBufferStall = function (t, e) { var r = this.config, i = this.fragmentTracker, n = this.media; if (null !== n) { var a = n.currentTime, s = i.getPartialFragment(a); if (s && (this._trySkipBufferHole(s) || !this.media)) return; (t.len > r.maxBufferHole || t.nextStart && t.nextStart - a < r.maxBufferHole) && e > 1e3 * r.highBufferWatchdogPeriod && (w.warn("Trying to nudge playhead over buffer-hole"), this.stalled = null, this._tryNudgeBuffer()) } }, e._reportStall = function (t) { var e = this.hls, r = this.media; if (!this.stallReported && r) { this.stallReported = !0; var i = new Error("Playback stalling at @" + r.currentTime + " due to low buffer (" + JSON.stringify(t) + ")"); w.warn(i.message), e.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.BUFFER_STALLED_ERROR, fatal: !1, error: i, buffer: t.len }) } }, e._trySkipBufferHole = function (t) { var e = this.config, r = this.hls, i = this.media; if (null === i) return 0; var n = i.currentTime, a = ri.bufferInfo(i, n, 0), s = n < a.start ? a.start : a.nextStart; if (s) { var o = a.len <= e.maxBufferHole, l = a.len > 0 && a.len < 1 && i.readyState < 3, u = s - n; if (u > 0 && (o || l)) { if (u > e.maxBufferHole) { var h = this.fragmentTracker, d = !1; if (0 === n) { var c = h.getAppendedFrag(0, Fe); c && s < c.end && (d = !0) } if (!d) { var f = t || h.getAppendedFrag(n, Fe); if (f) { for (var g = !1, v = f.end; v < s;) { var m = h.getPartialFragment(v); if (!m) { g = !0; break } v += m.duration } if (g) return 0 } } } var p = Math.max(s + .05, n + .1); if (w.warn("skipping hole, adjusting currentTime from " + n + " to " + p), this.moved = !0, this.stalled = null, i.currentTime = p, t && !t.gap) { var y = new Error("fragment loaded with buffer holes, seeking from " + n + " to " + p); r.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.BUFFER_SEEK_OVER_HOLE, fatal: !1, error: y, reason: y.message, frag: t }) } return p } } return 0 }, e._tryNudgeBuffer = function () { var t = this.config, e = this.hls, r = this.media, i = this.nudgeRetry; if (null !== r) { var n = r.currentTime; if (this.nudgeRetry++, i < t.nudgeMaxRetry) { var a = n + (i + 1) * t.nudgeOffset, s = new Error("Nudging 'currentTime' from " + n + " to " + a); w.warn(s.message), r.currentTime = a, e.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.BUFFER_NUDGE_ON_STALL, error: s, fatal: !1 }) } else { var o = new Error("Playhead still not moving while enough data buffered @" + n + " after " + t.nudgeMaxRetry + " nudges"); w.error(o.message), e.trigger(S.ERROR, { type: L.MEDIA_ERROR, details: A.BUFFER_STALLED_ERROR, error: o, fatal: !0 }) } } }, t }(), co = function (t) { function e(e, r, i) { var n; return (n = t.call(this, e, r, i, "[stream-controller]", Fe) || this).audioCodecSwap = !1, n.gapController = null, n.level = -1, n._forceStartLoad = !1, n.altAudio = !1, n.audioOnly = !1, n.fragPlaying = null, n.onvplaying = null, n.onvseeked = null, n.fragLastKbps = 0, n.couldBacktrack = !1, n.backtrackFragment = null, n.audioCodecSwitch = !1, n.videoBuffer = null, n._registerListeners(), n } l(e, t); var r = e.prototype; return r._registerListeners = function () { var t = this.hls; t.on(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.on(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.on(S.MANIFEST_LOADING, this.onManifestLoading, this), t.on(S.MANIFEST_PARSED, this.onManifestParsed, this), t.on(S.LEVEL_LOADING, this.onLevelLoading, this), t.on(S.LEVEL_LOADED, this.onLevelLoaded, this), t.on(S.FRAG_LOAD_EMERGENCY_ABORTED, this.onFragLoadEmergencyAborted, this), t.on(S.ERROR, this.onError, this), t.on(S.AUDIO_TRACK_SWITCHING, this.onAudioTrackSwitching, this), t.on(S.AUDIO_TRACK_SWITCHED, this.onAudioTrackSwitched, this), t.on(S.BUFFER_CREATED, this.onBufferCreated, this), t.on(S.BUFFER_FLUSHED, this.onBufferFlushed, this), t.on(S.LEVELS_UPDATED, this.onLevelsUpdated, this), t.on(S.FRAG_BUFFERED, this.onFragBuffered, this) }, r._unregisterListeners = function () { var t = this.hls; t.off(S.MEDIA_ATTACHED, this.onMediaAttached, this), t.off(S.MEDIA_DETACHING, this.onMediaDetaching, this), t.off(S.MANIFEST_LOADING, this.onManifestLoading, this), t.off(S.MANIFEST_PARSED, this.onManifestParsed, this), t.off(S.LEVEL_LOADED, this.onLevelLoaded, this), t.off(S.FRAG_LOAD_EMERGENCY_ABORTED, this.onFragLoadEmergencyAborted, this), t.off(S.ERROR, this.onError, this), t.off(S.AUDIO_TRACK_SWITCHING, this.onAudioTrackSwitching, this), t.off(S.AUDIO_TRACK_SWITCHED, this.onAudioTrackSwitched, this), t.off(S.BUFFER_CREATED, this.onBufferCreated, this), t.off(S.BUFFER_FLUSHED, this.onBufferFlushed, this), t.off(S.LEVELS_UPDATED, this.onLevelsUpdated, this), t.off(S.FRAG_BUFFERED, this.onFragBuffered, this) }, r.onHandlerDestroying = function () { this._unregisterListeners(), t.prototype.onHandlerDestroying.call(this) }, r.startLoad = function (t) { if (this.levels) { var e = this.lastCurrentTime, r = this.hls; if (this.stopLoad(), this.setInterval(100), this.level = -1, !this.startFragRequested) { var i = r.startLevel; -1 === i && (r.config.testBandwidth && this.levels.length > 1 ? (i = 0, this.bitrateTest = !0) : i = r.firstAutoLevel), r.nextLoadLevel = i, this.level = r.loadLevel, this.loadedmetadata = !1 } e > 0 && -1 === t && (this.log("Override startPosition with lastCurrentTime @" + e.toFixed(3)), t = e), this.state = Ti, this.nextLoadPosition = this.startPosition = this.lastCurrentTime = t, this.tick() } else this._forceStartLoad = !0, this.state = Ei }, r.stopLoad = function () { this._forceStartLoad = !1, t.prototype.stopLoad.call(this) }, r.doTick = function () { switch (this.state) { case Ci: var t = this.levels, e = this.level, r = null == t ? void 0 : t[e], i = null == r ? void 0 : r.details; if (i && (!i.live || this.levelLastLoaded === r)) { if (this.waitForCdnTuneIn(i)) break; this.state = Ti; break } if (this.hls.nextLoadLevel !== this.level) { this.state = Ti; break } break; case Ai: var n, a = self.performance.now(), s = this.retryDate; if (!s || a >= s || null != (n = this.media) && n.seeking) { var o = this.levels, l = this.level, u = null == o ? void 0 : o[l]; this.resetStartWhenNotLoaded(u || null), this.state = Ti } }this.state === Ti && this.doTickIdle(), this.onTickEnd() }, r.onTickEnd = function () { t.prototype.onTickEnd.call(this), this.checkBuffer(), this.checkFragmentChanged() }, r.doTickIdle = function () { var t = this.hls, e = this.levelLastLoaded, r = this.levels, i = this.media; if (null !== e && (i || !this.startFragRequested && t.config.startFragPrefetch) && (!this.altAudio || !this.audioOnly)) { var n = t.nextLoadLevel; if (null != r && r[n]) { var a = r[n], s = this.getMainFwdBufferInfo(); if (null !== s) { var o = this.getLevelDetails(); if (o && this._streamEnded(s, o)) { var l = {}; return this.altAudio && (l.type = "video"), this.hls.trigger(S.BUFFER_EOS, l), void (this.state = Di) } t.loadLevel !== n && -1 === t.manualLevel && this.log("Adapting to level " + n + " from level " + this.level), this.level = t.nextLoadLevel = n; var u = a.details; if (!u || this.state === Ci || u.live && this.levelLastLoaded !== a) return this.level = n, void (this.state = Ci); var h = s.len, d = this.getMaxBufferLength(a.maxBitrate); if (!(h >= d)) { this.backtrackFragment && this.backtrackFragment.start > s.end && (this.backtrackFragment = null); var c = this.backtrackFragment ? this.backtrackFragment.start : s.end, f = this.getNextFragment(c, u); if (this.couldBacktrack && !this.fragPrevious && f && "initSegment" !== f.sn && this.fragmentTracker.getState(f) !== Jr) { var g, v = (null != (g = this.backtrackFragment) ? g : f).sn - u.startSN, m = u.fragments[v - 1]; m && f.cc === m.cc && (f = m, this.fragmentTracker.removeFragment(m)) } else this.backtrackFragment && s.len && (this.backtrackFragment = null); if (f && this.isLoopLoading(f, c)) { if (!f.gap) { var p = this.audioOnly && !this.altAudio ? O : N, y = (p === N ? this.videoBuffer : this.mediaBuffer) || this.media; y && this.afterBufferFlushed(y, p, Fe) } f = this.getNextFragmentLoopLoading(f, u, s, Fe, d) } f && (!f.initSegment || f.initSegment.data || this.bitrateTest || (f = f.initSegment), this.loadFragment(f, a, c)) } } } } }, r.loadFragment = function (e, r, i) { var n = this.fragmentTracker.getState(e); this.fragCurrent = e, n === Xr || n === Qr ? "initSegment" === e.sn ? this._loadInitSegment(e, r) : this.bitrateTest ? (this.log("Fragment " + e.sn + " of level " + e.level + " is being downloaded to test bitrate and will not be buffered"), this._loadBitrateTestFrag(e, r)) : (this.startFragRequested = !0, t.prototype.loadFragment.call(this, e, r, i)) : this.clearTrackerIfNeeded(e) }, r.getBufferedFrag = function (t) { return this.fragmentTracker.getBufferedFrag(t, Fe) }, r.followingBufferedFrag = function (t) { return t ? this.getBufferedFrag(t.end + .5) : null }, r.immediateLevelSwitch = function () { this.abortCurrentFrag(), this.flushMainBuffer(0, Number.POSITIVE_INFINITY) }, r.nextLevelSwitch = function () { var t = this.levels, e = this.media; if (null != e && e.readyState) { var r, i = this.getAppendedFrag(e.currentTime); i && i.start > 1 && this.flushMainBuffer(0, i.start - 1); var n = this.getLevelDetails(); if (null != n && n.live) { var a = this.getMainFwdBufferInfo(); if (!a || a.len < 2 * n.targetduration) return } if (!e.paused && t) { var s = t[this.hls.nextLoadLevel], o = this.fragLastKbps; r = o && this.fragCurrent ? this.fragCurrent.duration * s.maxBitrate / (1e3 * o) + 1 : 0 } else r = 0; var l = this.getBufferedFrag(e.currentTime + r); if (l) { var u = this.followingBufferedFrag(l); if (u) { this.abortCurrentFrag(); var h = u.maxStartPTS ? u.maxStartPTS : u.start, d = u.duration, c = Math.max(l.end, h + Math.min(Math.max(d - this.config.maxFragLookUpTolerance, d * (this.couldBacktrack ? .5 : .125)), d * (this.couldBacktrack ? .75 : .25))); this.flushMainBuffer(c, Number.POSITIVE_INFINITY) } } } }, r.abortCurrentFrag = function () { var t = this.fragCurrent; switch (this.fragCurrent = null, this.backtrackFragment = null, t && (t.abortRequests(), this.fragmentTracker.removeFragment(t)), this.state) { case Si: case Li: case Ai: case bi: case ki: this.state = Ti }this.nextLoadPosition = this.getLoadPosition() }, r.flushMainBuffer = function (e, r) { t.prototype.flushMainBuffer.call(this, e, r, this.altAudio ? "video" : null) }, r.onMediaAttached = function (e, r) { t.prototype.onMediaAttached.call(this, e, r); var i = r.media; this.onvplaying = this.onMediaPlaying.bind(this), this.onvseeked = this.onMediaSeeked.bind(this), i.addEventListener("playing", this.onvplaying), i.addEventListener("seeked", this.onvseeked), this.gapController = new ho(this.config, i, this.fragmentTracker, this.hls) }, r.onMediaDetaching = function () { var e = this.media; e && this.onvplaying && this.onvseeked && (e.removeEventListener("playing", this.onvplaying), e.removeEventListener("seeked", this.onvseeked), this.onvplaying = this.onvseeked = null, this.videoBuffer = null), this.fragPlaying = null, this.gapController && (this.gapController.destroy(), this.gapController = null), t.prototype.onMediaDetaching.call(this) }, r.onMediaPlaying = function () { this.tick() }, r.onMediaSeeked = function () { var t = this.media, e = t ? t.currentTime : null; y(e) && this.log("Media seeked to " + e.toFixed(3)); var r = this.getMainFwdBufferInfo(); null !== r && 0 !== r.len ? this.tick() : this.warn('Main forward buffer length on "seeked" event ' + (r ? r.len : "empty") + ")") }, r.onManifestLoading = function () { this.log("Trigger BUFFER_RESET"), this.hls.trigger(S.BUFFER_RESET, void 0), this.fragmentTracker.removeAllFragments(), this.couldBacktrack = !1, this.startPosition = this.lastCurrentTime = this.fragLastKbps = 0, this.levels = this.fragPlaying = this.backtrackFragment = this.levelLastLoaded = null, this.altAudio = this.audioOnly = this.startFragRequested = !1 }, r.onManifestParsed = function (t, e) { var r, i, n = !1, a = !1; e.levels.forEach((function (t) { var e = t.audioCodec; e && (n = n || -1 !== e.indexOf("mp4a.40.2"), a = a || -1 !== e.indexOf("mp4a.40.5")) })), this.audioCodecSwitch = n && a && !("function" == typeof (null == (i = lo()) || null == (r = i.prototype) ? void 0 : r.changeType)), this.audioCodecSwitch && this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"), this.levels = e.levels, this.startFragRequested = !1 }, r.onLevelLoading = function (t, e) { var r = this.levels; if (r && this.state === Ti) { var i = r[e.level]; (!i.details || i.details.live && this.levelLastLoaded !== i || this.waitForCdnTuneIn(i.details)) && (this.state = Ci) } }, r.onLevelLoaded = function (t, e) { var r, i = this.levels, n = e.level, a = e.details, s = a.totalduration; if (i) { this.log("Level " + n + " loaded [" + a.startSN + "," + a.endSN + "]" + (a.lastPartSn ? "[part-" + a.lastPartSn + "-" + a.lastPartIndex + "]" : "") + ", cc [" + a.startCC + ", " + a.endCC + "] duration:" + s); var o = i[n], l = this.fragCurrent; !l || this.state !== Li && this.state !== Ai || l.level !== e.level && l.loader && this.abortCurrentFrag(); var u = 0; if (a.live || null != (r = o.details) && r.live) { var h; if (this.checkLiveUpdate(a), a.deltaUpdateFailed) return; u = this.alignPlaylists(a, o.details, null == (h = this.levelLastLoaded) ? void 0 : h.details) } if (o.details = a, this.levelLastLoaded = o, this.hls.trigger(S.LEVEL_UPDATED, { details: a, level: n }), this.state === Ci) { if (this.waitForCdnTuneIn(a)) return; this.state = Ti } this.startFragRequested ? a.live && this.synchronizeToLiveEdge(a) : this.setStartPosition(a, u), this.tick() } else this.warn("Levels were reset while loading level " + n) }, r._handleFragmentLoadProgress = function (t) { var e, r = t.frag, i = t.part, n = t.payload, a = this.levels; if (a) { var s = a[r.level], o = s.details; if (!o) return this.warn("Dropping fragment " + r.sn + " of level " + r.level + " after level details were reset"), void this.fragmentTracker.removeFragment(r); var l = s.videoCodec, u = o.PTSKnown || !o.live, h = null == (e = r.initSegment) ? void 0 : e.data, d = this._getAudioCodec(s), c = this.transmuxer = this.transmuxer || new qn(this.hls, Fe, this._handleTransmuxComplete.bind(this), this._handleTransmuxerFlush.bind(this)), f = i ? i.index : -1, g = -1 !== f, v = new ii(r.level, r.sn, r.stats.chunkCount, n.byteLength, f, g), m = this.initPTS[r.cc]; c.push(n, h, d, l, r, i, o.totalduration, u, v, m) } else this.warn("Levels were reset while fragment load was in progress. Fragment " + r.sn + " of level " + r.level + " will not be buffered") }, r.onAudioTrackSwitching = function (t, e) { var r = this.altAudio; if (!e.url) { if (this.mediaBuffer !== this.media) { this.log("Switching on main audio, use media.buffered to schedule main fragment loading"), this.mediaBuffer = this.media; var i = this.fragCurrent; i && (this.log("Switching to main audio track, cancel main fragment load"), i.abortRequests(), this.fragmentTracker.removeFragment(i)), this.resetTransmuxer(), this.resetLoadingState() } else this.audioOnly && this.resetTransmuxer(); var n = this.hls; r && (n.trigger(S.BUFFER_FLUSHING, { startOffset: 0, endOffset: Number.POSITIVE_INFINITY, type: null }), this.fragmentTracker.removeAllFragments()), n.trigger(S.AUDIO_TRACK_SWITCHED, e) } }, r.onAudioTrackSwitched = function (t, e) { var r = e.id, i = !!this.hls.audioTracks[r].url; if (i) { var n = this.videoBuffer; n && this.mediaBuffer !== n && (this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"), this.mediaBuffer = n) } this.altAudio = i, this.tick() }, r.onBufferCreated = function (t, e) { var r, i, n = e.tracks, a = !1; for (var s in n) { var o = n[s]; if ("main" === o.id) { if (i = s, r = o, "video" === s) { var l = n[s]; l && (this.videoBuffer = l.buffer) } } else a = !0 } a && r ? (this.log("Alternate track found, use " + i + ".buffered to schedule main fragment loading"), this.mediaBuffer = r.buffer) : this.mediaBuffer = this.media }, r.onFragBuffered = function (t, e) { var r = e.frag, i = e.part; if (!r || r.type === Fe) { if (this.fragContextChanged(r)) return this.warn("Fragment " + r.sn + (i ? " p: " + i.index : "") + " of level " + r.level + " finished buffering, but was aborted. state: " + this.state), void (this.state === ki && (this.state = Ti)); var n = i ? i.stats : r.stats; this.fragLastKbps = Math.round(8 * n.total / (n.buffering.end - n.loading.first)), "initSegment" !== r.sn && (this.fragPrevious = r), this.fragBufferedComplete(r, i) } }, r.onError = function (t, e) { var r; if (e.fatal) this.state = Ii; else switch (e.details) { case A.FRAG_GAP: case A.FRAG_PARSING_ERROR: case A.FRAG_DECRYPT_ERROR: case A.FRAG_LOAD_ERROR: case A.FRAG_LOAD_TIMEOUT: case A.KEY_LOAD_ERROR: case A.KEY_LOAD_TIMEOUT: this.onFragmentOrKeyLoadError(Fe, e); break; case A.LEVEL_LOAD_ERROR: case A.LEVEL_LOAD_TIMEOUT: case A.LEVEL_PARSING_ERROR: e.levelRetry || this.state !== Ci || (null == (r = e.context) ? void 0 : r.type) !== _e || (this.state = Ti); break; case A.BUFFER_APPEND_ERROR: case A.BUFFER_FULL_ERROR: if (!e.parent || "main" !== e.parent) return; if (e.details === A.BUFFER_APPEND_ERROR) return void this.resetLoadingState(); this.reduceLengthAndFlushBuffer(e) && this.flushMainBuffer(0, Number.POSITIVE_INFINITY); break; case A.INTERNAL_EXCEPTION: this.recoverWorkerError(e) } }, r.checkBuffer = function () { var t = this.media, e = this.gapController; if (t && e && t.readyState) { if (this.loadedmetadata || !ri.getBuffered(t).length) { var r = this.state !== Ti ? this.fragCurrent : null; e.poll(this.lastCurrentTime, r) } this.lastCurrentTime = t.currentTime } }, r.onFragLoadEmergencyAborted = function () { this.state = Ti, this.loadedmetadata || (this.startFragRequested = !1, this.nextLoadPosition = this.startPosition), this.tickImmediate() }, r.onBufferFlushed = function (t, e) { var r = e.type; if (r !== O || this.audioOnly && !this.altAudio) { var i = (r === N ? this.videoBuffer : this.mediaBuffer) || this.media; this.afterBufferFlushed(i, r, Fe), this.tick() } }, r.onLevelsUpdated = function (t, e) { this.level > -1 && this.fragCurrent && (this.level = this.fragCurrent.level), this.levels = e.levels }, r.swapAudioCodec = function () { this.audioCodecSwap = !this.audioCodecSwap }, r.seekToStartPos = function () { var t = this.media; if (t) { var e = t.currentTime, r = this.startPosition; if (r >= 0 && e < r) { if (t.seeking) return void this.log("could not seek to " + r + ", already seeking at " + e); var i = ri.getBuffered(t), n = (i.length ? i.start(0) : 0) - r; n > 0 && (n < this.config.maxBufferHole || n < this.config.maxFragLookUpTolerance) && (this.log("adjusting start position by " + n + " to match buffer start"), r += n, this.startPosition = r), this.log("seek to target start position " + r + " from current time " + e), t.currentTime = r } } }, r._getAudioCodec = function (t) { var e = this.config.defaultAudioCodec || t.audioCodec; return this.audioCodecSwap && e && (this.log("Swapping audio codec"), e = -1 !== e.indexOf("mp4a.40.5") ? "mp4a.40.2" : "mp4a.40.5"), e }, r._loadBitrateTestFrag = function (t, e) { var r = this; t.bitrateTest = !0, this._doFragLoad(t, e).then((function (i) { var n = r.hls; if (i && !r.fragContextChanged(t)) { e.fragmentError = 0, r.state = Ti, r.startFragRequested = !1, r.bitrateTest = !1; var a = t.stats; a.parsing.start = a.parsing.end = a.buffering.start = a.buffering.end = self.performance.now(), n.trigger(S.FRAG_LOADED, i), t.bitrateTest = !1 } })) }, r._handleTransmuxComplete = function (t) { var e, r = "main", i = this.hls, n = t.remuxResult, a = t.chunkMeta, s = this.getCurrentContext(a); if (s) { var o = s.frag, l = s.part, u = s.level, h = n.video, d = n.text, c = n.id3, f = n.initSegment, g = u.details, v = this.altAudio ? void 0 : n.audio; if (this.fragContextChanged(o)) this.fragmentTracker.removeFragment(o); else { if (this.state = bi, f) { if (null != f && f.tracks) { var m = o.initSegment || o; this._bufferInitSegment(u, f.tracks, m, a), i.trigger(S.FRAG_PARSING_INIT_SEGMENT, { frag: m, id: r, tracks: f.tracks }) } var p = f.initPTS, E = f.timescale; y(p) && (this.initPTS[o.cc] = { baseTime: p, timescale: E }, i.trigger(S.INIT_PTS_FOUND, { frag: o, id: r, initPTS: p, timescale: E })) } if (h && g && "initSegment" !== o.sn) { var T = g.fragments[o.sn - 1 - g.startSN], L = o.sn === g.startSN, A = !T || o.cc > T.cc; if (!1 !== n.independent) { var R = h.startPTS, b = h.endPTS, k = h.startDTS, D = h.endDTS; if (l) l.elementaryStreams[h.type] = { startPTS: R, endPTS: b, startDTS: k, endDTS: D }; else if (h.firstKeyFrame && h.independent && 1 === a.id && !A && (this.couldBacktrack = !0), h.dropped && h.independent) { var I = this.getMainFwdBufferInfo(), w = (I ? I.end : this.getLoadPosition()) + this.config.maxBufferHole, C = h.firstKeyFramePTS ? h.firstKeyFramePTS : R; if (!L && w < C - this.config.maxBufferHole && !A) return void this.backtrack(o); A && (o.gap = !0), o.setElementaryStreamInfo(h.type, o.start, b, o.start, D, !0) } else L && R > 2 && (o.gap = !0); o.setElementaryStreamInfo(h.type, R, b, k, D), this.backtrackFragment && (this.backtrackFragment = o), this.bufferFragmentData(h, o, l, a, L || A) } else { if (!L && !A) return void this.backtrack(o); o.gap = !0 } } if (v) { var _ = v.startPTS, x = v.endPTS, P = v.startDTS, F = v.endDTS; l && (l.elementaryStreams[O] = { startPTS: _, endPTS: x, startDTS: P, endDTS: F }), o.setElementaryStreamInfo(O, _, x, P, F), this.bufferFragmentData(v, o, l, a) } if (g && null != c && null != (e = c.samples) && e.length) { var M = { id: r, frag: o, details: g, samples: c.samples }; i.trigger(S.FRAG_PARSING_METADATA, M) } if (g && d) { var N = { id: r, frag: o, details: g, samples: d.samples }; i.trigger(S.FRAG_PARSING_USERDATA, N) } } } else this.resetWhenMissingContext(a) }, r._bufferInitSegment = function (t, e, r, i) { var n = this; if (this.state === bi) { this.audioOnly = !!e.audio && !e.video, this.altAudio && !this.audioOnly && delete e.audio; var a = e.audio, s = e.video, o = e.audiovideo; if (a) { var l = t.audioCodec, u = navigator.userAgent.toLowerCase(); if (this.audioCodecSwitch) { l && (l = -1 !== l.indexOf("mp4a.40.5") ? "mp4a.40.2" : "mp4a.40.5"); var h = a.metadata; h && "channelCount" in h && 1 !== (h.channelCount || 1) && -1 === u.indexOf("firefox") && (l = "mp4a.40.5") } l && -1 !== l.indexOf("mp4a.40.5") && -1 !== u.indexOf("android") && "audio/mpeg" !== a.container && (l = "mp4a.40.2", this.log("Android: force audio codec to " + l)), t.audioCodec && t.audioCodec !== l && this.log('Swapping manifest audio codec "' + t.audioCodec + '" for "' + l + '"'), a.levelCodec = l, a.id = "main", this.log("Init audio buffer, container:" + a.container + ", codecs[selected/level/parsed]=[" + (l || "") + "/" + (t.audioCodec || "") + "/" + a.codec + "]") } s && (s.levelCodec = t.videoCodec, s.id = "main", this.log("Init video buffer, container:" + s.container + ", codecs[level/parsed]=[" + (t.videoCodec || "") + "/" + s.codec + "]")), o && this.log("Init audiovideo buffer, container:" + o.container + ", codecs[level/parsed]=[" + t.codecs + "/" + o.codec + "]"), this.hls.trigger(S.BUFFER_CODECS, e), Object.keys(e).forEach((function (t) { var a = e[t].initSegment; null != a && a.byteLength && n.hls.trigger(S.BUFFER_APPENDING, { type: t, data: a, frag: r, part: null, chunkMeta: i, parent: r.type }) })), this.tickImmediate() } }, r.getMainFwdBufferInfo = function () { return this.getFwdBufferInfo(this.mediaBuffer ? this.mediaBuffer : this.media, Fe) }, r.backtrack = function (t) { this.couldBacktrack = !0, this.backtrackFragment = t, this.resetTransmuxer(), this.flushBufferGap(t), this.fragmentTracker.removeFragment(t), this.fragPrevious = null, this.nextLoadPosition = t.start, this.state = Ti }, r.checkFragmentChanged = function () { var t = this.media, e = null; if (t && t.readyState > 1 && !1 === t.seeking) { var r = t.currentTime; if (ri.isBuffered(t, r) ? e = this.getAppendedFrag(r) : ri.isBuffered(t, r + .1) && (e = this.getAppendedFrag(r + .1)), e) { this.backtrackFragment = null; var i = this.fragPlaying, n = e.level; i && e.sn === i.sn && i.level === n || (this.fragPlaying = e, this.hls.trigger(S.FRAG_CHANGED, { frag: e }), i && i.level === n || this.hls.trigger(S.LEVEL_SWITCHED, { level: n })) } } }, s(e, [{ key: "nextLevel", get: function () { var t = this.nextBufferedFrag; return t ? t.level : -1 } }, { key: "currentFrag", get: function () { var t = this.media; return t ? this.fragPlaying || this.getAppendedFrag(t.currentTime) : null } }, { key: "currentProgramDateTime", get: function () { var t = this.media; if (t) { var e = t.currentTime, r = this.currentFrag; if (r && y(e) && y(r.programDateTime)) { var i = r.programDateTime + 1e3 * (e - r.start); return new Date(i) } } return null } }, { key: "currentLevel", get: function () { var t = this.currentFrag; return t ? t.level : -1 } }, { key: "nextBufferedFrag", get: function () { var t = this.currentFrag; return t ? this.followingBufferedFrag(t) : null } }, { key: "forceStartLoad", get: function () { return this._forceStartLoad } }]), e }(_i), fo = function () { function t(e) { void 0 === e && (e = {}), this.config = void 0, this.userConfig = void 0, this.coreComponents = void 0, this.networkControllers = void 0, this.started = !1, this._emitter = new Vn, this._autoLevelCapping = -1, this._maxHdcpLevel = null, this.abrController = void 0, this.bufferController = void 0, this.capLevelController = void 0, this.latencyController = void 0, this.levelController = void 0, this.streamController = void 0, this.audioTrackController = void 0, this.subtitleTrackController = void 0, this.emeController = void 0, this.cmcdController = void 0, this._media = null, this.url = null, this.triggeringException = void 0, I(e.debug || !1, "Hls instance"); var r = this.config = function (t, e) { if ((e.liveSyncDurationCount || e.liveMaxLatencyDurationCount) && (e.liveSyncDuration || e.liveMaxLatencyDuration)) throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration"); if (void 0 !== e.liveMaxLatencyDurationCount && (void 0 === e.liveSyncDurationCount || e.liveMaxLatencyDurationCount <= e.liveSyncDurationCount)) throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"'); if (void 0 !== e.liveMaxLatencyDuration && (void 0 === e.liveSyncDuration || e.liveMaxLatencyDuration <= e.liveSyncDuration)) throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"'); var r = io(t), n = ["TimeOut", "MaxRetry", "RetryDelay", "MaxRetryTimeout"]; return ["manifest", "level", "frag"].forEach((function (t) { var i = ("level" === t ? "playlist" : t) + "LoadPolicy", a = void 0 === e[i], s = []; n.forEach((function (n) { var o = t + "Loading" + n, l = e[o]; if (void 0 !== l && a) { s.push(o); var u = r[i].default; switch (e[i] = { default: u }, n) { case "TimeOut": u.maxLoadTimeMs = l, u.maxTimeToFirstByteMs = l; break; case "MaxRetry": u.errorRetry.maxNumRetry = l, u.timeoutRetry.maxNumRetry = l; break; case "RetryDelay": u.errorRetry.retryDelayMs = l, u.timeoutRetry.retryDelayMs = l; break; case "MaxRetryTimeout": u.errorRetry.maxRetryDelayMs = l, u.timeoutRetry.maxRetryDelayMs = l } } })), s.length && w.warn('hls.js config: "' + s.join('", "') + '" setting(s) are deprecated, use "' + i + '": ' + JSON.stringify(e[i])) })), i(i({}, r), e) }(t.DefaultConfig, e); this.userConfig = e, r.progressive && no(r); var n = r.abrController, a = r.bufferController, s = r.capLevelController, o = r.errorController, l = r.fpsController, u = new o(this), h = this.abrController = new n(this), d = this.bufferController = new a(this), c = this.capLevelController = new s(this), f = new l(this), g = new Be(this), v = new $e(this), m = r.contentSteeringController, p = m ? new m(this) : null, y = this.levelController = new ao(this, p), E = new $r(this), T = new oo(this.config), L = this.streamController = new co(this, E, T); c.setStreamController(L), f.setStreamController(L); var A = [g, y, L]; p && A.splice(1, 0, p), this.networkControllers = A; var R = [h, d, c, f, v, E]; this.audioTrackController = this.createController(r.audioTrackController, A); var b = r.audioStreamController; b && A.push(new b(this, E, T)), this.subtitleTrackController = this.createController(r.subtitleTrackController, A); var k = r.subtitleStreamController; k && A.push(new k(this, E, T)), this.createController(r.timelineController, R), T.emeController = this.emeController = this.createController(r.emeController, R), this.cmcdController = this.createController(r.cmcdController, R), this.latencyController = this.createController(Ze, R), this.coreComponents = R, A.push(u); var D = u.onErrorOut; "function" == typeof D && this.on(S.ERROR, D, u) } t.isMSESupported = function () { return uo() }, t.isSupported = function () { return function () { if (!uo()) return !1; var t = se(); return "function" == typeof (null == t ? void 0 : t.isTypeSupported) && (["avc1.42E01E,mp4a.40.2", "av01.0.01M.08", "vp09.00.50.08"].some((function (e) { return t.isTypeSupported(he(e, "video")) })) || ["mp4a.40.2", "fLaC"].some((function (e) { return t.isTypeSupported(he(e, "audio")) }))) }() }, t.getMediaSource = function () { return se() }; var e = t.prototype; return e.createController = function (t, e) { if (t) { var r = new t(this); return e && e.push(r), r } return null }, e.on = function (t, e, r) { void 0 === r && (r = this), this._emitter.on(t, e, r) }, e.once = function (t, e, r) { void 0 === r && (r = this), this._emitter.once(t, e, r) }, e.removeAllListeners = function (t) { this._emitter.removeAllListeners(t) }, e.off = function (t, e, r, i) { void 0 === r && (r = this), this._emitter.off(t, e, r, i) }, e.listeners = function (t) { return this._emitter.listeners(t) }, e.emit = function (t, e, r) { return this._emitter.emit(t, e, r) }, e.trigger = function (t, e) { if (this.config.debug) return this.emit(t, t, e); try { return this.emit(t, t, e) } catch (e) { if (w.error("An internal error happened while handling event " + t + '. Error message: "' + e.message + '". Here is a stacktrace:', e), !this.triggeringException) { this.triggeringException = !0; var r = t === S.ERROR; this.trigger(S.ERROR, { type: L.OTHER_ERROR, details: A.INTERNAL_EXCEPTION, fatal: r, event: t, error: e }), this.triggeringException = !1 } } return !1 }, e.listenerCount = function (t) { return this._emitter.listenerCount(t) }, e.destroy = function () { w.log("destroy"), this.trigger(S.DESTROYING, void 0), this.detachMedia(), this.removeAllListeners(), this._autoLevelCapping = -1, this.url = null, this.networkControllers.forEach((function (t) { return t.destroy() })), this.networkControllers.length = 0, this.coreComponents.forEach((function (t) { return t.destroy() })), this.coreComponents.length = 0; var t = this.config; t.xhrSetup = t.fetchSetup = void 0, this.userConfig = null }, e.attachMedia = function (t) { w.log("attachMedia"), this._media = t, this.trigger(S.MEDIA_ATTACHING, { media: t }) }, e.detachMedia = function () { w.log("detachMedia"), this.trigger(S.MEDIA_DETACHING, void 0), this._media = null }, e.loadSource = function (t) { this.stopLoad(); var e = this.media, r = this.url, i = this.url = p.buildAbsoluteURL(self.location.href, t, { alwaysNormalize: !0 }); this._autoLevelCapping = -1, this._maxHdcpLevel = null, w.log("loadSource:" + i), e && r && (r !== i || this.bufferController.hasSourceTypes()) && (this.detachMedia(), this.attachMedia(e)), this.trigger(S.MANIFEST_LOADING, { url: t }) }, e.startLoad = function (t) { void 0 === t && (t = -1), w.log("startLoad(" + t + ")"), this.started = !0, this.networkControllers.forEach((function (e) { e.startLoad(t) })) }, e.stopLoad = function () { w.log("stopLoad"), this.started = !1, this.networkControllers.forEach((function (t) { t.stopLoad() })) }, e.resumeBuffering = function () { this.started && this.networkControllers.forEach((function (t) { "fragmentLoader" in t && t.startLoad(-1) })) }, e.pauseBuffering = function () { this.networkControllers.forEach((function (t) { "fragmentLoader" in t && t.stopLoad() })) }, e.swapAudioCodec = function () { w.log("swapAudioCodec"), this.streamController.swapAudioCodec() }, e.recoverMediaError = function () { w.log("recoverMediaError"); var t = this._media; this.detachMedia(), t && this.attachMedia(t) }, e.removeLevel = function (t) { this.levelController.removeLevel(t) }, e.setAudioOption = function (t) { var e; return null == (e = this.audioTrackController) ? void 0 : e.setAudioOption(t) }, e.setSubtitleOption = function (t) { var e; return null == (e = this.subtitleTrackController) || e.setSubtitleOption(t), null }, s(t, [{ key: "levels", get: function () { var t = this.levelController.levels; return t || [] } }, { key: "currentLevel", get: function () { return this.streamController.currentLevel }, set: function (t) { w.log("set currentLevel:" + t), this.levelController.manualLevel = t, this.streamController.immediateLevelSwitch() } }, { key: "nextLevel", get: function () { return this.streamController.nextLevel }, set: function (t) { w.log("set nextLevel:" + t), this.levelController.manualLevel = t, this.streamController.nextLevelSwitch() } }, { key: "loadLevel", get: function () { return this.levelController.level }, set: function (t) { w.log("set loadLevel:" + t), this.levelController.manualLevel = t } }, { key: "nextLoadLevel", get: function () { return this.levelController.nextLoadLevel }, set: function (t) { this.levelController.nextLoadLevel = t } }, { key: "firstLevel", get: function () { return Math.max(this.levelController.firstLevel, this.minAutoLevel) }, set: function (t) { w.log("set firstLevel:" + t), this.levelController.firstLevel = t } }, { key: "startLevel", get: function () { var t = this.levelController.startLevel; return -1 === t && this.abrController.forcedAutoLevel > -1 ? this.abrController.forcedAutoLevel : t }, set: function (t) { w.log("set startLevel:" + t), -1 !== t && (t = Math.max(t, this.minAutoLevel)), this.levelController.startLevel = t } }, { key: "capLevelToPlayerSize", get: function () { return this.config.capLevelToPlayerSize }, set: function (t) { var e = !!t; e !== this.config.capLevelToPlayerSize && (e ? this.capLevelController.startCapping() : (this.capLevelController.stopCapping(), this.autoLevelCapping = -1, this.streamController.nextLevelSwitch()), this.config.capLevelToPlayerSize = e) } }, { key: "autoLevelCapping", get: function () { return this._autoLevelCapping }, set: function (t) { this._autoLevelCapping !== t && (w.log("set autoLevelCapping:" + t), this._autoLevelCapping = t, this.levelController.checkMaxAutoUpdated()) } }, { key: "bandwidthEstimate", get: function () { var t = this.abrController.bwEstimator; return t ? t.getEstimate() : NaN }, set: function (t) { this.abrController.resetEstimator(t) } }, { key: "ttfbEstimate", get: function () { var t = this.abrController.bwEstimator; return t ? t.getEstimateTTFB() : NaN } }, { key: "maxHdcpLevel", get: function () { return this._maxHdcpLevel }, set: function (t) { (function (t) { return tr.indexOf(t) > -1 })(t) && this._maxHdcpLevel !== t && (this._maxHdcpLevel = t, this.levelController.checkMaxAutoUpdated()) } }, { key: "autoLevelEnabled", get: function () { return -1 === this.levelController.manualLevel } }, { key: "manualLevel", get: function () { return this.levelController.manualLevel } }, { key: "minAutoLevel", get: function () { var t = this.levels, e = this.config.minAutoBitrate; if (!t) return 0; for (var r = t.length, i = 0; i < r; i++)if (t[i].maxBitrate >= e) return i; return 0 } }, { key: "maxAutoLevel", get: function () { var t, e = this.levels, r = this.autoLevelCapping, i = this.maxHdcpLevel; if (t = -1 === r && null != e && e.length ? e.length - 1 : r, i) for (var n = t; n--;) { var a = e[n].attrs["HDCP-LEVEL"]; if (a && a <= i) return n } return t } }, { key: "firstAutoLevel", get: function () { return this.abrController.firstAutoLevel } }, { key: "nextAutoLevel", get: function () { return this.abrController.nextAutoLevel }, set: function (t) { this.abrController.nextAutoLevel = t } }, { key: "playingDate", get: function () { return this.streamController.currentProgramDateTime } }, { key: "mainForwardBufferInfo", get: function () { return this.streamController.getMainFwdBufferInfo() } }, { key: "allAudioTracks", get: function () { var t = this.audioTrackController; return t ? t.allAudioTracks : [] } }, { key: "audioTracks", get: function () { var t = this.audioTrackController; return t ? t.audioTracks : [] } }, { key: "audioTrack", get: function () { var t = this.audioTrackController; return t ? t.audioTrack : -1 }, set: function (t) { var e = this.audioTrackController; e && (e.audioTrack = t) } }, { key: "allSubtitleTracks", get: function () { var t = this.subtitleTrackController; return t ? t.allSubtitleTracks : [] } }, { key: "subtitleTracks", get: function () { var t = this.subtitleTrackController; return t ? t.subtitleTracks : [] } }, { key: "subtitleTrack", get: function () { var t = this.subtitleTrackController; return t ? t.subtitleTrack : -1 }, set: function (t) { var e = this.subtitleTrackController; e && (e.subtitleTrack = t) } }, { key: "media", get: function () { return this._media } }, { key: "subtitleDisplay", get: function () { var t = this.subtitleTrackController; return !!t && t.subtitleDisplay }, set: function (t) { var e = this.subtitleTrackController; e && (e.subtitleDisplay = t) } }, { key: "lowLatencyMode", get: function () { return this.config.lowLatencyMode }, set: function (t) { this.config.lowLatencyMode = t } }, { key: "liveSyncPosition", get: function () { return this.latencyController.liveSyncPosition } }, { key: "latency", get: function () { return this.latencyController.latency } }, { key: "maxLatency", get: function () { return this.latencyController.maxLatency } }, { key: "targetLatency", get: function () { return this.latencyController.targetLatency } }, { key: "drift", get: function () { return this.latencyController.drift } }, { key: "forceStartLoad", get: function () { return this.streamController.forceStartLoad } }], [{ key: "version", get: function () { return "1.5.17" } }, { key: "Events", get: function () { return S } }, { key: "ErrorTypes", get: function () { return L } }, { key: "ErrorDetails", get: function () { return A } }, { key: "DefaultConfig", get: function () { return t.defaultConfig ? t.defaultConfig : ro }, set: function (e) { t.defaultConfig = e } }]), t }(); return fo.defaultConfig = void 0, fo }, "object" == typeof exports && "undefined" != typeof module ? module.exports = i() : "function" == typeof define && define.amd ? define(i) : (r = "undefined" != typeof globalThis ? globalThis : r || self).Hls = i() }(!1);